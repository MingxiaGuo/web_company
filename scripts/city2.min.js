var site_cityUtil=function(){var e,n,t={},i={},c=null,r={1:["华东",[31e4,32e4,33e4,34e4,36e4]],2:["华北",[11e4,12e4,14e4,37e4,13e4,15e4]],3:["华中",[43e4,42e4,41e4]],4:["华南",[44e4,45e4,35e4,46e4]],5:["东北",[21e4,22e4,23e4]],6:["西北",[61e4,65e4,62e4,64e4,63e4]],7:["西南",[5e5,53e4,52e4,54e4,51e4]],8:["港澳台",[81e4,82e4,71e4]],9:["海外",[99e4]]},l={1:["A-G",[34e4,82e4,11e4,5e5,35e4,62e4,44e4,45e4,52e4]],2:["H-K",[46e4,13e4,23e4,41e4,42e4,43e4,32e4,36e4,22e4]],3:["L-S",[21e4,15e4,64e4,63e4,37e4,31e4,14e4,61e4,51e4]],4:["T-Z",[12e4,71e4,65e4,54e4,81e4,53e4,33e4]],5:["OS",[99e4]]},u=function(e,n){var c=[];return $.ajax({url:"../ajax/city_h.jsp?cmd=getCityInfo&Lcid="+n+"&cityCodeList="+Fai.encodeUrl($.toJSON(e)),type:"POST",async:!1,success:function(e){(e=$.parseJSON(e)).success&&($.each(e.cityInfoList,function(e,c){2052==n||1028==n?t[c.cityCode]=c.cityInfo:i[c.cityCode]=c.cityInfo}),c=e.cityInfoList)}}),c},s=function(e,n,c){if(!e||isNaN(e)||e<=0)return[];var r=[];void 0!==(r=2052==n||1028==n?t:i)[e]&&null!=r[e]||("string"!=typeof e&&(e+=""),u(new Array(e),n));var l=void 0;return r[e]&&(l=r[e][2]),l&&(0==l.length?"street"==c&&(l=void 0):"cityOrCounty"==c&&l[0].id.length>6&&(l=void 0)),l||$.ajax({url:"../ajax/city_h.jsp?cmd=cityGetChildren&type="+c+"&Lcid="+n+"&code="+e,type:"POST",async:!1,success:function(n){(n=$.parseJSON(n)).success?(l=n.childList,r[e]&&(r[e][2]=l),$.each(l,function(e,n){var t=[];t.push(n.name),t.push(n.parentid),r[n.id]=t})):l=[]},error:function(e){l=[]}}),l},o=function(t,i){i?e=e||[]:n=n||[];var c=i?e:n,l=i?2052:1033;c.length||$.ajax({url:"../ajax/city_h.jsp?cmd=getProvinceInfo&Lcid="+l,type:"POST",async:!1,success:function(e){if((e=$.parseJSON(e)).success)for(var n=0,t=e.provinceInfoList.length;n<t;n++)c.push(e.provinceInfoList[n])}});try{var u=r[t][1],s=[];return $.each(c,function(e,n){$.inArray(parseInt(n.id),u)>=0&&s.push(n)}),s}catch(e){return c}},a=function(e){return"string"!=typeof e&&(e+=""),""!=t[e]&&"undefined"!=t[e]&&null!=t[e]||u(new Array(e),2052),!(!t[e]||"1"!==t[e][1])},h=function(e){var n;if(e)return e.length<=3&&("市"==e.slice(e.length-1,e.length)||"县"==e.slice(e.length-1,e.length)||"盟"==e.slice(e.length-1,e.length))?e.slice(0,e.length-1):"群岛的岛礁及其海域"==(n=e.slice(e.length-9))?e.slice(0,e.length-9):"土家族苗族自治州"==(n=e.slice(e.length-8))||"傣族景颇族自治州"==n||"哈尼族彝族自治州"==n||"布依族苗族自治州"==n||"蒙古族藏族自治州"==n?e.slice(0,e.length-8):"藏族羌族自治州"==(n=e.slice(e.length-7))||"壮族苗族自治州"==n||"黎族苗族自治县"==n||"苗族侗族自治州"==n?e.slice(0,e.length-7):"傈僳族自治州"==(n=e.slice(e.length-6))||"哈萨克自治州"==n?e.slice(0,e.length-6):"彝族自治州"==(n=e.slice(e.length-5))||"藏族自治州"==n||"白族自治州"==n||"傣族自治州"==n||"黎族自治县"==n||"回族自治州"==n||"蒙古自治州"==n?e.slice(0,e.length-5):""==(n=e.slice(e.length-4))?e.slice(0,e.length-4):"蒙古族"==(n=e.slice(e.length-3))||"自治州"==n?e.slice(0,e.length-3):"群岛"==(n=e.slice(e.length-2))||"地区"==n||"林区"==n?e.slice(0,e.length-2):"市"==e.slice(e.length-1,e.length)||"县"==e.slice(e.length-1,e.length)||"盟"==e.slice(e.length-1,e.length)?e.slice(0,e.length-1):e},g=function(e){return s(e,2052,"cityOrCounty")},f=function(e){if(!e)return{id:e,name:"",parentId:0};var n=t[e];return n?{id:e,name:n[0],parentId:n[1]}:("string"!=typeof e&&(e+=""),(n=(u(new Array(e),2052)[0]||{}).cityInfo)?{id:e,name:n[0],parentId:n[1]}:{id:e,name:"",parentId:0})},y=function(e){if(e){if(3==e.length&&"省"==e.slice(e.length-1,e.length))return e.slice(0,e.length-1);var n=e.slice(e.length-6);return"维吾尔自治区"==n?e.slice(0,e.length-6):"特别行政区"==(n=e.slice(e.length-5))||"壮族自治区"==n||"回族自治区"==n?e.slice(0,e.length-5):"自治区"==(n=e.slice(e.length-3))?e.slice(0,e.length-3):"省"==e.slice(e.length-1,e.length)?e.slice(0,e.length-1):e}},p=function(e){return s(e,1033,"cityOrCounty")},d=function(e){if(e)return"Special Administrative Region"==e.slice(e.length-29,e.length)&&(e=e.slice(0,e.length-30)),"Autonomous Region"==e.slice(e.length-17,e.length)&&(e=e.slice(0,e.length-18)),"Province"!=e.slice(e.length-8,e.length)&&"province"!=e.slice(e.length-8,e.length)||(e=e.slice(0,e.length-9)),"Zhuang"==e.slice(e.length-6,e.length)&&(e=e.slice(0,e.length-7)),"Uygur"==e.slice(e.length-5,e.length)&&(e=e.slice(0,e.length-6)),"Hui"==e.slice(e.length-3,e.length)&&(e=e.slice(0,e.length-4)),e},m=function(e){if(e)return"Tibetan Autonomous Prefecture"==e.slice(e.length-29,e.length)&&(e=e.slice(0,e.length-30)),"Li and Miao Autonomous"==e.slice(e.length-22,e.length)&&(e=e.slice(0,e.length-23)),"Li Autonomous"==e.slice(e.length-13,e.length)&&(e=e.slice(0,e.length-14)),"Prefecture"==e.slice(e.length-10,e.length)&&(e=e.slice(0,e.length-11)),"Mongolian"==e.slice(e.length-9,e.length)&&(e=e.slice(0,e.length-10)),"County"==e.slice(e.length-6,e.length)&&(e=e.slice(0,e.length-7)),"City"==e.slice(e.length-4,e.length)&&(e=e.slice(0,e.length-5)),e};return{getAreaGroups:function(){return r},getAreaGroupsPinYin:function(){return l},getProvince:function(e){return function(e){return o(e,!0)}(e)},getCities:function(e){return g(e)},getCounty:function(e){return g(e)},getStreet:function(e){return s(e,2052,"street")},getInfo:function(e){return f(e)},simpleProvinceName:function(e){$.each(e,function(n,t){e[n].name=y(e[n].name)})},simpleProvinceNameStr:function(e){return y(e)},simpleCityName:function(e){$.each(e,function(n,t){e[n].name=h(e[n].name)})},simpleCityNameStr:function(e){return h(e)},simpleProvinceNameEn:function(e){$.each(e,function(n,t){e[n].name=d(e[n].name)})},simpleCityNameEn:function(e){$.each(e,function(n,t){e[n].name=m(e[n].name)})},simpleCityNameStrEn:function(e){return m(e)},simpleProvinceNameStrEn:function(e){return d(e)},getProvinceEn:function(e){return function(e){return o(e,!1)}(e)},getCitiesEn:function(e){return p(e)},getCountyEn:function(e){return p(e)},getStreetEn:function(e){return s(e,1033,"street")},getInfoEn:function(e){return function(e){if(!e)return{id:e,name:"",parentId:0};var n=i[e];return n?{id:e,name:n[0],parentId:n[1]}:("string"!=typeof e&&(e+=""),(n=(u(new Array(e),1033)[0]||{}).cityInfo)?{id:e,name:n[0],parentId:n[1]}:{id:e,name:"",parentId:0})}(e)},simpleCityListStr:function(e){if(!e||e.length<=0)return"未添加地区";var n={};$.each(e,function(e,t){if(!((""+t).length<6)){var i=f(t);n[i.parentId]?n[i.parentId].count++:n[i.parentId]={count:1,objs:[]},n[i.parentId].objs.push(i)}});var r=[],l=[];$.each(n,function(e,n){(function(e,n){if(null!=c)return c[n];c={};var r=[];return r=2052==e||1028==e?t:i,$.each(r,function(e,n){var t=c[n[1]]||0;t++,c[n[1]]=t}),c[n]})(2052,e)==n.count?(r.push(y(f(e).name)),r.push("、")):$.each(n.objs,function(e,n){l.push(h(n.name)),l.push("、")})});var u=r.join("")+l.join("");return u.slice(0,u.length-1)},isValidProvince:function(e){return a(e)},isValidCity:function(e,n){return function(e,n){if("string"!=typeof e&&(e+=""),""!=t[e]&&"undefined"!=t[e]&&null!=t[e]||u(new Array(e),2052),n){if("string"!=typeof n&&(n+=""),""!=t[n]&&"undefined"!=t[n]&&null!=t[n]||u(new Array(n),2052),t[e]&&t[e][1]===n&&a(n))return!0}else if(t[e]&&"1"!==t[e][1])return!0;return!1}(e,n)},getCityList:function(e,n){return u(e,n)},getAllCityInfo:function(e){return function(e){var n=[];return $.ajax({url:"../ajax/city_h.jsp?cmd=getAllCityInfo",type:"POST",async:!1,success:function(c){(c=$.parseJSON(c)).success&&(2052==e||1028==e?t=c.cityInfoList:i=c.cityInfoList,n=c.cityInfoList)}}),n}(e)},initProvinces:function(t){return function(t){var i=[];$.each(l,function(e,n){$.each(n[1],function(e,n){i.push(n+"")})});var c=u(i,t);2052==t||1028==t?e=c:n=c}(t)},getCityFormJScache:function(e,n){return function(e,n){var c=[],r=[];return c=2052==e||1028==e?t:i,$.each(c,function(e,t){var i={};t[1]==n&&(i.id=e,i.name=t[0],i.parentid=t[1],r.push(i))}),r}(e,n)}}}();