function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e){var t={inputText:function(t,i,o){var n=null,r=o.data.ref,l=o.context.$refs[r];l.$on("on-undo-focus",function(e){n=e}),l.$on("on-undo-blur",function(t){n!==t&&e.run(function(){},{type:"vue.directive",detail:"vue.input",undoSame:!1,undoFn:a,undoArgs:[l,n],redoSame:!1,redoFn:a,redoArgs:[l,t]})})},inputNumber:function(t,i,o){var n=null,r=o.data.ref,l=o.context.$refs[r];l.$on("on-undo-focus",function(e){n=e}),l.$on("on-undo-blur",function(t){n!==t&&e.run(function(){},{type:"vue.directive",detail:"vue.input",undoSame:!1,undoFn:a,undoArgs:[l,n],redoSame:!1,redoFn:a,redoArgs:[l,t]})})},checkbox:function(t,i,o){var n=o.data.ref,r=o.context.$refs[n];r.$on("on-undo",function(t,i){e.run(function(){},{type:"vue.directive",detail:"vue.checkbox",undoSame:!1,undoFn:a,undoArgs:[r,i],redoSame:!1,redoFn:a,redoArgs:[r,t]})})},radio:function(t,i,o){var a,n=o.data.ref,l=o.context.$refs[n],s=o.data.directives,d=o.data.model;if(!d)for(var u in s)if(s[u]&&"model"==s[u].name){d=s[u];break}if(!d)return;a=d.expression,l.$on("on-undo",function(t,i){e.run(function(){},{type:"vue.directive",detail:"vue.radio",undoSame:!1,undoFn:r,undoArgs:[l,a,i],redoSame:!1,redoFn:r,redoArgs:[l,a,t]})})},select:function(t,i,o){var n=o.data.ref,r=o.context.$refs[n];r.$on("on-undo",function(t,i){e.run(function(){},{type:"vue.directive",detail:"vue.select",undoSame:!1,undoFn:a,undoArgs:[r,i],redoSame:!1,redoFn:a,redoArgs:[r,t]})})},selectGraphic:function(t,i,a){i.value?i.value:a.context;var n=a.data.ref,r=a.context.$refs[n];r.$refs.selectGraphic.$on("on-undo",function(t,i){e.run(function(){},{type:"vue.directive",detail:"vue.selectGraphoict",undoSame:!1,undoFn:o,undoArgs:[r,i],redoSame:!1,redoFn:o,redoArgs:[r,t]})})},bgSquareGrid:function(t,i,a){var n=a.data.ref,r=a.context.$refs[n];r.$on("on-undo",function(t,i){e.run(function(){},{type:"vue.directive",detail:"vue.bgSquareGrid",undoSame:!1,undoFn:o,undoArgs:[r,i],redoSame:!1,redoFn:o,redoArgs:[r,t]})})},colorpicker:function(t,i,a){var n=a.data.ref,r=a.context.$refs[n];r.$on("on-undo",function(t,i){e.run(function(){},{type:"vue.directive",detail:"vue.colorpicker",undoSame:!1,undoFn:o,undoArgs:[r,i],redoSame:!1,redoFn:o,redoArgs:[r,t]})})},fileUpload:function(t,i,o){var a=o.data.ref,n=o.context.$refs[a];n.$on("on-undo",function(t,i){e.run(function(){},{type:"vue.directive",detail:"vue.fileUpload",undoSame:!1,redoSame:!1,undoFn:n.fileChangeCallBack,redoFn:n.fileChangeCallBack,undoArgs:[JSON.stringify(i)],redoArgs:[JSON.stringify(t)]})})},switchBtn:function(t,i,o){var n=o.data.ref,r=o.context.$refs[n];r.$on("on-undo",function(t){e.run(function(){},{type:"vue.directive",detail:"vue.switch",undoSame:!1,undoFn:a,undoArgs:[r,!t],redoSame:!1,redoFn:a,redoArgs:[r,t]})})},slider:function(t,i,o){var n=o.data.ref,r=o.context.$refs[n];r.$on("on-undo",function(t,i){e.run(function(){},{type:"vue.directive",detail:"vue.slider",undoSame:!1,undoFn:a,undoArgs:[r,i],redoSame:!1,redoFn:a,redoArgs:[r,t]})})},textarea:function(t,i,o){var a,r=null,l=o.data.directives,s=o.context;for(var d in l)if(l[d]&&"model"==l[d].name){a=l[d].expression;break}if(!a)return;t.addEventListener("focus",function(){r=this.value},!1),t.addEventListener("blur",function(){var t=this.value;r!==t&&e.run(function(){},{type:"vue.directive",detail:"vue.textarea",undoSame:!1,undoFn:n,undoArgs:[s,a,r],redoSame:!1,redoFn:n,redoArgs:[s,a,t]})},!1)},bg:function(t,i,o){var a=o.componentOptions.propsData.data,n=o.context;if(!a)return;var r=o.data.ref,u=n.$refs[r],h=["color","picScale","repeat","effectType","imgPath","imgId","opacity"],p=!1;u.$on("on-undo",function(t,i){var o=function e(t,i,o){if(t===i)return!0;var a,n;if(s(t)||l(t)){for(o=o||Object.keys(t),a=o.length-1;a>=0;a--){if(!i)return!1;if(n=o[a],!e(t[n],i[n]))return!1}return!0}return t===i}(t,i,h);if(!o&&!p){var a=d({},i,h),n=d({},t,h);e.run(function(){},{type:"vue.directive",detail:"vue.slider",undoSame:!1,undoFn:r,undoArgs:[u,a],redoSame:!1,redoFn:r,redoArgs:[u,n]})}function r(e,t){p=!0,e.bgRepeatEmit(t.repeat),e.effectTypeEmit(t.effectType),e.bgColorEmit(t.color),e.bgScaleEmit(t.picScale),e.bgDataEmit({imgPath:t.imgPath,imgId:t.imgId}),e.bgOpacityEmit(t.opacity),e.bgRepeatEmit(t.repeat),Vue.nextTick(function(){p=!1})}})}};function o(e,t,i){e.$emit("on-change",t,i),e.$emit("input",t,i)}function a(e,t,i){e.currentValue=t,e.$emit("on-change",t,i),e.$emit("input",t,i)}function n(e,t,i){e[t]=i}function r(e,t,i){var a,n,r=e.$vnode.context,l=t.split(".");for(a=0,n=l.length-1;a<n;a++)r=r[l[a]];r[l[n]]=i,o(e,i)}function l(e){return"[object Array]"===Object.prototype.toString.call(e)}function s(e){return"[object Object]"===Object.prototype.toString.call(e)}function d(e,t,o){var a=s(t),n=l(t),r=a||n,d=a?{}:[];if(e=e||(a?{}:[]),o&&r){for(i=o.length-1;i>=0;i--)d[o[i]]=t[o[i]];t=d}return r?function(e,t){for(var i in t)e[i]=t[i];return e}(e,t):t}Vue.directive("undo",{bind:function(e,i,o){var a,n=Object.keys(t);for(a=n.length-1;a>=0;a--)if(n[a]in i.modifiers){t[n[a]](e,i,o);break}}})}(Fai.top._undo||(Fai.top._undo={})),function(e){e.errTips=function(e){window.console&&console.log(new Error(e))},e.copyData=function(e){var t=Object.prototype.toString;return"[object Object]"===t.call(e)?$.extend(!0,{},e):"[object Array]"===t.call(e)?$.extend(!0,[],e):e},e.dataCompare=function(t,i){if(t===i)return!0;var o=Object.prototype.toString;if("[object Object]"===o.call(t)){for(var a in t){if(!i)return!1;if(!e.dataCompare(t[a],i[a]))return!1}return!0}if("[object Array]"===o.call(t)){for(var n=t.length-1;n>=0;n--){if(!i)return!1;if(!e.dataCompare(t[n],i[n]))return!1}return!0}return t===i};var t={navResize:{parent:!0,top:!0,left:!0,width:!0,height:!0},resize:{top:!0,left:!0,width:!0,height:!0,index:!0},drag:{index:!0,parent:!0,top:!0,left:!0},sort:{parent:!0,index:!0,top:!0,left:!0,width:!0,height:!0}};e.getElemInfo=function(e,i){var o={};if(o.module=e,o.elem=e,e.length<1)throw new Error("获取不到模块！");return i?(keys="string"==typeof i?t[i]:$.extent(infotype[i.type],i),elemInlineStyle=e[0].style,keys.index&&(o.index=e.parent().children(keys.sibilingSel||".form").index(e)),keys.parent&&(o.parent=e.parent()),keys.width&&(o.width=elemInlineStyle.width||""),keys.height&&(o.height=elemInlineStyle.height||e.css("height")),keys.top&&(o.top=elemInlineStyle.top||e.position().top),keys.left&&(o.left=elemInlineStyle.left||e.position().left),o):o},e.insertElem=function(t){t&&(t.elem=t.elem||t.module,t.parent=t.parent||t.elem.parent(),t.sibilingSel=t.sibilingSel||".form",t.elem.length<1&&".form"===t.sibilingSel&&(t.elem=Fai.top.$("#module"+t.id)),t.elem.length>0&&!function(e){var t=e.elem,i=e.index,o=e.parent||t.parent(),a=o.children(e.sibilingSel||".form"),n=a.length;if(Fai.isNull(i)||n<1)return o.append(t),!0;if(a.eq(i).is(t))return!0;a.eq(i).prevAll().filter(t).length>0&&(i+=1);return i<=0?(a.first().before(t),!0):i-1>=n?(a.last().after(t),!0):a.eq(i-1).is(t)?(a.eq(i).after(t),!0):(a.eq(i-1).after(t),!0)}(t)?e.errTips("插入节点失败！"):(function(e){var t=e.elem,i=e.left,o=e.top;Fai.isNull(o)||t.css("top",o);Fai.isNull(i)||t.css("left",i)}(t),function(e){var t=e.elem,i=e.width,o=e.height;Fai.isNull(o)||t.css("height",o);Fai.isNull(i)||t.css("width",i)}(t)))},jQuery.extend=jQuery.fn.extend=function(){var e,t,i,o,a,n,r=arguments[0]||{},l=1,s=arguments.length,d=!1;for("boolean"==typeof r&&(d=r,r=arguments[1]||{},l=2),"object"===_typeof(r)||jQuery.isFunction(r)||(r={}),s===l&&(r=this,--l);l<s;l++)if(null!=(e=arguments[l]))for(t in e)i=r[t],r!==(o=e[t])&&(d&&o&&(jQuery.isPlainObject(o)||(a=jQuery.isArray(o)))?(a?(a=!1,n=i&&jQuery.isArray(i)?i:[]):n=i&&jQuery.isPlainObject(i)?i:{},r[t]=jQuery.extend(d,n,o)):void 0!==o&&(r[t]=o));return r}}(Fai.top._undo||(Fai.top._undo={})),function(e){function t(e){this.undoStack=[],this.redoStack=[],this.keep=e}t.prototype.undoPush=function(e){this.undoStack.push(e),this.changed(),this.lenghtCheck()},t.prototype.undoPop=function(){if(this.canUndo()){var e=this.undoStack.pop();return this.redoPush(e),e}},t.prototype.undoLength=function(){return this.undoStack.length},t.prototype.canUndo=function(){return this.undoLength()>0},t.prototype.clearUndo=function(){this.undoStack=[],this.changed()},t.prototype.undo=function(){return!!this.canUndo()&&(this.undoPop().undo(),this.changed(),!0)},t.prototype.redoPush=function(e){this.redoStack.push(e),this.changed()},t.prototype.redoPop=function(){if(0!=this.redoLength()){var e=this.redoStack.pop();return this.undoPush(e),this.changed(),e}},t.prototype.redoLength=function(){return this.redoStack.length},t.prototype.canRedo=function(){return this.redoLength()>0},t.prototype.clearRedo=function(){this.redoStack=[],this.changed()},t.prototype.redo=function(){return!!this.canRedo()&&(this.redoPop().redo(),this.changed(),!0)},t.prototype.filter=function(e){this.undoStack=this.undoStack.filter(e),this.redoStack=this.redoStack.filter(e)},t.prototype.changed=function(){},t.prototype.lenghtCheck=function(){this.undoLength()>this.keep&&this.undoStack.shift()},e.stack=new t(40)}(Fai.top._undo||(Fai.top._undo={})),function(e){function t(){}function i(e){var i={id:null,type:"",detail:"",moduleId:"",context:null,doArgs:[],undoArgs:[],redoArgs:null,fn:t,undoFn:t,redoFn:t,undoSame:!0,redoSame:!0,oldVal:null,newVal:null,betweenFn:t,callBackFn:t};e=$.extend(i,e),this.type=e.type,this.detail=e.detail,this.id=e.id,this.undoSame=e.undoSame,this.redoSame=e.redoSame,this.context=e.context||null,this.fn=e.fn,this.undoFn=e.undoSame?e.fn:e.undoFn,this.redoFn=e.redoSame?e.fn:e.redoFn,this.betweenFun=e.betweenFn,this.doArgs=e.doArgs,this.undoArgs=e.undoArgs,this.redoArgs=e.redoArgs||e.doArgs,this.callBackFn=e.callBackFn}e.inOperation=!1,Fai.top.Site.undoFilter=function(t){jzUtils.run({name:"filter",base:e},t)},e.clear=function(){Fai.top._undo.stack.clearRedo(),Fai.top._undo.stack.clearUndo(),e.allow.undo=e.stack.undoStack.length,e.allow.redo=e.stack.redoStack.length},e.run=function(e,t){!function(e,t){(t=t||{}).fn=e,new i(t).execute()}(e,t)},e.filter=function(t){e.stack.filter(t)},i.prototype.execute=function(){this.fn.apply(this.context,this.doArgs),this.callBackFn(this.context),e.inOperation||(e.inOperation=!0,e.stack.clearRedo(),e.stack.undoPush(this),e.inOperation=!1,this.refreshAllow())},i.prototype.undo=function(){e.inOperation=!0,this.betweenDo("undo"),this.undoFn.apply(this.context,this.undoArgs),this.callBackFn(this.context),e.inOperation=!1,this.refreshAllow()},i.prototype.redo=function(){e.inOperation=!0,this.betweenDo("redo"),this.redoFn.apply(this.context,this.redoArgs),this.callBackFn(this.context),e.inOperation=!1,this.refreshAllow()},i.prototype.betweenDo=function(e){},i.prototype.refreshAllow=function(t){e.allow.undo=e.stack.undoStack.length,e.allow.redo=e.stack.redoStack.length}}(Fai.top._undo||(Fai.top._undo={})),function(e){function t(e){if(window.localStorage){var t=JSON.parse(localStorage[e]||"{}");t.key=(t.key||0)+1,localStorage[e]=JSON.stringify(t)}switch(e){case"undoCount":Site.logDog(200265,2);break;case"redoCount":Site.logDog(200265,3);break;case"saveCount":0!=Fai.top._Global.styleChangeNum&&(Fai.top._Global.saveBtnState=1,Fai.top._Global.showSaveGuide=!1),Site.logDog(200265,1),Site.saveStyle2()}}e.executeUndo=function(){if(0==Fai.top._Global.saveBtnState)return Site.styleChanged(),e.stack.undo()},e.executeRedo=function(){if(0==Fai.top._Global.saveBtnState)return Site.styleChanged(),e.stack.redo()};var i={ctrlZ:function(){e.executeUndo()&&t("undoCount")},ctrlY:function(){e.executeRedo()&&t("redoCount")},ctrlS:function(){0!=Fai.top._changeStyleNum&&t("saveCount")}};Fai.top.$(document).off("keydown.undo").on("keydown.undo",function(e){var t,o=function(e){if(!(e=e||window.event)||!e.ctrlKey&&!e.metaKey)return;var t=e.keyCode,i=null;switch(t){case 90:i="ctrlZ";break;case 89:i="ctrlY";break;case 83:i="ctrlS"}return i}(e);if(o&&(!document.hasFocus||!document.hasFocus()||"body"==(t=document.activeElement).tagName.toLowerCase()||"radio"==t.type||"checkbox"==t.type)){var a=$(".moduleMask");a.length&&a.first().click(),e.preventDefault(),i[o]()}})}(Fai.top._undo||(Fai.top._undo={})),function(e){function t(e){e.removeClass("formInZone").attr({_side:0,_intab:0,_inmulmcol:0,_infullmeasure:0,_inpack:0,_inpopupzone:0})}e.getModuleCurState=function(e){return 0==Site.getFlutterStatus2(e)?4:0==Site.getLockStatus(e)?2:0==Site.getAbsStatus(e)?5:0==Site.getSideStatus(e)?3:1},e.moduleSortStopUndo=function(i){if(i){var o=i.module;if(!(o.length<1)&&o.hasClass("form")&&o.attr("id")){var a=parseInt(i.parent.attr("id").replace("fk-packContent",""));if($.inArray(a,Fai.top._delModuleIdList)>-1&&(i.parent=o.parent()),i.parent.length<1)e.errTips("撤销或重做操作找不到父模块！");else{var n,r,l,s=o.attr("id"),d=s.replace("module",""),u=(i.undoState,i.parent,i.autoHeight),h=Site.checkNestModule(o),p=o.width(),c=o.height(),f=h.inTab,m=(h.inPack,h.parentId);e.insertElem(i),Site.refreshForms(),h.inPack&&jzUtils.run({name:"_elemZone.refreshZoneEditBtn",base:Fai.top},Fai.top.$("#fk-packContent"+h.parentId)),r=e.getModuleCurState(s),l=o.parent(),1!=r||l.hasClass("elemZone")?5==r?(t(o),Site.placeAbsModule(o),Site.floatModuleDraggable(o),Site.refreshAllAbsForms(),Site.refreshResizableHandles(o)):l.hasClass("elemZone")&&(t(o),Site.moduleToElemZone(o)):(t(o),o.removeClass("formInZone").removeCss(["position","left","top"]),1==u&&Site.autoModuleHeight(d),Site.dockModuleResize(o),Site.refreshModuleSizeHandle(o)),n=Site.checkNestModule(o),Site.moduleLeaveTab(o,f),function(e){if(!Site.isModule(e,97))return;e.find(".mallHead").click().click()}(o),Site.photoMoreCardResize(o,{orWidth:p,orHeight:c}),Site.searchModuleSizeChagne(o,{orWidth:p,orHeight:c}),Site.fixPhotoGallery(o),function(e){var t,i=e.attr("_moduleid"),o=!1,a="formTabButtonList",n=e.parent();n.hasClass("formTabButtonYList")&&(a="formTabButtonYList",o=!0);if(!n.hasClass(a)&&!n.hasClass("formTabContent"))return;t=n.attr("id").replace(a,"").replace("formTabContent",""),h=$("#formTabButtonList"+t);var r=e.index(),l=h.children(".formTabButton").length;r>l&&(r=l-1);e.attr("_intab",t),e.attr("_inmulmcol",0),e.attr("_infullmeasure",0),e.attr("_inpack",0),r>0?Fai.top.$("#formTabContent"+t).children().eq(r-1).after(e):Fai.top.$("#formTabContent"+t).prepend(e);var s=Site.getModuleTitle(e).replace(/<br\/>/,""),d=Site.isModule(e,[3,16]);Fai.top.$("#formTabButton"+i).remove();var u=[];u.push("<div class='formTabButton' id='formTabButton"+i+"' tabModuleId='"+i+"' onclick='Site.changeLiCnt("+i+", "+d+", 29)'>"),u.push("<div class='formTabLeft'></div>"),u.push("<div class='formTabMiddle'>"),o&&u.push("<span class='tabButtonText'>");u.push(s),o&&u.push("</span>");u.push("</div>"),u.push("<div class='formTabRight'></div>"),(Fai.top._uiMode||Fai.top._isTemplateVersion2)&&u.push("<div class='tabItemTriangle'></div>");u.push("</div>");var h=Fai.top.$("#formTabButtonList"+t);r>0?((Fai.top._uiMode||Fai.top._isTemplateVersion2)&&u.unshift("<div class='tabItemSep'><div class='commonTabItemSep'></div></div>"),h.children(".formTabButton").eq(r-1).after(u.join(""))):((Fai.top._uiMode||Fai.top._isTemplateVersion2)&&h.find(".formTabButton").length>0&&!h.children().first().hasClass("tabItemSep")&&u.push("<div class='tabItemSep'><div class='commonTabItemSep'></div></div>"),h.prepend(u.join("")));h.hasClass("formTabButtonYList")&&h.find(".tabYListPlaceholder").length<1&&h.append($("<td class='tabYListPlaceholder'></td>"));var p=200,c=top.$("#formTabContent"+i).children(".formTabCntId");c.length>0&&(p=c.first().height());var f="";p&&(f=" style='height:"+p+"px !important;'");Fai.top.$("#module"+i).parent().hasClass("formTabCntId")||Fai.top.$("#module"+i).hasClass("formTabCntId")||Fai.top.$("#module"+i).wrap("<div class='formTabCntId' id='formTabCntId"+i+"'"+f+"></div>");if(Fai.top.Site.bindInTabSwitch(),Site.checkNestModule(e).inTab){var m=Site.getModuleAttrPattern(i).border;m&&(m.y=1,Site.hideModuleBorder(i))}}(o),Site.isModule(o,[86,79,81])&&(i.removeWrapPack&&Site.delWrapPackModule(m),Site.moveSpecialModuleInNewPack(d,!0)),n.inPack&&Fai.top._elemZone.refreshZoneEditBtn($("#module"+n.parentId)),$(".g_middlePlaceholder").remove(),Site.refreshModuleSingAttrCls(o)}}}}}(Fai.top._undo||(Fai.top._undo={})),function(e){e.elemZoneResizeUndo=function(t){if(t){var i=t.module.width(),o=t.module.height();e.insertElem(t);var a=t.module,n=Site.checkNestModule(a),r=a.attr("_moduleid"),l=r.replace("module",""),s=a.attr("_side");Site.protectZoneElemView(a),Site.isModule(a,[35,29])&&a.attr("_mousein",1),Site.styleChanged(),Fai.top._moduleMoved++,Site.getModuleAttrPattern(l).changed=!0,Site.setModuleAttrDataChange(n.parentId),$(a).attr("_autoHeight",0),Site.refreshModuleHeight(l),2!=s&&Site.refreshAbsFloatForm(a),Site.refreshSideBtn(a),Site.enableEditLayer(),Site.moduleSizeChange("module"+l),Site.isModule(a,[5,77])&&Site.refreshModulePhotoSwitch(l),Site.searchModuleSizeChagne(a,{orWidth:i,orHeight:o}),Fai.top.$("body").enableSelection(),a.trigger("Fai_onModuleSizeChange"),function(e){var t=e.module,i=t.width(),o=t.height(),a=t.position(),n=a.left,r=a.top,l=Fai.top.$("#"+e.parentId),s=l.width(),d=l.height(),u=!1,h=!1;n>=s?(n=s-i,u=!0):n<=-i&&(n=0,u=!0);r>=d?(r=d-o,h=!0):r<=-o&&(r=0,h=!0);u&&t.css("left",n+"px");h&&t.css("top",r+"px")}({module:a,parentId:n.realParentId}),Site.triggerGobalEvent("resizableModuleChange",l),Fai.top.$("#absAlignTop, #absAlignRight, #absAlignBottom,#absAlignLeft").hide(),Site.photoMoreCardResize(a,{orWidth:i,orHeight:o}),Site.fixPhotoGallery(a),Site.isModule(a,97)&&(a.find(".mallHead").click(),$(".styleMall"+r).stop(!0,!0).show()),Site.triggerGobalEvent("changeParentModuleHeightToAuto",{id:r}),Site.resizeModule.refreshFullwidthBtn(a)}}}(Fai.top._undo||(Fai.top._undo={})),function(e){e.floatBtnResizeUndo=function(t){if(t){e.insertElem(t);var i=t.module,o=i.attr("id").replace("module",""),a=Site.checkNestModule(i),n=i.find(".floatBtn"),r=2*parseInt(n.css("borderLeftWidth"))||0;Site.setModuleStyleCssList(o,[{cls:".floatBtn",key:"width",value:i.width()-r+"px"},{cls:".floatBtn",key:"height",value:i.height()-r+"px"},{cls:".floatBtn",key:"line-height",value:i.height()-r+"px"}]),Site.getModuleAttrPattern(o).changed=!0;var l=Site.getModuleAttrPattern(o).floatBtn;l.s=l.s||{},l.s.t=1,l.s.w=parseInt(n.width()),l.s.h=parseInt(n.height()),Fai.top._moduleMoved++,Site.setFlBtnModuleWidth(i),Site.styleChanged(),Site.moduleSizeChange("module"+o),i.trigger("Fai_onModuleSizeChange"),a.inPack&&Site.setModuleAttrDataChange(a.parentId),Site.protectPackModuleResizable(i),setTimeout(function(){Site.triggerGobalEvent("changeParentModuleHeightToAuto",{id:o})},0),"fk-webFooterZone"==i.parent().attr("id")&&zUtils.run({name:"_elemZone.refreshFooterHeightForManage",base:Fai.top},i)}}}(Fai.top._undo||(Fai.top._undo={})),function(e){e.floatSimpleTextResizeUndo=function(t){if(t){e.insertElem(t);var i=t.module,o=i.attr("id").replace("module",""),a=i.attr("_side");Site.styleChanged(),Fai.top._moduleMoved++,Site.getModuleAttrPattern(o).changed=!0,$("#fkEditor-module"+o).css({width:i.width(),height:i.height()}),i.find(".fk-editor-vertical-rl").length>0||i.find(".fk-editor-vertical-lr").length>0?Site.simpleTextAutoWidth("module"+o):Site.autoModuleHeight(o),i.attr("_autoHeight",0),Site.refreshModuleHeight(o),2!=a&&Site.refreshAbsFloatForm(i),i.find(".fk-editor-vertical-rl").length>0||i.find(".fk-editor-vertical-lr").length>0?(i.css("width","auto"),i.css("width",i.find(".fk-editor").width())):Site.absModuleAutoHeight(o),Site.refreshSideBtn(i),Site.enableEditLayer(),Site.moduleSizeChange("module"+o),Fai.top.$("body").enableSelection(),i.trigger("Fai_onModuleSizeChange"),Site.triggerGobalEvent("resizableModuleChange",o),Fai.top.$("#absAlignTop, #absAlignRight, #absAlignBottom,#absAlignLeft").hide(),i.find(".fk-editor").attr("_autowidth",1),Site.removeModuleMask(),Site.simpleTextSetCgData("module"+o)}}}(Fai.top._undo||(Fai.top._undo={})),function(e){e.floatImgResizeUndo=function(t){if(t){var i=t.module,o=i.width(),a=i.height(),n=i.find(".floatImgWrap").width(),r=i.find(".floatImgWrap").height();e.insertElem(t);var l=i.attr("id").replace("module");i.find(".float_in_img").css({width:i.width()-1,height:i.height()}),i.find(".floatImgWrap").css({width:n*(i.width()/o),height:r*(i.height()/a)});var s=i.data("imgShapeEft");i.data("imgHoverEft");if(s&&s.imgShapeType){var d=s.imgShapeType,u=i.find(".floatImgWrap").find("img");u.height(),u.width();2!=d&&4!=d||i.height()>i.width()&&i.find(".floatImgWrap").css({"margin-top":(i.height()-i.width())/2+"px",height:i.width()+"px"})}var h=i.width()-1,p=i.height(),c=h>p?p:h;i.find(".float_in_img").hasClass("mr")&&h<260&&(c=h/2),i.find(".float_in_img").css({"font-size":c,"line-height":p+"px"}),i.find(".J_hoverImage").css({"font-size":c,"line-height":p+"px"});var f=Site.checkNestModule(i);$(".draggableBtn").css({opacity:"1"}),Site.enableEditLayer(),i.children(".ui-resizable-handle").show(),Fai.top._moduleMoved++,Site.getModuleAttrPattern(l).changed=!0,Site.styleChanged(),Site.moduleSizeChange("module"+l),i.trigger("Fai_onModuleSizeChange"),i.find("map").length&&Site.refreshFloatImgHotArea(modules),f.inPack&&Site.setModuleAttrDataChange(f.parentId),Site.protectPackModuleResizable(i),setTimeout(function(){Site.triggerGobalEvent("changeParentModuleHeightToAuto",{id:l})},0),refreshHoverImgEft(l,i.data("imgHoverEft"),i.data("imgShapeEft")),3==Site.getModuleStatus(l)&&Site.refreshAbsFloatForm(i),"fk-webFooterZone"==i.parent().attr("id")&&jzUtils.run({name:"_elemZone.refreshFooterHeightForManage",base:Fai.top},i);i.outerWidth(),i.width()}}}(Fai.top._undo||(Fai.top._undo={})),function(e){e.floatModuleResizeUndo=function(t){if(t){var i=t.module;orWidth=i.width(),orHeight=i.height(),e.insertElem(t);var o=i.attr("id").replace("module","");Site.isModule(i,[35,29])&&i.attr("_mousein",1),Site.styleChanged(),Fai.top._moduleMoved++,Site.getModuleAttrPattern(o).changed=!0,i.attr("_autoHeight",0),Site.fixPhotoGallery(i),Site.photoMoreCardResize(i,{orWidth:orWidth,orHeight:orHeight}),Site.searchModuleSizeChagne(i,{orWidth:orWidth,orHeight:orHeight}),Site.refreshModuleHeight(o),Site.refreshAbsFloatForm(i),Site.refreshSideBtn(i),Site.enableEditLayer(),Site.moduleSizeChange("module"+o),Site.isModule(i,[5,77])&&Site.refreshModulePhotoSwitch(o),Fai.top.$("body").enableSelection(),i.trigger("Fai_onModuleSizeChange"),Site.triggerGobalEvent("resizableModuleChange",o),Site.move_formStyle97(i,!0),Site.isModule(i,75)&&Site.fixMsgSubmitStyle(o),Site.isModule(i,32)&&Site.fixSiteFormDateRangeStyle(o)}}}(Fai.top._undo||(Fai.top._undo={})),(Fai.top._undo||(Fai.top._undo={})).dockModuleResizeUndo=function(e){if(e){var t=e.module,i=t.attr("id").replace("module","");e.autoHeight?(Site.dockModuleAutoHeight(i),Site.changeParentModuleHeightToAuto(i)):(t.css("height",e.height),Site.styleChanged(),Fai.top._moduleMoved++,Site.getModuleAttrPattern(i).changed=!0,t.attr("_autoheight",0),Site.enableEditLayer(),Site.refreshModuleHeightForStop(t,i))}},function(e){e.absModuledragUndo=function(t){var i=t.module;if(i.children(".J_moduleOverlay").remove(),e.insertElem(t),2==i.attr("_side")){var o=i.offset().left,a=i.offset().top;i.data("flutterXPos",o),i.data("flutterYPos",a)}Site.refreshAbsFloatForm(i),Site.refreshSideBtn(i),Site.styleChanged(),Fai.top._moduleMoved++,Site.enableEditLayer(),Fai.top.$("body").enableSelection(),i.trigger("Fai_onModuleLayoutChange"),Site.setRefreshInfo("moduleDrag",!0)}}(Fai.top._undo||(Fai.top._undo={})),Fai.top._undo||(Fai.top._undo={}),(Fai.top._undo||(Fai.top._undo={})).zoneSelectMoveUndo=function(e,t,i,o){0==t.mat.length?(t.mat=$.extend(!0,[],e),t.eachMat(function(){})):t.eachMat(function(t,i){$.extend(i,e[t])}),o(t.mat,t.all,i),t.reset()},function(e){function t(e,t){if(82!=t.style){var i=t.$elem;79==t.style?function(){var e=i.find(".formBanner"),o=e.is(":visible")?e.height():0;i.find(".J_defImage, .floatImgWrap"+(i.find(".J_fonticon").length>0?"":", .forMargin")).css({width:t.width,height:t.height-o});var a=t.width-1,n=t.height,r=a>n?n:a;-1!=i.find(".float_in_img").attr("class").indexOf("mr")&&a<260&&(r=a/2),i.find(".float_in_img").css({"font-size":r,"line-height":n+"px"}),i.find(".J_hoverImage").css({"font-size":r,"line-height":n+"px"});var l=t.width,s=t.height,d=(parseInt(l)-8)/2-2,u=(parseInt(s)-8)/2-2;i.children(".ui-resizable-s").children(".imgResizeLine").css({width:d+"px"}),i.children(".ui-resizable-n").children(".imgResizeLine").css({width:d+"px"}),i.children(".ui-resizable-e").children(".imgResizeLine").css({height:u+"px"}),i.children(".ui-resizable-w").children(".imgResizeLine").css({height:u+"px"})}():81==t.style?function(){var e=i.find(".floatBtn"),o=2*parseInt(e.css("borderLeftWidth"))||0;e.height();Site.absAlignLine.resize.init(i,i,event,["top","right","bottom","left"]);var a=i.attr("id").replace("module","");Site.setModuleStyleCssList(a,[{cls:".floatBtn",key:"width",value:t.width-o+"px"},{cls:".floatBtn",key:"height",value:t.height-o+"px"},{cls:".floatBtn",key:"line-height",value:t.height-o+"px"}]),Site.getModuleAttrPattern(a).changed=!0;var n=Site.getModuleAttrPattern(a).floatBtn;n.s=n.s||{},n.s.t=1,n.s.w=parseInt(e.width()),n.s.h=parseInt(e.height()),Fai.top._moduleMoved++}():86==t.style?(Site.refreshSimpleEditor(i,i),Fai.top.$(".J_fkEditor_tool").css("display","none"),i.find(".J_resizableTip").length>0?i.find(".J_resizableTip").show():i.append("<a href='javascript:;' class='J_resizableTip moduleAutoHeight ui-resizable-cancelTip fk-resizable-cancelTip' style='z-index:1000;' parentid='"+i.attr("id")+"' _faiscoTip='还原模块默认高度' onclick='Site.absModuleAutoHeight("+i.attr("id").replace("module","")+");return false;'></a>"),(i.find(".fk-editor-vertical-rl").length>0||i.find(".fk-editor-vertical-lr").length>0)&&i.find(".fk-editor").attr("_autowidth",0),Site.createSimpleTextAutoWidthBtn(i),refreshModuleStatus.apply(t.$elem[0])):function(){if(i.find(".formMiddle").find(".formMiddleCenter").css("vertical-align","top"),(i.hasClass("formStyle35")||i.hasClass("formStyle29")||i.hasClass("formStyle110"))&&i.attr("_mousein",1),i.hasClass("formStyle97")){var e=i.attr("id").substring(6);$(".styleMall"+e).hide()}(function(e,i){var o=$(this).attr("_moduleid"),a=Site.checkNestModule($(this));Site.protectZoneElemView($(this)),($(this).hasClass("formStyle35")||$(this).hasClass("formStyle29")||$(this).hasClass("formStyle110"))&&$(this).attr("_mousein",1);if(!$(this).hasClass("elemZoneCell")){var n=$(this).attr("id").replace("module","");if($(this).children(".ui-resizable-cancelTip").length<1){$(this).find(".ui-resizable-se").css("z-index");($(this).hasClass("formStyle29")||$(this).hasClass("formStyle110")||$(this).hasClass("formStyle35")||$(this).hasClass("formStyle80"))&&" ui-resizable-cancelTip2 fk-resizable-cancelTip2"}Site.getModuleAttrPattern(n).changed=!0,Site.setModuleAttrDataChange(a.parentId);var r=$(this).attr("_side");2!=r&&Site.refreshAbsFloatForm($(this)),Site.refreshSideBtn($(this)),Site.moduleSizeChange("module"+n),($(this).hasClass("formStyle5")||$(this).hasClass("formStyle77"))&&Site.refreshModulePhotoSwitch(n),Site.triggerGobalEvent("resizableModuleChange",n),Fai.top.$("#absAlignTop, #absAlignRight, #absAlignBottom,#absAlignLeft").hide(),$(this).hasClass("formStyle83")&&Site.initPhotoCard(n),$(this).hasClass("formStyle85")&&Site.initPhotoNewCard(n),$(this).hasClass("formStyle98")&&($(this).width()<=400?($(this).css("height",t.origHeight+"px"),$(this).css("width",t.origWidth+"px"),t.height=t.origHeight,t.width=t.origWidth):t.origWidth!=$(this).width()?Site.initPhotoMoreCard(n,t.origWidth):Site.initPhotoMoreCard(n)),$(this).hasClass("formStyle97")&&(o=$(this).attr("_moduleid"),$(this).find(".mallHead").click(),$(".styleMall"+o).stop(!0,!0).show()),Site.triggerGobalEvent("changeParentModuleHeightToAuto",{id:o})}$(this).trigger("Fai_onModuleSizeChange"),function(e){var t=e.module,i=t.width(),o=t.height(),a=t.position(),n=a.left,r=a.top,l=Fai.top.$("#module"+e.parentId),s=l.width(),d=l.height(),u=!1,h=!1;n>=s?(n=s-i,u=!0):n<=-i&&(n=0,u=!0);r>=d?(r=d-o,h=!0):r<=-o&&(r=0,h=!0);u&&t.css("left",n+"px");h&&t.css("top",r+"px")}({module:$(this),parentId:a.parentId}),Site.styleChanged()}).apply(i[0]),i.attr("_autoheight",0),Site.refreshModuleHeight(t.id)}()}}(Fai.top._undo||(Fai.top._undo={})).zoneSelectResizeUndo=function(e,i,o,a){0==i.mat.length?(i.mat=$.extend(!0,[],e),i.eachMat(function(){},t)):i.eachMat(function(t,i){$.extend(i,e[t])},t),a(i.mat,i.all,o),i.reset()}}(),function(e){e.msgBoardParamResizeUndo=function(e,t,i){var o,a=$(t).find(".msgSAdd"),n=a.find(".msgSubmit_PropBoard"),r=t.indexOf("msgSubmit")>-1,l=t.indexOf("msgSubmit")>-1;r?o=220+i:l&&(o=270+i),n.parent().css({width:i+"px"}),n.css({width:i-4+"px"}),a.find(".paramResizeHandleRight").css("left",i-4+"px"),a.find(".msgPanel_N").css({width:o+"px"}),r?Site.fixMsgSubmitStyle(e):l&&Site.fixMsgBoardStyle(e),Site.fixMsgBoardStyle(e),Site.getModuleAttr(e).data.changed=!0},e.msgBoardTextareaResizeUndo=function(e,t,i){"width"==i.type?(t.css({width:i.value}),t.attr("_width",i.value),i.textareaResizeE.css("left",i.value),i.textareaResizeS.css("width",i.value)):"height"==i.type&&(t.css({height:i.value}),i.textareaResizeE.css("height",i.value),i.textareaResizeW.css("height",i.value),i.title.css("height",i.value))}}(Fai.top._undo||(Fai.top._undo={})),(Fai.top._undo||(Fai.top._undo={})).richPicResizeUndo=function(e,t,i){e.css({width:i.width,height:i.height}),e.find(".richModuleSlaveImg").css({width:i.width,height:i.height});var o=e.parents("div.formStyle1"),a=e.parents("div.formMiddleContent"),n=e.parents("div.richModuleSlaveImgContainer"),r=n.find(".richModuleSlaveImg"),l=0,s=r.width(),d=r.height(),u=(parseInt(s)-11)/2,h=(parseInt(d)-11)/2;if(e.children(".ui-resizable-s").children(".imgResizeLine").css({width:u+"px"}),e.children(".ui-resizable-n").children(".imgResizeLine").css({width:u+"px"}),e.children(".ui-resizable-e").children(".imgResizeLine").css({height:h+"px"}),e.children(".ui-resizable-w").children(".imgResizeLine").css({height:h+"px"}),n.find(".richEditPic").show(),n.hasClass("textImg6")&&(l=n.siblings(".richContent").height()||0),o.attr("_intab")>0){var p=Fai.top.$("#formTabContent"+o.attr("_intab"));e.resizable("option","maxHeight",parseInt(p.height()))}else 1!=o.attr("_autoheight")&&e.resizable("option","maxHeight",parseInt(a.height()-l));var c=e.parents(".formStyle1");c&&c.length>0&&(t=c.attr("id").replace("module",""),Site.getModuleAttrData(t).changed=!0,Site.styleChanged()),n.find("img.richModuleSlaveImg").attr("resize","1");var f=e.parent(),m=f.attr("link");void 0!==m&&m.length>0&&setTimeout(function(){f.attr("href",m),f.removeAttr("onclick")},100)},function(e){e.listPhotosPicResizeUndo=function(e,t){var i=Site.getModuleAttrPattern(e);i.changed=!0;var o=i.listPhotos;o.s=o.s||{},o.s.t=1,o.s.w=parseInt(t.width),o.s.h=parseInt(t.height),Site.styleChanged(),Site.moduleSizeChange("module"+e),Site.photoDisplayFunc.setListPhotosImgSize("listPhotos",e,!0),Site.moduleListPhotosItemManage.listPhotosImgResize(e)},e.photoDetailLRResizeUndo=function(e,t){var i=Site.getModuleAttrPattern(e),o=i.detailImgSize,a=$("#module"+e).find(".J_detail_img");i.changed=!0,o.t=1,o.w=parseInt(t.width),o.h=parseInt(t.height),a.width(t.width),a.height(t.height),Site.styleChanged(),Site.fixNewPhotoDetailImg(e,!1),Site.addResizableImgHandles(a,a,0,8,!0,!0)},e.carouselPhotosPicResizeUndo=function(e,t){var i=Fai.top.$("#module"+e),o=Site.isModule(i,[91,92]),a=8;o&&(a-=4);var n=Math.floor((t.width-a)/2)-1,r=Math.floor((t.height-a)/2)-1;o&&(n+=1,r+=1),i.find(".J_carouselPhotos").children(".ui-resizable-s").children(".imgResizeLine").width(n),i.find(".J_carouselPhotos").children(".ui-resizable-n").children(".imgResizeLine").width(n),i.find(".J_carouselPhotos").children(".ui-resizable-e").children(".imgResizeLine").height(r),i.find(".J_carouselPhotos").children(".ui-resizable-w").children(".imgResizeLine").height(r);var l=Site.getModuleAttrPattern(e);l.changed=!0;var s=l.carouselPhotos;s.s=s.s||{},s.s.t=1,s.s.w=parseInt(t.width),s.s.h=parseInt(t.height),Site.styleChanged(),Site.moduleSizeChange("module"+e),Site.photoDisplayFunc.setCarouselPhotosImgSize("carouselPhotos",e,!0)}}(Fai.top._undo||(Fai.top._undo={})),function(e){e.siteFormTextareaResizeUndo=function(e,t,i,o){Fai.top.$("#module"+e);if(!(e.length<1)){if("width"==o.type){i.css({width:o.value});var a=i.width()/(i.parent().width()-2);i.attr("_width",Math.round(1e3*a)/1e3),o.textareaResizeE.children().css("left",o.value),o.textareaResizeN.children().css("width",o.value),o.textareaResizeS.children().css("width",o.value)}else"height"==o.type&&(i.css({height:o.value}),o.textareaResizeE.children().css("height",o.value),o.textareaResizeW.children().css("height",o.value),o.star.css("line-height",o.value+"px"),o.title.css("height",o.value));Site.siteFormInputResizeLine(i,t,e),Fai.top.$("body").find(".inputResizeLine").hide(),Site.fixSiteFormDateRangeStyle(e)}},e.siteFormInptResizeUndo=function(e,t,i,o){i.css({width:o}),Site.siteFormInputResizeLine(i,t,e),Fai.top.$("body").find(".inputResizeLine").hide(),Site.fixSiteFormDateRangeStyle(e)}}(Fai.top._undo||(Fai.top._undo={})),function(e){(Fai.top._undo||(Fai.top._undo={})).photoMoreCardResizeUndo=function(e,t){var i=Fai.top.$("#module"+e);i.find(".moreCardTd").each(function(e){$(this).css({width:t[e].width,height:t[e].height})}),function(e){e.find(".moreCardTd").each(function(){$(this).find(".photoMoreCard").css({width:$(this).width(),height:$(this).height()})})}(i),Site.adjustPhotoMoreCard(i),Site.adjustPhotoMoreCardImgSize(i),jzUtils.run({name:"ImageEffect.FUNC.BASIC.Init",callMethod:!0},Fai.top["photoMoreCard"+e])}}(),function(e){e.tabButtonSortUndo=function(t,i){var o=$("#"+t);if(o.length<1)e.errTips("找不到tab按钮");else{var a=o.parent();a.hasClass("formTabButtonList")?(i.elem=o,i.parent=a,i.sibilingSel=".formTabButton",e.insertElem(i),a.children(".tabItemSep").remove(),a.children(".formTabButton:not(:last)").after('<div class="tabItemSep"><div class="commonTabItemSep"></div></div>')):e.errTips("找不到匹配标签模块")}}}(Fai.top._undo||(Fai.top._undo={})),function(e){e.mulColResizeUndo=function(t,i,o){i.length&&e.errTips("mulcol 找不到关联列");$("#module"+t);i.css("width",o),i.add("#module"+t+".mulColLayout:last").find(".form").each(function(){var e=$(this);e.find(".formStyle98").length>0&&e.find(".formStyle98").each(function(){i.find(".photoMoreCardOuter").css("width","")}),Site.adjustPhotoCard(e),Site.adjustPhotoNewCard(e),Site.adjustPhotoMoreCard(e),e.find(".formStyle98").length>0&&e.find(".formStyle98").each(function(){col.removeData("contentWidth"),col.find(".photoMoreCardOuter").css("width",""),Site.getModuleAttrPattern(col.attr("id").replace("module")).changed=!0})}),Site.setModuleAttrDataChange(t),Site.styleChanged()}}(Fai.top._undo||(Fai.top._undo={})),function(e){(Fai.top._undo||(Fai.top._undo={})).floatImgPoupWinUndo=function(e){var t=e.moduleId,i=Fai.top.$("#module"+t);i.data("picInfo",e.picInfo),i.data("linkInfo",e.linkInfo),function(e,t,i){var o,a,n,r,l,s,d,u,h,p,c,f,m,g,S,v=Fai.top.$("#module"+e),y=v.find(".floatImg_J .J_floatImg_jump"),b=v.find("#float_img_"+e),F=v.find('.floatImg_J map[name="hotAreaMap'+e+'"]'),_=v.height(),C=v.width(),M="",k="",w="",B="",$="",x="",T="",z=v.find(".floatImg_J"),P=t.ha||[];o=t.jMode,a=t.ot,n=i.jurl,h=t.ih,F&&F.length>0&&F.remove();void 0!==y.attr("href")&&(y.removeAttr("href"),y.removeAttr("target"),y.removeAttr("onClick"),y.css({cursor:"","text-decoration":""}));1==a&&(M="_blank");if(1==o)n.length>12&&"javascript"==n.slice(0,10)?(k="javascript:;",w=n.slice(11)+"return false;",M=""):k=n,y&&y.length>0&&(k&&y.attr("href",k),M&&y.attr("target",M),w&&y.attr("onClick",w),y.css({cursor:"pointer","text-decoration":"none"})),Site.bindImageEffectCusEvent_floatImg&&Site.bindImageEffectCusEvent_floatImg(z,{targetParent:"floatImg_J",target:"floatImg_J"});else if(2==o&&P&&P.length>0){for(d=C/500,u=_/h,B="<map name='hotAreaMap"+e+"'>",s=0;s<P.length;s++)r=P[s],p=(r.t?r.t:0)*u,c=(r.l?r.l:0)*d,f=(r.w?r.w:80)*d,m=(r.h?r.h:80)*u,g=c+f,S=m+p,l=r.lurl?r.lurl:"",1==r.ot&&(x=" target='_blank'"),l.length>12&&"javascript"==l.slice(0,10)?(T=" href='javascript:;' onclick='"+l.slice(11)+"return false;'",x=""):T=" href='"+l+"'",$="<area title='"+r.tip+"' shape='rect' coords='"+c+","+p+","+g+","+S+"'"+T+x+" />",B+=$,x="",T="",$="";B+="</map>",b.after(B),b.attr("usemap")||b.attr("usemap","#hotAreaMap"+e)}}(t,e.picInfo,e.linkInfo),Site.getModuleAttr(t).data.changed=!0}}(),(Fai.top._undo||(Fai.top._undo={})).dockModuleAutoHeightUndo=function(e,t){var i=Fai.top.$("#module"+e);if($(".J_mapframe"),!(i.length<1)){if(i.height(t),i.children(".ui-resizable-cancelTip").length<1){var o="";i.find(".formMiddleContent"+e).children(".pd_mall_G_J").length>0&&(o+="ui-resizable-cancelLeftTip fk-resizable-cancelLeftTip"),(i.hasClass("formStyle29")||i.hasClass("formStyle110")||i.hasClass("formStyle35")||i.hasClass("formStyle80")||i.hasClass("formStyle87"))&&(o+=" ui-resizable-cancelTip2 fk-resizable-cancelTip2"),i.append("<a href='javascript:;' class='J_resizableTip ui-resizable-cancelTip fk-resizable-cancelTip "+o+"' parentid='"+i.attr("id")+"' _faiscoTip='还原模块高度' onclick='Site.dockModuleAutoHeight("+e+");Site.changeParentModuleHeightToAuto("+e+");return false;'></a>")}Fai.top._moduleMoved++,Site.getModuleAttrPattern(e).changed=!0,i.attr("_autoheight",0),Site.refreshModuleHeightForStop(i,e),$(".moveFrame").remove()}},(Fai.top._undo||(Fai.top._undo={})).absModuleAutoHeightUndo=function(e,t){var i=$("#module"+e);if(!(i.length<1)){var o=i.width(),a=i.height(),n=(i.attr("_modulestyle"),i.attr("_side"));i.find(".formMiddle").find(".formMiddleCenter").css("vertical-align","top"),i.height(t);var r=Site.checkNestModule(i);if(Site.isModule(i,[35,29])&&i.attr("_mousein",1),i.children(".ui-resizable-cancelTip").length<1){var l=i.find(".ui-resizable-se").css("z-index");Site.isModule(i,97)||i.append("<a href='javascript:;' class='J_resizableTip ui-resizable-cancelTip fk-resizable-cancelTip' style='z-index:"+l+";' parentid='"+i.attr("id")+"' _faiscoTip='还原模块默认高度' onclick='Site.absModuleAutoHeightDo("+e+");return false;'></a>")}Site.styleChanged(),Fai.top._moduleMoved++,Site.getModuleAttrPattern(e).changed=!0,Site.setModuleAttrDataChange(r.parentId),i.attr("_autoHeight",0),Site.refreshModuleHeight(e),2!=n&&Site.refreshAbsFloatForm(i),Site.refreshSideBtn(i),Site.enableEditLayer(),Site.moduleSizeChange("module"+e),(i.hasClass("formStyle5")||i.hasClass("formStyle77"))&&Site.refreshModulePhotoSwitch(e),Site.searchModuleSizeChagne(i,{orWidth:o,orHeight:a}),Fai.top.$("body").enableSelection(),i.trigger("Fai_onModuleSizeChange"),Site.triggerGobalEvent("resizableModuleChange",e),Fai.top.$("#absAlignTop, #absAlignRight, #absAlignBottom,#absAlignLeft").hide(),Site.triggerGobalEvent("changeParentModuleHeightToAuto",{id:e}),$(".moveFrame").remove()}},function(e){e.logoResizeUndo=function(t){e.insertElem(t);var i=Fai.top.$("#logo"),o=Math.floor((i.width()-8)/2)-1,a=Math.floor((i.height()-8)/2)-1;i.children(".ui-resizable-s").children(".imgResizeLine").width(o),i.children(".ui-resizable-n").children(".imgResizeLine").width(o),i.children(".ui-resizable-e").children(".imgResizeLine").height(a),i.children(".ui-resizable-w").children(".imgResizeLine").height(a),i.find("#logoImg").css({width:i.width(),height:i.height()}),Site.showResetLogo(i)},e.logoDiscUndo=function(e){var t=Fai.encodeHtml(e);Fai.top.$("#logoImg").attr({title:e,alt:e}),Fai.top._logoChanged++,Fai.top._logoData.des=t,Fai.top._logoData.desd=!0,Fai.top._useTemplateLogo&&(Fai.top._templateLogoData.des=t,Fai.top._templateLogoData.desd=!0)}}(Fai.top._undo||(Fai.top._undo={})),function(e){e.navDragUndo=function(t){e.insertElem(t),Fai.top._useNavVersionTwo&&t.defalutNav&&$("#webNav").addClass("webNavDefault"),Fai.top.$("#navV2Wrap, .bannerCenter").find(i).length>0&&(i.removeCss("position"),i.removeCss("top"),i.removeCss("left"),i.removeCss("width"));var i=Fai.top._useNavVersionTwo?Fai.top.$("#navV2"):Fai.top.$("#nav"),o=t.left,a=t.top,n=i.offset().top,r=i.offset().left,l=i.outerWidth(),s=Fai.top.$("#g_main").offset().top,d=Fai.top.$("#webNav");n<s&&(a=a-n+s,i.offset({top:s})),r<0&&(o-=r,i.offset({left:0})),a=d.position().top+a,Fai.top._navStyleData.ncp.f&&(i.css("position",""),i.removeClass("navfixtop"),Site.onManageFixTop()),Fai.top.$("#webBanner").css("z-index","0"),Fai.top._useNavVersionTwo?(Fai.top._navIsBroad||(top._navStyleV2Data.np.l=o),top._navStyleV2Data.np.t=a,top._navStyleV2Data.np.y=1,top._navStyleV2Data.nmove=1,top._navStyleV2Data.na=0,Fai.top._navIsBroad||(top._navStyleV2Data.ns.w=l),Fai.top._navStyleV2Changed++,Site.clearNavV2Wrap(),top._navStyleV2Data.nTip=!0):(top._navStyleData.ncp.l=o,top._navStyleData.ncp.t=a,top._navStyleData.ncp.y=1,top._navStyleData.nmove=1,Fai.top._navStyleChanged++),Site.styleChanged(),Site.logDog(100083,0),Site.setRefreshInfo("moduleDrag",!0)},e.navResizeUndo=function(t){var i=Fai.top.$("#nav"),o=i.width(),a=i.height();e.insertElem(t),Fai.top.$("#navV2Wrap, .bannerCenter").find(i).length>0&&(i.removeCss("position"),i.removeCss("top"),i.removeCss("left"),i.removeCss("width")),Fai.top._navIsBroad&&i.css("width","100%");var n=i.height(),r=i.width();o==r||Fai.top._navIsBroad||(i.width()>1440&&(i.width(1440),Fai.ing("宽度不支持超过1440",!0)),r>1440&&(r=1440,Fai.ing("宽度不支持超过1440",!0)),Fai.top._navStyleData.ns.w=r,Fai.top._navStyleData.cs.w=r,Fai.top.Fai.setCtrlStyleCssList("stylenav","nav",[{cls:".navMainContent",key:"width",value:"100%"},{cls:".navContent",key:"width",value:r+"px"}]),Site.resizeNavLeft(i),Site.logDog(100084,0)),a!=n&&(Fai.top._navStyleData.ns.h=n,Fai.top._navStyleData.cs.h=n,Fai.top.Fai.setCtrlStyleCssList("stylenav","nav",[{cls:".navMainContent",key:"height",value:"100%"},{cls:".navContent",key:"height",value:n+"px"},{cls:".navLeft",key:"height",value:n+"px"},{cls:".navCenterContent",key:"height",value:n+"px"},{cls:".navRight",key:"height",value:n+"px"}]),top._navHeightChange=!0,Site.setNavHeight(n),Site.setContentHeight(n),Site.setNavItemHeight(n),Site.setNavItemSpacingHeight(n),top._navStyleData.nis.h=n,top._navStyleData.niss.h=n,Site.logDog(100084,1)),(i.css("left")||i.css("top"))&&(Fai.top._navStyleData.ncp.t=parseInt(i.css("top").replace("px","")),Fai.top._navStyleData.ncp.l=parseInt(i.css("left").replace("px","")),Fai.top._navStyleData.ncp.y=1),Fai.top._navStyleData.ncp.f&&(i.removeClass("navfixtop"),Site.onManageFixTop(),Fai.top.$("#g_main").scrollTop(Fai.top.$("#g_main").scrollTop()+1)),Fai.top._navStyleData.nmove=1,Fai.top._navStyleChanged++,Site.showNavItemContainer(),Site.styleChanged(),Site.setRefreshInfo("moduleSetting",!0)},e.navV2ResizeUndo=function(t){var i=Fai.top.$("#navV2"),o=i.width(),a=i.height();e.insertElem(t),Fai.top.$("#navV2Wrap, .bannerCenter").find(i).length>0&&(i.removeCss("position"),i.removeCss("top"),i.removeCss("left"),i.removeCss("width")),Fai.top._navIsBroad&&i.css("width","100%");var n=i.height(),r=i.width();o==r||Fai.top._navIsBroad||(Fai.top._navStyleV2Data.ns.y=1,Fai.top._navStyleV2Data.ns.w=r,Fai.top.Fai.setCtrlStyleCssList("navStyleV2","navV2",[{cls:".navMainContent",key:"width",value:"100%"},{cls:".navContent",key:"width",value:r+"px"},{cls:".navCenter",key:"width",value:r+"px"}]),$("#navV2").find(".navCenter").css("width",""),Site.resizeNavV2Left(i),Site.logDog(100084,0)),a!=n&&(Fai.top._navStyleV2Data.ns.y=1,Fai.top._navStyleV2Data.ns.h=n,Fai.top._navStyleV2Data.nis.y=1,Fai.top._navStyleV2Data.nis.h=n,Fai.top.Fai.setCtrlStyleCssList("navStyleV2","navV2",[{cls:".navMainContent",key:"height",value:"100%"},{cls:".navContent",key:"height",value:n+"px"},{cls:".navCenterContent",key:"height",value:n+"px"},{cls:".navCenter",key:"height",value:n+"px"},{cls:".item",key:"height",value:n+"px"},{cls:".item a",key:"height",value:n+"px"},{cls:".item a",key:"line-height",value:n+"px"}]),$("#navV2 .navContent").height(n),Site.logDog(100084,1)),(i.css("left")||i.css("top"))&&(Fai.top._navStyleV2Data.np.t=parseInt(i.css("top").replace("px","")),Fai.top._navStyleV2Data.np.l=parseInt(i.css("left").replace("px","")),Fai.top._navStyleV2Data.np.y=1),Fai.top._navStyleV2Data.onft&&(i.removeClass("navfixtop"),Site.onManageFixTop()),top._navStyleV2Data.nct.y=0,top._navStyleV2Data.na=0,Fai.top._navStyleV2Changed++,Site.showNavItemContainer(),Site.styleChanged(),Site.setRefreshInfo("moduleSetting",!0)}}(Fai.top._undo||(Fai.top._undo={})),function(e){var t={},i={},o=["s","snt","onft","oinc","ns","np","nal","nifc","nif","nisp","nir","nib","snfc","snf","snr","snb","nis"];function a(t){var i;Fai.top._navStyleV2Data;for(i in t)n(i)(e.copyData(t[i]))}function n(e){return{s:function(e){Site.navSystemStyleSwitch(e)},snt:function(e){Site.subTypeSwitch(e)},onft:function(e){Site.navFixTopChange(e)},oinc:function(e){Site.navHasSubNavNoClickChange(e)},ns:function(e){Site.navSizeChange(e)},np:function(e){Site.navPostionChange(e)},nal:function(e){Site.navAlignChange(e)},nifc:function(e){Site.navItemfillColor(e)},nif:function(e){Site.navItemFontChange(e)},nis:function(e){setTimeout(function(){Site.navItemSizeChange(e)},0)},nisp:function(e){Site.navItemSpaceChange(e)},nir:function(e){Site.navItemRadiusChange(e)},nib:function(e){Site.navItemBorderChange(e)},snfc:function(e){Site.navSubItemFillColor(e)},snf:function(e){Site.navSubItemFontChange(e)},snr:function(e){Site.navSubItemRadius(e)},snb:function(e){Site.navSubItemBorder(e)}}[e]}e.cacheNavStyleData=function(){for(var i,a=Fai.top._navStyleV2Data,n=o.length-1;n>=0;n--)t[i=o[n]]=e.copyData(a[i])},e.navStyleRestoreUndo=function(n){for(var r,l=Fai.top._navStyleV2Data,s=o.length-1;s>=0;s--)r=o[s],e.dataCompare(t[r],l[r])?delete t[r]:i[r]=e.copyData(l[r]);"{}"!=JSON.stringify(i)&&Site.undoRun(function(){},{type:"nav",detail:"navRestore",undoSame:!1,redoSame:!1,undoArgs:[t],undoFn:function(e){var t=$("#navV2");!t.parent().parent().is(n)&&n.length>0&&t.parent().appendTo(n),a(e),top._navStyleV2Data.nmove++},redoFn:Site.restoreNavV2Style})},e.navStylePopWinUndo=function(){for(var n,r=Fai.top._navStyleV2Data,l=o.length-1;l>=0;l--)n=o[l],e.dataCompare(t[n],r[n])?delete t[n]:i[n]=e.copyData(r[n]);"{}"!=JSON.stringify(i)&&Site.undoRun(function(){},{type:"nav",detail:"navPopWinChange",undoSame:!1,redoSame:!1,undoArgs:[t],redoArgs:[i],undoFn:a,redoFn:a})},Site.navPackModuleViewSwitchUndo=function(e,t){Site.inSubNavPackEdit.hideSubNavPackModule(t)}}(Fai.top._undo||(Fai.top._undo={})),function(e){var t=null,i=null;function o(t){Fai.top._bannerV2Data=$.extend(!0,Fai.top._bannerV2Data,e.copyData(t)),Fai.top.Site.bannerV2.refreshBanner(),top._bannerV2Changed++,Fai.top._moduleMoved++}e.cacheBannerStyleData=function(){Fai.top._bannerV2Data;t=e.copyData(Fai.top._bannerV2Data)},e.bannerStylePopWinUndo=function(){var a=Fai.top._bannerV2Data;if(!e.dataCompare(t,a))return i=e.copyData(a),void Site.undoRun(function(){},{type:"banner",detail:"bannerPopWinChange",undoSame:!1,redoSame:!1,undoArgs:[t],redoArgs:[i],undoFn:o,redoFn:o});t=null}}(Fai.top._undo||(Fai.top._undo={})),function(e){var t={},i={},o=["systemFullmeasure","mb","cb","b","cw","i","propData"];function a(e){var t={},i=Fai.top.Site.getModuleAttrPattern(e);t.systemFullmeasure=i.systemFullmeasure;var o=i.fullmeasurePattern;for(var a in o)t[a]=o[a];var n=Fai.top.Site.getModuleAttrDataStg(e),r={};return r.prop0=n.prop0,r.prop2=n.prop2,r.prop3=$.parseJSON(n.prop3),t.propData=r,$.extend(!0,{},t)}function n(t,i){var o,a;for(o in t)a=l(o),r(i,o,t[o]),a(e.copyData(t[o]),i)}function r(e,t,i){"propData"!=t&&(Site.getModuleAttrPattern(e).fullmeasurePattern[t]=i)}function l(e){return{systemFullmeasure:function(e){},mb:function(e,t){!function(e){var t=Site.getModuleAttrPattern(e),i=Site.getModuleAttrDataStg(e),o=i.prop2,a=$.parseJSON(i.prop3);a=a||{};var n=t.fullmeasurePattern.mb,r=t.fullmeasurePattern.cb;n.firstEditBgList=void 0===n.firstEditBgList?1==n.length:n.firstEditBgList;var l=n[0],d=l.px,u=void 0===a.u?n.firstEditBgList?0:1:a.u;if(2!=(0==o?d||0:2)||u){var p=Fai.top.$("#module"+e).find(".addNewFmModule");l&&2==l.y&&l.f&&-1!=l.r||r&&2==r.y&&r.f&&-1!=r.r?p.addClass("J_addNewFmModule fk-addNewFmModuleStyle").show():p.length>0&&p.removeClass("J_addNewFmModule fk-addNewFmModuleStyle").hide(),0==l.y?(Site.removeModuleStyleCssList(e,[{cls:".fullmeasureOuterContentPage1 .fullmeasureOuterContentBg"+e,key:"background"},{cls:".fullmeasureOuterContentPage1 .fullmeasureOuterContentBg"+e,key:"background-size"}]),c("outer",e)):2==l.y&&h(l,"outer",e)}else!function(e,t,i){Site.getModuleAttrDataStg(i).prop0;if(!e.u)for(var o=0;o<vm.page;o++)$.extend(!0,t[o],t[0]),s(o+1,t[o],i)}(a,n,e)}(t)},cb:function(e,t){!function(e){var t=Site.getModuleAttrPattern(e),i=t.fullmeasurePattern.mb,o=t.fullmeasurePattern.cb;i.firstEditBgList=void 0===i.firstEditBgList?1==i.length:i.firstEditBgList;var a=i[0],n=Fai.top.$("#module"+e).find(".addNewFmModule");a&&2==a.y&&a.f&&-1!=a.r||o&&2==o.y&&o.f&&-1!=o.r?n.addClass("J_addNewFmModule fk-addNewFmModuleStyle").hide():n.length>0&&n.removeClass("J_addNewFmModule fk-addNewFmModuleStyle").show();0==o.y?(Site.removeModuleStyleCssList(e,[{cls:".fullmeasureContentBg"+e,key:"background"},{cls:".fullmeasureContentBg"+e,key:"background-size"}]),c("content",e)):2==o.y&&h(o,"content",e)}(t)},b:function(e,t){!function(e){var t=Site.getModuleAttrPattern(e).fullmeasurePattern.b,i="",o=t.w||1,a=t.s||0,n=0===t.p?0:t.p||1,r=t.c||"transparent",l="solid";1==a?l="dotted":2==a&&(l="dashed");0==t.y?Site.removeModuleStyleCssList(e,[{cls:"",key:"border-top"},{cls:"",key:"border-bottom"}]):1==t.y?Site.setModuleStyleCssList(e,[{cls:"",key:"border-top",value:"none"},{cls:"",key:"border-bottom",value:"none"}]):2==t.y&&(i=o+"px "+l+" "+r,0===n?Site.removeModuleStyleCssList(e,[{cls:"",key:"border-top"},{cls:"",key:"border-bottom"}]):1==n?Site.setModuleStyleCssList(e,[{cls:"",key:"border-top",value:i},{cls:"",key:"border-bottom",value:"none"}]):2==n?Site.setModuleStyleCssList(e,[{cls:"",key:"border-top",value:"none"},{cls:"",key:"border-bottom",value:i}]):12==n&&Site.setModuleStyleCssList(e,[{cls:"",key:"border-top",value:i},{cls:"",key:"border-bottom",value:i}]))}(t)},cw:function(e,t){!function(e){var t=Site.getModuleAttrPattern(e).fullmeasurePattern.cw;t>-1?Site.setModuleStyleCss(e,".fullmeasureContent","width",t+"px"):Site.removeModuleStyleCss(e,".fullmeasureContent","width");Fai.top.Site.inFullmeasueAnimation.refreshSlideArrowPositon(e)}(t)},i:function(e){function t(t,i){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e,t){!function(e){var t=Site.getModuleAttrPattern(e).fullmeasurePattern.i;if(0==t.y)Site.removeModuleStyleCss(e,".fullmeasureContent","padding");else if(2==t.y){var i="";void 0!==t.t?i+=t.t+"px ":i+="0 ",void 0!==t.r?i+=t.r+"px ":i+="0 ",void 0!==t.b?i+=t.b+"px ":i+="0 ",void 0!==t.l?i+=t.l+"px":i+="0",Site.setModuleStyleCss(e,".fullmeasureContent","padding",i)}}(t)}),propData:function(e,t){!function(e,t){var i=t.prop0,o=i>1?i:2,a=t.prop2,n=$.parseJSON(t.prop3);n=n||{};var r=function(e,t){var i=Site.getModuleAttrPattern(e),o=t.prop2,a=t.prop0,n=a>1?a:2,r=$.parseJSON(t.prop3);r=r||{};var l=i.fullmeasurePattern.mb;l.firstEditBgList=void 0===l.firstEditBgList?1==l.length:l.firstEditBgList;void 0===r.u?l.firstEditBgList:r.u;for(var d,u=0==(isNaN(o)?0:o)?1:n>6?6:n,h=[],p=!r,c=0;c<u;c++)(d=p?$.extend(!0,{},l[0]):l[c]||{}).cs=d.cs||parseInt(moduleStyleNum),h[c]=d,0!==c&&s(c+1,d);return h}(e,t);Fai.top.Site.inFullmeasueModuleEdit.refreshFullmeasureModuleAndPage(e,Fai.top._colId,Fai.top._extId,i,o,6,a,r,n)}(t,e)}}[e]}function s(e,t,i){var o=Fai.top.$("#module"+i).find(".fullmeasureOuterContentPage"+e+" .addNewFmModule");t&&2==t.y&&t.f&&-1!=t.r?o.addClass("J_addNewFmModule fk-addNewFmModuleStyle").hide():o.length>0&&o.removeClass("J_addNewFmModule fk-addNewFmModuleStyle").show(),0==t.y?(Site.removeModuleStyleCssList(i,[{cls:".fullmeasureOuterContentPage"+e+" .fullmeasureOuterContentBg"+i,key:"background"},{cls:".fullmeasureOuterContentPage"+e+" .fullmeasureOuterContentBg"+i,key:"background-size"}]),c("outer",i)):2==t.y&&d(t,"outer",e,i)}function d(e,t,i,o){var a,n,r,l=u(e);a=l.bgSytleStr,n=l.bgSizeStyle,r=l.useBgSizeStyle,"outer"==t?(Site.setModuleStyleCss(o,".fullmeasureOuterContentPage"+i+" .fullmeasureOuterContentBg"+o,"background",a),r&&Site.setModuleStyleCss(o,".fullmeasureOuterContentPage"+i+" .fullmeasureOuterContentBg"+o,"background-size",n),0!=moduleBg.o&&p(100-moduleBg.o,"outer")):(from="content")&&(Site.setModuleStyleCss(o,".fullmeasureContentBg"+o,"background",a),r&&Site.setModuleStyleCss(o,".fullmeasureContentBg"+o,"background-size",n),0!=contentBg.o&&p(100-contentBg.o,"content"))}function u(e){var t="",i="",o="center",a=!1,n="",r={};return void 0!==e.c&&(t+=e.c),void 0!==e.f&&void 0===e.r&&(e.r=5),void 0!==e.f&&(void 0!==e.r&&-1!=e.r&&(0!=e.r&&6!=e.r&&7!=e.r&&8!=e.r&&9!=e.r&&13!=e.r&&14!=e.r&&15!=e.r&&16!=e.r||(i="no-repeat"),1!=e.r&&11!=e.r&&12!=e.r||(i="repeat-x"),2!=e.r&&21!=e.r&&22!=e.r||(i="repeat-y"),3==e.r&&(i="repeat"),4!=e.r&&5!=e.r&&30!=e.r||(i="repeat"),9!=e.r&&12!=e.r||(o="bottom"),6!=e.r&&21!=e.r||(o="left"),7!=e.r&&22!=e.r||(o="right"),4!=e.r&&5!=e.r&&8!=e.r&&11!=e.r&&30!=e.r||(o="top"),13==e.r&&(o="left top"),14==e.r&&(o="right top"),15==e.r&&(o="left bottom"),16==e.r&&(o="right bottom"),t+=" url("+e.p+") "+i+" "+o,4==e.r?(a=!0,n="100% 100%"):5==e.r?(a=!0,n="100%"):30==e.r&&(a=!0,n="cover")),-1==e.r&&(t&&" "!=t||(t="none"))),void 0===e.f&&void 0===e.r&&(t&&" "!=t||(t="none")),r.bgSytleStr=t,r.bgSizeStyle=n,r.useBgSizeStyle=a,r}function h(e,t,i){var o,a,n,r,l=u(e);"content"==t&&(r=e),o=l.bgSytleStr,a=l.bgSizeStyle,n=l.useBgSizeStyle,"outer"==t?(Site.setModuleStyleCss(i,".fullmeasureOuterContentPage1 .fullmeasureOuterContentBg"+i,"background",o),n&&Site.setModuleStyleCss(i,".fullmeasureOuterContentPage1 .fullmeasureOuterContentBg"+i,"background-size",a),0!=e.o&&p(100-e.o,"outer",i),0==e.px&&function(e,t){e.px=0,e.s=null,function(e){var t=Fai.top.$("#module"+e).find(".fullmeasureOuterContentPage1 .fullmeasureOuterContentBg"+e);if(Site.removeModuleStyleCssList(e,[{cls:".fullmeasureOuterContentPage .fullmeasureOuterContentBg"+e,key:"-webkit-transform"},{cls:".fullmeasureOuterContentPage .fullmeasureOuterContentBg"+e,key:"background-attachment"}]),t.length>0){t.removeAttr("data-stellar-background-ratio"),t.removeData("stellar-background-ratio"),Fai.top.$("#g_main").stellar("destroy"),Fai.top.$("#g_main").stellar({horizontalScrolling:!1,responsive:!1});var i=t.attr("style");i&&i.indexOf("background-position")>-1&&t.css("background-position","")}}(t)}(e,i)):(from="content")&&(Site.setModuleStyleCss(i,".fullmeasureContentBg"+i,"background",o),n&&Site.setModuleStyleCss(i,".fullmeasureContentBg"+i,"background-size",a),0!=r.o&&p(100-r.o,"content",i))}function p(e,t,i){"outer"==t?(Fai.top.Site.setModuleStyleCss(i,".fullmeasureOuterContentPage1 .fullmeasureOuterContentBg"+i,"opacity",e/100),Fai.top.Site.setModuleStyleCss(i,".fullmeasureOuterContentPage1 .fullmeasureOuterContentBg"+i,"filter","alpha(opacity="+e+")")):"content"==t&&(Fai.top.Site.setModuleStyleCss(i,".fullmeasureContentBg"+i,"opacity",e/100),Fai.top.Site.setModuleStyleCss(i,".fullmeasureContentBg"+i,"filter","alpha(opacity="+e+")"))}function c(e,t){"outer"==e?(Fai.top.Site.removeModuleStyleCss(t,".fullmeasureOuterContentPage1 .fullmeasureOuterContentBg"+t,"opacity"),Fai.top.Site.removeModuleStyleCss(t,".fullmeasureOuterContentPage1 .fullmeasureOuterContentBg"+t,"filter")):"content"==e&&(Fai.top.Site.removeModuleStyleCss(t,".fullmeasureContentBg"+t,"opacity"),Fai.top.Site.removeModuleStyleCss(t,".fullmeasureContentBg"+t,"filter"))}e.cacheFullModuleStyleData=function(i){for(var n,r=a(i),l=o.length-1;l>=0;l--)t[n=o[l]]=e.copyData(r[n])},e.fullModuleStylePopWinUndo=function(r){for(var l,s=a(r),d=o.length-1;d>=0;d--)l=o[d],e.dataCompare(t[l],s[l])?delete t[l]:i[l]=e.copyData(s[l]);"{}"!=JSON.stringify(i)&&Site.undoRun(function(){},{type:"module.fullModule",detail:"fullPopWinChange",id:r,undoSame:!1,redoSame:!1,undoArgs:[t,r],redoArgs:[i,r],undoFn:n,redoFn:n})}}(Fai.top._undo||(Fai.top._undo={})),function(e){var t={},i={},o=["_memberTopBar_myProfile","_memberTopBar_myOrder","_memberTopBar_addBookMark","_memberTopBar_mobiWeb","_memberTopBar_mallCart"];function a(){var e={};return e._memberTopBar_myProfile=Fai.top._memberTopBar_myProfile,e._memberTopBar_myOrder=Fai.top._memberTopBar_myOrder,e._memberTopBar_addBookMark=Fai.top._memberTopBar_addBookMark,e._memberTopBar_mobiWeb=Fai.top._memberTopBar_mobiWeb,e._memberTopBar_mallCart=Fai.top._memberTopBar_mallCart,$.extend(!0,{},e)}function n(t){var i;for(i in t)r(i)(e.copyData(t[i]))}function r(e){return{_memberTopBar_myProfile:function(e){Fai.top._memberTopBar_myProfile=e,function(e){var t=Fai.top._memberTopBar_myProfile,i=Fai.top._memberTopBar_myOrder,o=Fai.top._memberTopBar_addBookMark,a=Fai.top._memberTopBar_mobiWeb,n=Fai.top._memberTopBar_mallCart;e?(top._memberTopBarChanged++,Fai.top.$("#topBarMember_myProfile").attr("style","text-decoration:none;display:;"),i&&t&&Fai.top.$("#line2").attr("style","float:left;display:;"),o&&(t||i)?Fai.top.$("#line1").attr("style","float:left;display:;"):Fai.top.$("#line1").attr("style","float:left;display:none;"),n||Fai.top.$("#memberBar").find("#mallCartLine").show(),a&&Fai.top.$("#memberBar").find("#mobiWeb_line").show()):(top._memberTopBarChanged++,Fai.top.$("#topBarMember_myProfile").attr("style","text-decoration:none;display:none;"),Fai.top.$("#line2").attr("style","float:left;display:none;"),o&&(t||i)?Fai.top.$("#line1").attr("style","float:left;display:;"):Fai.top.$("#line1").attr("style","float:left;display:none;"),o||t||i||Fai.top.$("#memberBar").find("#mallCartLine").hide(),o||t||i||!n||Fai.top.$("#memberBar").find("#mobiWeb_line").hide())}(e)},_memberTopBar_myOrder:function(e){Fai.top._memberTopBar_myOrder=e,function(e){var t=Fai.top._memberTopBar_myProfile,i=Fai.top._memberTopBar_myOrder,o=Fai.top._memberTopBar_addBookMark,a=Fai.top._memberTopBar_mobiWeb,n=Fai.top._memberTopBar_mallCart;e?(top._memberTopBarChanged++,Fai.top.$("#topBarMember_myOrder").attr("style","text-decoration:none;display:;"),i&&t&&Fai.top.$("#line2").attr("style","float:left;display:;"),o&&(t||i)?Fai.top.$("#line1").attr("style","float:left;display:;"):Fai.top.$("#line1").attr("style","float:left;display:none;"),n||Fai.top.$("#memberBar").find("#mallCartLine").show(),a&&Fai.top.$("#memberBar").find("#mobiWeb_line").show()):(top._memberTopBarChanged++,Fai.top.$("#topBarMember_myOrder").attr("style","text-decoration:none;display:none;"),Fai.top.$("#line2").attr("style","float:left;display:none;"),o&&(t||i)?Fai.top.$("#line1").attr("style","float:left;display:;"):Fai.top.$("#line1").attr("style","float:left;display:none;"),o||t||i||Fai.top.$("#memberBar").find("#mallCartLine").hide(),o||t||i||!n||Fai.top.$("#memberBar").find("#mobiWeb_line").hide())}(e)},_memberTopBar_addBookMark:function(e){Fai.top._memberTopBar_addBookMark=e,function(e){var t=Fai.top._memberTopBar_myProfile,i=Fai.top._memberTopBar_myOrder,o=Fai.top._memberTopBar_addBookMark,a=Fai.top._memberTopBar_mobiWeb,n=Fai.top._memberTopBar_mallCart;e?(top._memberTopBarChanged++,Fai.top.$("#topBarMember_addBookMark").attr("style","text-decoration:none;display:;"),o&&(t||i)?Fai.top.$("#line1").attr("style","float:left;display:;"):Fai.top.$("#line1").attr("style","float:left;display:none;"),n||Fai.top.$("#memberBar").find("#mallCartLine").show(),a&&Fai.top.$("#memberBar").find("#mobiWeb_line").show()):(top._memberTopBarChanged++,Fai.top.$("#topBarMember_addBookMark").attr("style","text-decoration:none;display:none;"),Fai.top.$("#line1").attr("style","float:left;display:none;"),o||t||i||Fai.top.$("#memberBar").find("#mallCartLine").hide(),o||t||i||!n||Fai.top.$("#memberBar").find("#mobiWeb_line").hide())}(e)},_memberTopBar_mobiWeb:function(e){Fai.top._memberTopBar_mobiWeb=e,function(e){var t=Fai.top._memberTopBar_myProfile,i=Fai.top._memberTopBar_myOrder,o=Fai.top._memberTopBar_addBookMark,a=(Fai.top._memberTopBar_mobiWeb,Fai.top._memberTopBar_mallCart);e?(top._memberTopBarChanged++,(o||t||i||!a)&&Fai.top.$("#mobiWeb_line").show(),Fai.top.$("#memberBar").find("#mobiWeb_js").show()):(top._memberTopBarChanged++,Fai.top.$("#mobiWeb_line").hide(),Fai.top.$("#memberBar").find("#mobiWeb_js").hide())}(e)},_memberTopBar_mallCart:function(e){Fai.top._memberTopBar_mallCart=e,function(e){var t=Fai.top._memberTopBar_myProfile,i=Fai.top._memberTopBar_myOrder,o=Fai.top._memberTopBar_addBookMark,a=Fai.top._memberTopBar_mobiWeb,n=(Fai.top._memberTopBar_mallCart,Fai.top.$("#memberBar"));e?(n.find("#mallCartLine").hide(),n.find("#mallCart_js").hide(),o||t||i||Fai.top.$("#memberBar").find("#mobiWeb_line").hide(),top._memberTopBarChanged++):((o||t||i)&&n.find("#mallCartLine").show(),n.find("#mallCart_js").show(),a&&Fai.top.$("#memberBar").find("#mobiWeb_line").show(),top._memberTopBarChanged++)}(e)}}[e]}e.cacheRightBarData=function(){t=a()},e.rightBarPopWinUndo=function(){for(var r,l=a(),s=o.length-1;s>=0;s--)r=o[s],e.dataCompare(t[r],l[r])?delete t[r]:i[r]=e.copyData(l[r]);"{}"!=JSON.stringify(i)&&Site.undoRun(function(){},{type:"topbar",detail:"topbarPopWinChange",undoSame:!1,redoSame:!1,undoArgs:[t],redoArgs:[i],undoFn:n,redoFn:n})}}(Fai.top._undo||(Fai.top._undo={})),function(e){var t={};function i(){return $.extend(!0,{},Fai.top._bgMusic)}function o(e){Fai.top._bgMusic=$.extend(!0,Fai.top._bgMusic,e)}e.cacheBgMusicData=function(){t=i()},e.bgMusicPopWinUndo=function(){var e=i();JSON.stringify(e)!=JSON.stringify(t)&&Site.undoRun(function(){},{type:"bgMusic",detail:"bgMusicPopWinChange",undoSame:!1,redoSame:!1,undoArgs:[t],redoArgs:[e],undoFn:o,redoFn:o})}}(Fai.top._undo||(Fai.top._undo={})),function(e){var t={};function i(){return $.extend(!0,{},Fai.top._imgPage)}function o(e){Fai.top._imgPage=$.extend(!0,Fai.top._imgPage,e)}e.cacheImgPageData=function(){t=i()},e.imgPagePopWinUndo=function(){var e=i();JSON.stringify(e)!=JSON.stringify(t)&&Site.undoRun(function(){},{type:"imgPage",detail:"imgPagePopWinChange",undoSame:!1,redoSame:!1,undoArgs:[t],redoArgs:[e],undoFn:o,redoFn:o})}}(Fai.top._undo||(Fai.top._undo={}));