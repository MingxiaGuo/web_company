function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _typeof2(e){return(_typeof2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(e,t){var i=[],n=!0,o=!1,a=void 0;try{for(var r,s=e[Symbol.iterator]();!(n=(r=s.next()).done)&&(i.push(r.value),!t||i.length!==t);n=!0);}catch(e){o=!0,a=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw a}}return i}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{},n=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable}))),n.forEach(function(e){_defineProperty(t,e,i[e])})}return t}function _defineProperty(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,i){return t&&_defineProperties(e.prototype,t),i&&_defineProperties(e,i),e}function _defineProperty(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,i=new Array(e.length);t<e.length;t++)i[t]=e[t];return i}}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperty(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function _defineProperty(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}"path"in Event.prototype||Object.defineProperty(Event.prototype,"path",{get:function(){for(var e=[],t=this.target;t;)e.push(t),t=t.parentElement;return-1===e.indexOf(document)&&-1===e.indexOf(window)&&e.push(document),-1===e.indexOf(window)&&e.push(window),e}}),Number.isNaN=Number.isNaN||function(e){return"number"==typeof e&&isNaN(e)},Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{enumerable:!1,value:function(e,t){if(null==this)throw new TypeError('"this" is null or not defined');var i=Object(this),n=i.length>>>0;if(0===n)return!1;for(var o,a,r=0|t,s=Math.max(0<=r?r:n-Math.abs(r),0);s<n;){if((o=i[s])===(a=e)||"number"==typeof o&&"number"==typeof a&&isNaN(o)&&isNaN(a))return!0;s++}return!1}}),Array.prototype.includes=Array.prototype.includes||function(e,t){return-1!==this.indexOf(e,t)},vue_utils=function(){var l;function r(e,t,i,n,o){var a,r,s=window.getComputedStyle(t,null),l=t.style,c={width:parseInt(s.getPropertyValue("width")),height:parseInt(s.getPropertyValue("height")),padding:{top:parseInt(s.getPropertyValue("padding-top")),right:parseInt(s.getPropertyValue("padding-right")),bot:parseInt(s.getPropertyValue("padding-bottom")),left:parseInt(s.getPropertyValue("padding-left"))},margin:{top:parseInt(s.getPropertyValue("margin-top")),right:parseInt(s.getPropertyValue("margin-right")),bot:parseInt(s.getPropertyValue("margin-bottom")),left:parseInt(s.getPropertyValue("margin-left"))}},u=null!=i.width?i.width-c.width:0,d=null!=i.height?i.height-c.height:0,h={top:i.padding&&null!=i.padding.top?i.padding.top-c.padding.top:0,right:i.padding&&null!=i.padding.right?i.padding.right-c.padding.right:0,bot:i.padding&&null!=i.padding.bot?i.padding.bot-c.padding.bot:0,left:i.padding&&null!=i.padding.left?i.padding.left-c.padding.left:0},p={top:i.margin&&null!=i.margin.top?i.margin.top-c.margin.top:0,right:i.margin&&null!=i.margin.right?i.margin.right-c.margin.right:0,bot:i.margin&&null!=i.margin.bot?i.margin.bot-c.margin.bot:0,left:i.margin&&null!=i.margin.left?i.margin.left-c.margin.left:0},f=(new Date).getTime();n=null!=n?n:250,l.overflow="hidden",clearInterval(e),e=setInterval(function(){(a=(new Date).getTime()-f)<n?(r=a/n,l.width=c.width+u*r+"px",l.height=c.height+d*r+"px",l.padding=c.padding.top+h.top*r+"px "+(c.padding.right+h.right*r)+"px "+(c.padding.bot+h.bot*r)+"px "+(c.padding.left+h.left*r)+"px",l.margin=c.margin.top+p.top*r+"px "+(c.margin.right+p.right*r)+"px "+(c.margin.bot+p.bot*r)+"px "+(c.margin.left+p.left*r)+"px"):(l.width=i.width+"px",l.height=i.height+"px",l.padding=c.padding.top+h.top+"px "+(c.padding.right+h.right)+"px "+(c.padding.bot+h.bot)+"px "+(c.padding.left+h.left)+"px",l.margin=c.margin.top+p.top+"px "+(c.margin.right+p.right)+"px "+(c.margin.bot+p.bot)+"px "+(c.margin.left+p.left)+"px",clearInterval(e),null!=o&&o(c))},15)}return l={getTag:function(e){return Object.prototype.toString.call(e)},baseMerge:function(o,a){o||(o={});for(var e=arguments.length,t=new Array(2<e?e-2:0),i=2;i<e;i++)t[i-2]=arguments[i];return t.filter(function(e){return e&&"object"===_typeof(e)}).forEach(function(n){Object.keys(n).forEach(function(e){var t=l.getTag(o[e]),i=l.getTag(n[e]);"[object Array]"===i||"[object Object]"===i?(t!==i&&(o[e]="[object Array]"===i?[]:{}),l.baseMerge(o[e],a,n[e])):a(o,n,e)&&(o[e]=n[e])})}),o},merge:function(e){for(var t,i=arguments.length,n=new Array(1<i?i-1:0),o=1;o<i;o++)n[o-1]=arguments[o];return(t=l).baseMerge.apply(t,[e,function(){return!0}].concat(n))},dispatch:function(e,t,i,n){for(var o=e.$parent||e.$root,a=o.$options.name;o&&(!a||a!==t);)(o=o.$parent)&&(a=o.$options.name);o&&o.$emit.apply(o,[i].concat(n))},broadcast:function(e,t,i,n){(function t(i,n,o){this.$children.forEach(function(e){e.$options.name===i?e.$emit.apply(e,[n].concat(o)):t.apply(e,[i,n].concat([o]))})}).call(e,t,i,n)},findComponentUpward:function(e,t,i){i="string"==typeof t?[t]:t;for(var n=e.$parent,o=n.$options.name;n&&(!o||i.indexOf(o)<0);)(n=n.$parent)&&(o=n.$options.name);return n},findComponentsUpward:function(e,t,i){var n=[];i="string"==typeof t?[t]:t;var o=e.$parent;for(o.$options.name;o;)-1<i.indexOf(o.$options.name)&&n.push(o),o=o.$parent;return n},findComponentsDownward:function(e,o,a){a=a||[];var t=e.$children;return t.length&&t.forEach(function(e){var t=e.$options.name,i=e.$children;if(t===o&&a.push(e),i.length){var n=l.findComponentsDownward(e,o,a);n&&a.concat(n)}}),a},oneOf:function(e,t){for(var i=0;i<t.length;i++)if(e===t[i])return!0;return!1},camelCase:function(e){return e.replace(/-(\w)/g,function(e,t){return t.toUpperCase()})},getStyle:function(t,i){if(!t||!i)return null;"float"===(i=l.camelCase(i))&&(i="cssFloat");try{var e=document.defaultView.getComputedStyle(t,"");return t.style[i]||e?e[i]:null}catch(e){return t.style[i]}},setStyle:function(e,t,i){if(!e.length||!t)return null;"float"===(t=l.camelCase(t))&&(t="cssFloat");for(var n=0;n<e.length;n++)e[n].style[t]=i},isValueNumber:function(e){return/^[1-9][0-9]*$/.test(e+"")},scrollbarWidth:function(e){var t=e||document.body,i=document.createElement("div");i.className="jz-scrollbar-wrap",i.style.visibility="hidden",i.style.width="100px",i.style.position="absolute",i.style.top="-9999px",t.appendChild(i);var n=i.offsetWidth;i.style.overflow="scroll";var o=document.createElement("div");o.style.width="100%",i.appendChild(o);var a=o.offsetWidth;return i.parentNode.removeChild(i),n-a},off:function(e,t,i){e&&t&&e.removeEventListener(t,i,!1)},on:function(e,t,i){e&&t&&i&&e.addEventListener(t,i,!1)},throttle:function(t,i){var n=0;return i=i||200,function(){var e=+new Date;i<e-n&&(t.apply(this,arguments),n=e)}},debounce:function(i,n){var o=null;return n=n||40,function(){var e=this,t=arguments;clearTimeout(o),o=setTimeout(function(){i.apply(e,t)},n)}},initDefaultProps:function(e,t){var i;for(i in t)"object"==_typeof(e[i])?e[i]=e[i]:"function"==typeof e[i]?e[i]={type:e[i]}:e[i]||(e[i]={}),e[i].default=t[i];return e},typeOf:function(e){return{"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regExp","[object Undefined]":"undefined","[object Null]":"null","[object Object]":"object"}[Object.prototype.toString.call(e)]},deepCopy:function(e){var t,i=l.typeOf(e);if("array"===i)t=[];else{if("object"!==i)return e;t={}}if("array"===i)for(var n=0;n<e.length;n++)t.push(l.deepCopy(e[n]));else if("object"===i)for(var n in e)t[n]=l.deepCopy(e[n]);return t},stringToIntArray:function(e){return e.map(function(e){return+e})},trim:function(e){return(e||"").replace(/^[\s\uFEFF]+|[\s\uFEFF]+$/g,"")},addClass:function(e,t){if(e){for(var i=e.className,n=(t||"").split(" "),o=0,a=n.length;o<a;o++){var r=n[o];r&&(e.classList?e.classList.add(r):hasClass(e,r)||(i+=" "+r))}e.classList||(e.className=i)}},removeClass:function(e,t){if(e&&t){for(var i=t.split(" "),n=" "+e.className+" ",o=0,a=i.length;o<a;o++){var r=i[o];r&&(e.classList?e.classList.remove(r):hasClass(e,r)&&(n=n.replace(" "+r+" "," ")))}e.classList||(e.className=l.trim(n))}},isNull:function(e){return void 0===e||null==e},Img:{MODE_SCALE_FILL:1,MODE_SCALE_WIDTH:2,MODE_SCALE_HEIGHT:3,MODE_SCALE_DEFLATE_WIDTH:4,MODE_SCALE_DEFLATE_HEIGHT:5,MODE_SCALE_DEFLATE_FILL:6,MODE_SCALE_DEFLATE_MAX:7},calcSize:function(e,t,i,n,o){var a={width:e,height:t};if(o==l.Img.MODE_SCALE_FILL){var r=e/i,s=t/n;a.height=s<r?(a.width=i,t/r):(a.width=e/s,n)}else if(o==l.Img.MODE_SCALE_WIDTH){r=e/i;a.width=i,a.height=t/r}else if(o==l.Img.MODE_SCALE_HEIGHT){s=t/n;a.width=e/s,a.height=n}else if(o==l.Img.MODE_SCALE_DEFLATE_WIDTH){1<(r=e/i)&&(a.width=i,a.height=t/r)}else if(o==l.Img.MODE_SCALE_DEFLATE_HEIGHT){1<(s=t/n)&&(a.width=e/s,a.height=n)}else if(o==l.Img.MODE_SCALE_DEFLATE_FILL){(s=t/n)<(r=e/i)?1<r&&(a.width=i,a.height=t/r):1<s&&(a.width=e/s,a.height=n)}else if(o==l.Img.MODE_SCALE_DEFLATE_MAX&&i<e&&n<t){r=e/i,s=t/n;a.height=r<s?(a.width=i,t/r):(a.width=e/s,n)}return a.width=Math.floor(a.width),a.height=Math.floor(a.height),0==a.width&&(a.width=1),0==a.height&&(a.height=1),a},optimize:function(e,t){var i=new Image;i.src=e.src;var n=i.width,o=i.height;(l.isNull(n)||0==n||l.isNull(o)||0==o)&&(n=e.width,o=e.height);var a=l.calcSize(n,o,t.width,t.height,t.mode);return e.width=a.width,e.height=a.height,1==t.display?e.style.display="inline":2==t.display?e.style.display="none":3==t.display?e.style.display="inline-block":e.style.display="block",{width:e.width,height:e.height}},slideUp:function(i,e,n){r(void 0,i,{height:0,padding:{top:0,bot:0},margin:{top:0,bot:0}},e,function(e){var t=i.style;t.width="",t.height="",t.padding="",t.margin="",i.style.display="none",n&&n()})},slideDown:function(e,t,i){var n=e.style,o=window.getComputedStyle(e,null);n.display="block";var a={width:parseInt(o.getPropertyValue("width")),height:parseInt(o.getPropertyValue("height")),padding:{top:parseInt(o.getPropertyValue("padding-top")),bot:parseInt(o.getPropertyValue("padding-bottom"))},margin:{top:parseInt(o.getPropertyValue("margin-top")),bot:parseInt(o.getPropertyValue("margin-bottom"))}};n.height="0",n.paddingTop="0",n.paddingBottom="0",n.marginTop="0",n.marginBottom="0",r(void 0,e,a,t,function(){n.width="",n.height="",n.padding="",n.margin="",e.style.display="block",i&&i()})},isUndef:function(e){return null==e},isDef:function(e){return null!=e},Background:{IMAGE_POSITION:[{key:"left-top",backgroundRepeat:"no-repeat",backgroundPositionX:"left",backgroundPositionY:"top",backgroundSize:"auto"},{key:"center-top",backgroundRepeat:"no-repeat",backgroundPositionX:"center",backgroundPositionY:"top",backgroundSize:"auto"},{key:"right-top",backgroundRepeat:"no-repeat",backgroundPositionX:"right",backgroundPositionY:"top",backgroundSize:"auto"},{key:"left-center",backgroundRepeat:"no-repeat",backgroundPositionX:"left",backgroundPositionY:"center",backgroundSize:"auto"},{key:"center-center",backgroundRepeat:"no-repeat",backgroundPositionX:"center",backgroundPositionY:"center",backgroundSize:"auto"},{key:"right-center",backgroundRepeat:"no-repeat",backgroundPositionX:"right",backgroundPositionY:"center",backgroundSize:"auto"},{key:"left-bottom",backgroundRepeat:"no-repeat",backgroundPositionX:"left",backgroundPositionY:"bottom",backgroundSize:"auto"},{key:"center-bottom",backgroundRepeat:"no-repeat",backgroundPositionX:"center",backgroundPositionY:"bottom",backgroundSize:"auto"},{key:"right-bottom",backgroundRepeat:"no-repeat",backgroundPositionX:"right",backgroundPositionY:"bottom",backgroundSize:"auto"}],PAVING_EFFECT:[{label:"默认",key:"default",backgroundRepeat:"repeat",backgroundPositionX:"center",backgroundPositionY:"center",backgroundSize:"auto"},{label:"缩放平铺",key:"zoom-tile",backgroundRepeat:"no-repeat",backgroundPositionX:"center",backgroundPositionY:"top",backgroundSize:"100%"},{label:"上",key:"top",backgroundRepeat:"repeat-x",backgroundPositionX:"center",backgroundPositionY:"top",backgroundSize:"auto"},{label:"中-横向",key:"in-horizontal",backgroundRepeat:"repeat-x",backgroundPositionX:"center",backgroundPositionY:"center",backgroundSize:"auto"},{label:"下",key:"bottom",backgroundRepeat:"repeat-x",backgroundPositionX:"center",backgroundPositionY:"bottom",backgroundSize:"auto"},{label:"左",key:"left",backgroundRepeat:"repeat-y",backgroundPositionX:"left",backgroundPositionY:"top",backgroundSize:"auto"},{label:"中-纵向",key:"in-vertical",backgroundRepeat:"repeat-y",backgroundPositionX:"center",backgroundPositionY:"top",backgroundSize:"auto"},{label:"右",key:"right",backgroundRepeat:"repeat-y",backgroundPositionX:"right",backgroundPositionY:"top",backgroundSize:"auto"}],SCALING_STRETCH:[{backgroundRepeat:"no-repeat",backgroundPositionX:"left",backgroundPositionY:"center",backgroundSize:"100% 100%"}],SCALING_FILL:[{backgroundRepeat:"no-repeat",backgroundPositionX:"center",backgroundPositionY:"center",backgroundSize:"cover"}],SCALING_CONTAIN:[{backgroundRepeat:"no-repeat",backgroundPositionX:"center",backgroundPositionY:"center",backgroundSize:"contain"}]},parseBackgroundImageUrl:function(e){var t="";if(e){var i=e.match(/url\(\s*['|""]?\s*(\S+)\s*['|""]?\s*\)/);i&&i[1]&&(t=i[1])}return t},parseBackgroundImageGradient:function(e){var t="";if(e){var i=e.match(/linear-gradient\(\s*.+\s*\)/);i&&i[0]&&(t=i[0])}return t},concatBackgroundColor:function(e){return/linear-gradient\(/.test(e)?"":e},concatBackgroundImage:function(e,t){return[e?"url("+e+")":"",/linear-gradient\(/.test(t)?t:""].filter(function(e){return e}).join(",")}}}(),function(e,t){void 0!==e.Vue&&e.Vue.directive("clickoutside",{bind:function(t,i){function e(e){if(t.contains(e.target))return!1;i.expression&&i.value(e)}t.__vueClickOutside__=e,document.addEventListener("click",e)},unbind:function(e){document.removeEventListener("click",e.__vueClickOutside__),delete e.__vueClickOutside__}})}(this),function(e,t){var i;void 0!==e.Vue&&e.Vue.directive("resize",(i=e,{inserted:function(e,t){void 0!==i.ResizeDetector&&i.ResizeDetector.addListener(e,t.value)},unbind:function(e){void 0!==i.ResizeDetector&&i.ResizeDetector.removeListener(e)}}))}(this),function(e,t){void 0!==e.Vue&&e.Vue.directive("undo",{})}(this),function(e){"use strict";"function"==typeof define&&define.amd?define(e):"undefined"!=typeof module&&void 0!==module.exports?module.exports=e():window.Sortable=e()}(function(){"use strict";if("undefined"==typeof window||!window.document)return function(){throw new Error("Sortable.js requires a window with a document")};var S,T,$,z,j,D,d,g,v,b,I,P,E,c,n,A,O,u,y,L,e,_={},o=/\s+/g,F=/left|right|inline/,V="Sortable"+(new Date).getTime(),w=window,h=w.document,a=w.parseInt,N=w.setTimeout,t=w.jQuery||w.Zepto,i=w.Polymer,r=!1,s=!1,l="draggable"in h.createElement("div"),p=!navigator.userAgent.match(/(?:Trident.*rv[ :]?11\.|msie)/i)&&((e=h.createElement("x")).style.cssText="pointer-events:auto","auto"===e.style.pointerEvents),B=!1,x=Math.abs,f=Math.min,m=[],C=[],k=function(){return!1},H=oe(function(e,t,i){if(i&&t.scroll){var n,o,a,r,s,l,c=i[V],u=t.scrollSensitivity,d=t.scrollSpeed,h=e.clientX,p=e.clientY,f=window.innerWidth,m=window.innerHeight;if(v!==i&&(g=t.scroll,v=i,b=t.scrollFn,!0===g)){g=i;do{if(g.offsetWidth<g.scrollWidth||g.offsetHeight<g.scrollHeight)break}while(g=g.parentNode)}g&&(o=(n=g).getBoundingClientRect(),a=(x(o.right-h)<=u)-(x(o.left-h)<=u),r=(x(o.bottom-p)<=u)-(x(o.top-p)<=u)),a||r||(r=(m-p<=u)-(p<=u),((a=(f-h<=u)-(h<=u))||r)&&(n=w)),_.vx===a&&_.vy===r&&_.el===n||(_.el=n,_.vx=a,_.vy=r,clearInterval(_.pid),n&&(_.pid=setInterval(function(){l=r?r*d:0,s=a?a*d:0,"function"==typeof b&&"continue"!==b.call(c,s,l,e,y,n)||(n===w?w.scrollTo(w.pageXOffset+s,w.pageYOffset+l):(n.scrollTop+=l,n.scrollLeft+=s))},24)))}},30),R=function(e){function t(n,o){return null!=n&&!0!==n||null!=(n=i.name)?"function"==typeof n?n:function(e,t){var i=t.options.group.name;return o?n:n&&(n.join?-1<n.indexOf(i):i==n)}:k}var i={},n=e.group;n&&"object"==_typeof2(n)||(n={name:n}),i.name=n.name,i.checkPull=t(n.pull,!0),i.checkPut=t(n.put),i.revertClone=n.revertClone,e.group=i};try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){r={capture:s=!1,passive:s}}}))}catch(e){}function M(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be HTMLElement, and not "+{}.toString.call(e);this.el=e,this.options=t=ae({},t),e[V]=this;var i={group:null,sort:!0,disabled:!1,store:null,handle:null,scroll:!0,scrollSensitivity:30,scrollSpeed:10,draggable:/[uo]l/i.test(e.nodeName)?"li":">*",ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,touchStartThreshold:a(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==M.supportPointer};for(var n in i)!(n in t)&&(t[n]=i[n]);for(var o in R(t),this)"_"===o.charAt(0)&&"function"==typeof this[o]&&(this[o]=this[o].bind(this));this.nativeDraggable=!t.forceFallback&&l,q(e,"mousedown",this._onTapStart),q(e,"touchstart",this._onTapStart),t.supportPointer&&q(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(q(e,"dragover",this),q(e,"dragenter",this)),C.push(this._onDragOver),t.store&&this.sort(t.store.get(this))}function W(e,t){"clone"!==e.lastPullMode&&(t=!0),z&&z.state!==t&&(Y(z,"display",t?"none":""),t||z.state&&(e.options.group.revertClone?(j.insertBefore(z,D),e._animate(S,z)):j.insertBefore(z,S)),z.state=t)}function U(e,t,i){if(e){i=i||h;do{if(">*"===t&&e.parentNode===i||ne(e,t))return e}while(void 0,e=(o=(n=e).host)&&o.nodeType?o:n.parentNode)}var n,o;return null}function q(e,t,i){e.addEventListener(t,i,r)}function X(e,t,i){e.removeEventListener(t,i,r)}function G(e,t,i){if(e)if(e.classList)e.classList[i?"add":"remove"](t);else{var n=(" "+e.className+" ").replace(o," ").replace(" "+t+" "," ");e.className=(n+(i?" "+t:"")).replace(o," ")}}function Y(e,t,i){var n=e&&e.style;if(n){if(void 0===i)return h.defaultView&&h.defaultView.getComputedStyle?i=h.defaultView.getComputedStyle(e,""):e.currentStyle&&(i=e.currentStyle),void 0===t?i:i[t];t in n||(t="-webkit-"+t),n[t]=i+("string"==typeof i?"":"px")}}function Q(e,t,i){if(e){var n=e.getElementsByTagName(t),o=0,a=n.length;if(i)for(;o<a;o++)i(n[o],o);return n}return[]}function K(e,t,i,n,o,a,r,s,l){e=e||t[V];var c=h.createEvent("Event"),u=e.options,d="on"+i.charAt(0).toUpperCase()+i.substr(1);c.initEvent(i,!0,!0),c.to=o||t,c.from=a||t,c.item=n||t,c.clone=z,c.oldIndex=r,c.newIndex=s,c.originalEvent=l,t.dispatchEvent(c),u[d]&&u[d].call(e,c)}function J(e,t,i,n,o,a,r,s){var l,c,u=e[V],d=u.options.onMove;return(l=h.createEvent("Event")).initEvent("move",!0,!0),l.to=t,l.from=e,l.dragged=i,l.draggedRect=n,l.related=o||t,l.relatedRect=a||t.getBoundingClientRect(),l.willInsertAfter=s,l.originalEvent=r,e.dispatchEvent(l),d&&(c=d.call(u,l,r)),c}function Z(e){e.draggable=!1}function ee(){B=!1}function te(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,i=t.length,n=0;i--;)n+=t.charCodeAt(i);return n.toString(36)}function ie(e,t){var i=0;if(!e||!e.parentNode)return-1;for(;e&&(e=e.previousElementSibling);)"TEMPLATE"===e.nodeName.toUpperCase()||">*"!==t&&!ne(e,t)||i++;return i}function ne(e,t){if(e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t)}catch(e){return!1}return!1}function oe(e,t){var i,n;return function(){void 0===i&&(i=arguments,n=this,N(function(){1===i.length?e.call(n,i[0]):e.apply(n,i),i=void 0},t))}}function ae(e,t){if(e&&t)for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e}function re(e){return i&&i.dom?i.dom(e).cloneNode(!0):t?t(e).clone(!0)[0]:e.cloneNode(!0)}function se(e){return N(e,0)}function le(e){return clearTimeout(e)}return M.prototype={constructor:M,_onTapStart:function(e){var t,i=this,n=this.el,o=this.options,a=o.preventOnFilter,r=e.type,s=e.touches&&e.touches[0],l=(s||e).target,c=e.target.shadowRoot&&e.path&&e.path[0]||l,u=o.filter;if(function(e){m.length=0;var t=e.getElementsByTagName("input"),i=t.length;for(;i--;){var n=t[i];n.checked&&m.push(n)}}(n),!S&&!(/mousedown|pointerdown/.test(r)&&0!==e.button||o.disabled)&&!c.isContentEditable&&(l=U(l,o.draggable,n))&&d!==l){if(t=ie(l,o.draggable),"function"==typeof u){if(u.call(this,e,l,this))return K(i,c,"filter",l,n,n,t),void(a&&e.preventDefault())}else if(u&&(u=u.split(",").some(function(e){if(e=U(c,e.trim(),n))return K(i,e,"filter",l,n,n,t),!0})))return void(a&&e.preventDefault());o.handle&&!U(c,o.handle,n)||this._prepareDragStart(e,s,l,t)}},_prepareDragStart:function(e,t,i,n){var o,a=this,r=a.el,s=a.options,l=r.ownerDocument;i&&!S&&i.parentNode===r&&(u=e,j=r,T=(S=i).parentNode,D=S.nextSibling,d=i,A=s.group,c=n,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,S.style["will-change"]="all",o=function(){a._disableDelayedDrag(),S.draggable=a.nativeDraggable,G(S,s.chosenClass,!0),a._triggerDragStart(e,t),K(a,j,"choose",S,j,j,c)},s.ignore.split(",").forEach(function(e){Q(S,e.trim(),Z)}),q(l,"mouseup",a._onDrop),q(l,"touchend",a._onDrop),q(l,"touchcancel",a._onDrop),q(l,"selectstart",a),s.supportPointer&&q(l,"pointercancel",a._onDrop),s.delay?(q(l,"mouseup",a._disableDelayedDrag),q(l,"touchend",a._disableDelayedDrag),q(l,"touchcancel",a._disableDelayedDrag),q(l,"mousemove",a._disableDelayedDrag),q(l,"touchmove",a._delayedDragTouchMoveHandler),s.supportPointer&&q(l,"pointermove",a._delayedDragTouchMoveHandler),a._dragStartTimer=N(o,s.delay)):o())},_delayedDragTouchMoveHandler:function(e){f(x(e.clientX-this._lastX),x(e.clientY-this._lastY))>=this.options.touchStartThreshold&&this._disableDelayedDrag()},_disableDelayedDrag:function(){var e=this.el.ownerDocument;clearTimeout(this._dragStartTimer),X(e,"mouseup",this._disableDelayedDrag),X(e,"touchend",this._disableDelayedDrag),X(e,"touchcancel",this._disableDelayedDrag),X(e,"mousemove",this._disableDelayedDrag),X(e,"touchmove",this._disableDelayedDrag),X(e,"pointermove",this._disableDelayedDrag)},_triggerDragStart:function(e,t){(t=t||("touch"==e.pointerType?e:null))?(u={target:S,clientX:t.clientX,clientY:t.clientY},this._onDragStart(u,"touch")):this.nativeDraggable?(q(S,"dragend",this),q(j,"dragstart",this._onDragStart)):this._onDragStart(u,!0);try{h.selection?se(function(){h.selection.empty()}):window.getSelection().removeAllRanges()}catch(e){}},_dragStarted:function(){if(j&&S){var e=this.options;G(S,e.ghostClass,!0),G(S,e.dragClass,!1),K(M.active=this,j,"start",S,j,j,c)}else this._nulling()},_emulateDragOver:function(){if(y){if(this._lastX===y.clientX&&this._lastY===y.clientY)return;this._lastX=y.clientX,this._lastY=y.clientY,p||Y($,"display","none");for(var e=h.elementFromPoint(y.clientX,y.clientY),t=e,i=C.length;e&&e.shadowRoot;)t=e=e.shadowRoot.elementFromPoint(y.clientX,y.clientY);if(t)do{if(t[V]){for(;i--;)C[i]({clientX:y.clientX,clientY:y.clientY,target:e,rootEl:t});break}e=t}while(t=t.parentNode);p||Y($,"display","")}},_onTouchMove:function(e){if(u){var t=this.options,i=t.fallbackTolerance,n=t.fallbackOffset,o=e.touches?e.touches[0]:e,a=o.clientX-u.clientX+n.x,r=o.clientY-u.clientY+n.y,s=e.touches?"translate3d("+a+"px,"+r+"px,0)":"translate("+a+"px,"+r+"px)";if(!M.active){if(i&&f(x(o.clientX-this._lastX),x(o.clientY-this._lastY))<i)return;this._dragStarted()}this._appendGhost(),L=!0,y=o,Y($,"webkitTransform",s),Y($,"mozTransform",s),Y($,"msTransform",s),Y($,"transform",s),e.preventDefault()}},_appendGhost:function(){if(!$){var e,t=S.getBoundingClientRect(),i=Y(S),n=this.options;G($=S.cloneNode(!0),n.ghostClass,!1),G($,n.fallbackClass,!0),G($,n.dragClass,!0),Y($,"top",t.top-a(i.marginTop,10)),Y($,"left",t.left-a(i.marginLeft,10)),Y($,"width",t.width),Y($,"height",t.height),Y($,"opacity","0.8"),Y($,"position","fixed"),Y($,"zIndex","100000"),Y($,"pointerEvents","none"),n.fallbackOnBody&&h.body.appendChild($)||j.appendChild($),e=$.getBoundingClientRect(),Y($,"width",2*t.width-e.width),Y($,"height",2*t.height-e.height)}},_onDragStart:function(e,t){var i=this,n=e.dataTransfer,o=i.options;i._offUpEvents(),A.checkPull(i,i,S,e)&&((z=re(S)).draggable=!1,z.style["will-change"]="",Y(z,"display","none"),G(z,i.options.chosenClass,!1),i._cloneId=se(function(){j.insertBefore(z,S),K(i,j,"clone",S)})),G(S,o.dragClass,!0),t?("touch"===t?(q(h,"touchmove",i._onTouchMove),q(h,"touchend",i._onDrop),q(h,"touchcancel",i._onDrop),o.supportPointer&&(q(h,"pointermove",i._onTouchMove),q(h,"pointerup",i._onDrop))):(q(h,"mousemove",i._onTouchMove),q(h,"mouseup",i._onDrop)),i._loopId=setInterval(i._emulateDragOver,50)):(n&&(n.effectAllowed="move",o.setData&&o.setData.call(i,n,S)),q(h,"drop",i),i._dragStartId=se(i._dragStarted))},_onDragOver:function(e){var t,i,n,o,a,r,s=this.el,l=this.options,c=l.group,u=M.active,d=A===c,h=!1,p=l.sort;if((void 0!==e.preventDefault&&(e.preventDefault(),!l.dragoverBubble&&e.stopPropagation()),!S.animated)&&(L=!0,u&&!l.disabled&&(d?p||(o=!j.contains(S)):O===this||(u.lastPullMode=A.checkPull(this,u,S,e))&&c.checkPut(this,u,S,e))&&(void 0===e.rootEl||e.rootEl===this.el))){if(H(e,l,this.el),B)return;if(t=U(e.target,l.draggable,s),i=S.getBoundingClientRect(),O!==this&&(O=this,h=!0),o)return W(u,!0),T=j,void(z||D?j.insertBefore(S,z||D):p||j.appendChild(S));if(0===s.children.length||s.children[0]===$||s===e.target&&(a=e,r=s.lastElementChild.getBoundingClientRect(),5<a.clientY-(r.top+r.height)||5<a.clientX-(r.left+r.width))){if(0!==s.children.length&&s.children[0]!==$&&s===e.target&&(t=s.lastElementChild),t){if(t.animated)return;n=t.getBoundingClientRect()}W(u,d),!1!==J(j,s,S,i,t,n,e)&&(S.contains(s)||(s.appendChild(S),T=s),this._animate(i,S),t&&this._animate(n,t))}else if(t&&!t.animated&&t!==S&&void 0!==t.parentNode[V]){I!==t&&(P=Y(I=t),E=Y(t.parentNode));var f=(n=t.getBoundingClientRect()).right-n.left,m=n.bottom-n.top,g=F.test(P.cssFloat+P.display)||"flex"==E.display&&0===E["flex-direction"].indexOf("row"),v=t.offsetWidth>S.offsetWidth,b=t.offsetHeight>S.offsetHeight,y=.5<(g?(e.clientX-n.left)/f:(e.clientY-n.top)/m),_=t.nextElementSibling,w=!1;if(g){var x=S.offsetTop,C=t.offsetTop;w=x===C?t.previousElementSibling===S&&!v||y&&v:t.previousElementSibling===S||S.previousElementSibling===t?.5<(e.clientY-n.top)/m:x<C}else h||(w=_!==S&&!b||y&&b);var k=J(j,s,S,i,t,n,e,w);!1!==k&&(1!==k&&-1!==k||(w=1===k),B=!0,N(ee,30),W(u,d),S.contains(s)||(w&&!_?s.appendChild(S):t.parentNode.insertBefore(S,w?_:t)),T=S.parentNode,this._animate(i,S),this._animate(n,t))}}},_animate:function(e,t){var i=this.options.animation;if(i){var n=t.getBoundingClientRect();1===e.nodeType&&(e=e.getBoundingClientRect()),Y(t,"transition","none"),Y(t,"transform","translate3d("+(e.left-n.left)+"px,"+(e.top-n.top)+"px,0)"),t.offsetWidth,Y(t,"transition","all "+i+"ms"),Y(t,"transform","translate3d(0,0,0)"),clearTimeout(t.animated),t.animated=N(function(){Y(t,"transition",""),Y(t,"transform",""),t.animated=!1},i)}},_offUpEvents:function(){var e=this.el.ownerDocument;X(h,"touchmove",this._onTouchMove),X(h,"pointermove",this._onTouchMove),X(e,"mouseup",this._onDrop),X(e,"touchend",this._onDrop),X(e,"pointerup",this._onDrop),X(e,"touchcancel",this._onDrop),X(e,"pointercancel",this._onDrop),X(e,"selectstart",this)},_onDrop:function(e){var t=this.el,i=this.options;clearInterval(this._loopId),clearInterval(_.pid),clearTimeout(this._dragStartTimer),le(this._cloneId),le(this._dragStartId),X(h,"mouseover",this),X(h,"mousemove",this._onTouchMove),this.nativeDraggable&&(X(h,"drop",this),X(t,"dragstart",this._onDragStart)),this._offUpEvents(),e&&(L&&(e.preventDefault(),!i.dropBubble&&e.stopPropagation()),$&&$.parentNode&&$.parentNode.removeChild($),j!==T&&"clone"===M.active.lastPullMode||z&&z.parentNode&&z.parentNode.removeChild(z),S&&(this.nativeDraggable&&X(S,"dragend",this),Z(S),S.style["will-change"]="",G(S,this.options.ghostClass,!1),G(S,this.options.chosenClass,!1),K(this,j,"unchoose",S,T,j,c,null,e),j!==T?0<=(n=ie(S,i.draggable))&&(K(null,T,"add",S,T,j,c,n,e),K(this,j,"remove",S,T,j,c,n,e),K(null,T,"sort",S,T,j,c,n,e),K(this,j,"sort",S,T,j,c,n,e)):S.nextSibling!==D&&0<=(n=ie(S,i.draggable))&&(K(this,j,"update",S,T,j,c,n,e),K(this,j,"sort",S,T,j,c,n,e)),M.active&&(null!=n&&-1!==n||(n=c),K(this,j,"end",S,T,j,c,n,e),this.save()))),this._nulling()},_nulling:function(){j=S=T=$=D=z=d=g=v=u=y=L=n=I=P=O=A=M.active=null,m.forEach(function(e){e.checked=!0}),m.length=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragover":case"dragenter":S&&(this._onDragOver(e),function(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move");e.preventDefault()}(e));break;case"mouseover":this._onDrop(e);break;case"selectstart":e.preventDefault()}},toArray:function(){for(var e,t=[],i=this.el.children,n=0,o=i.length,a=this.options;n<o;n++)U(e=i[n],a.draggable,this.el)&&t.push(e.getAttribute(a.dataIdAttr)||te(e));return t},sort:function(e){var n={},o=this.el;this.toArray().forEach(function(e,t){var i=o.children[t];U(i,this.options.draggable,o)&&(n[e]=i)},this),e.forEach(function(e){n[e]&&(o.removeChild(n[e]),o.appendChild(n[e]))})},save:function(){var e=this.options.store;e&&e.set(this)},closest:function(e,t){return U(e,t||this.options.draggable,this.el)},option:function(e,t){var i=this.options;if(void 0===t)return i[e];i[e]=t,"group"===e&&R(i)},destroy:function(){var e=this.el;e[V]=null,X(e,"mousedown",this._onTapStart),X(e,"touchstart",this._onTapStart),X(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(X(e,"dragover",this),X(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(e){e.removeAttribute("draggable")}),C.splice(C.indexOf(this._onDragOver),1),this._onDrop(),this.el=e=null}},q(h,"touchmove",function(e){M.active&&e.preventDefault()}),M.utils={on:q,off:X,css:Y,find:Q,is:function(e,t){return!!U(e,t,e)},extend:ae,throttle:oe,closest:U,toggleClass:G,clone:re,index:ie,nextTick:se,cancelNextTick:le},M.create=function(e,t){return new M(e,t)},M.version="1.7.0",M}),function(){"use strict";var e="function"==typeof Symbol&&"symbol"===_typeof2(Symbol.iterator)?function(e){return _typeof2(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof2(e)},u=Object.assign;function d(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return[].slice.call(e)}function t(n){function o(e){e.parentElement.removeChild(e)}function a(e,t,i){var n=0===i?e.children[0]:e.children[i-1].nextSibling;e.insertBefore(t,n)}function r(e,t){var i=this;this.$nextTick(function(){return i.$emit(e.toLowerCase(),t)})}var s=["Start","Add","Remove","Update","End"],l=["Choose","Sort","Filter","Clone"],i=["Move"].concat(s,l).map(function(e){return"on"+e}),c=null;return{name:"draggable",props:vue_utils.initDefaultProps({options:Object,list:{type:Array,required:!1},value:{type:Array,required:!1},noTransitionOnDrag:{type:Boolean},clone:{type:Function},element:{type:String},move:{type:Function}},{list:null,value:null,noTransitionOnDrag:!1,clone:function(e){return e},element:"div",move:null}),data:function(){return{transitionMode:!1,componentMode:!1}},render:function(e){var t=this.$slots.default;if(t&&1===t.length){var i=t[0];i.componentOptions&&"transition-group"===i.componentOptions.tag&&(this.transitionMode=!0)}var n=t,o=this.$slots.footer;return o&&(n=t?[].concat(d(t),d(o)):[].concat(d(o))),e(this.element,null,n)},mounted:function(){var i=this;if(this.componentMode=this.element.toLowerCase()!==this.$el.nodeName.toLowerCase(),this.componentMode&&this.transitionMode)throw new Error("Transition-group inside component is not supported. Please alter element value or remove transition-group. Current element value: "+this.element);var t={};s.forEach(function(e){t["on"+e]=function(t){var i=this;return function(e){null!==i.realList&&i["onDrag"+t](e),r.call(i,t,e)}}.call(i,e)}),l.forEach(function(e){t["on"+e]=r.bind(i,e)});var e=u({},this.options,t,{onMove:function(e,t){return i.onDragMove(e,t)}});!("draggable"in e)&&(e.draggable=">*"),this._sortable=new n(this.rootContainer,e),this.computeIndexes()},beforeDestroy:function(){this._sortable.destroy()},computed:{rootContainer:function(){return this.transitionMode?this.$el.children[0]:this.$el},isCloning:function(){return!!this.options&&!!this.options.group&&"clone"===this.options.group.pull},realList:function(){return this.list?this.list:this.value}},watch:{options:{handler:function(e){for(var t in e)-1==i.indexOf(t)&&this._sortable.option(t,e[t])},deep:!0},realList:function(){this.computeIndexes()}},methods:{getChildrenNodes:function(){if(this.componentMode)return this.$children[0].$slots.default;var e=this.$slots.default;return this.transitionMode?e[0].child.$slots.default:e},computeIndexes:function(){var e=this;this.$nextTick(function(){e.visibleIndexes=function(e,t,i){if(!e)return[];var n=e.map(function(e){return e.elm}),o=[].concat(d(t)).map(function(e){return n.indexOf(e)});return i?o.filter(function(e){return-1!==e}):o}(e.getChildrenNodes(),e.rootContainer.children,e.transitionMode)})},getUnderlyingVm:function(e){var t,i,n=(t=this.getChildrenNodes()||[],i=e,t.map(function(e){return e.elm}).indexOf(i));return-1===n?null:{index:n,element:this.realList[n]}},getUnderlyingPotencialDraggableComponent:function(e){var t=e.__vue__;return t&&t.$options&&"transition-group"===t.$options._componentTag?t.$parent:t},emitChanges:function(e){var t=this;this.$nextTick(function(){t.$emit("change",e)})},alterList:function(e){if(this.list)e(this.list);else{var t=[].concat(d(this.value));e(t),this.$emit("input",t)}},spliceList:function(){var t=arguments,e=function(e){return e.splice.apply(e,t)};this.alterList(e)},updatePosition:function(t,i){var e=function(e){return e.splice(i,0,e.splice(t,1)[0])};this.alterList(e)},getRelatedContextFromMoveEvent:function(e){var t=e.to,i=e.related,n=this.getUnderlyingPotencialDraggableComponent(t);if(!n)return{component:n};var o=n.realList,a={list:o,component:n};if(t!==i&&o&&n.getUnderlyingVm){var r=n.getUnderlyingVm(i);if(r)return u(r,a)}return a},getVmIndex:function(e){var t=this.visibleIndexes,i=t.length;return i-1<e?i:t[e]},getComponent:function(){return this.$slots.default[0].componentInstance},resetTransitionData:function(e){if(this.noTransitionOnDrag&&this.transitionMode){this.getChildrenNodes()[e].data=null;var t=this.getComponent();t.children=[],t.kept=void 0}},onDragStart:function(e){this.context=this.getUnderlyingVm(e.item),e.item._underlying_vm_=this.clone(this.context.element),c=e.item},onDragAdd:function(e){var t=e.item._underlying_vm_;if(void 0!==t){o(e.item);var i=this.getVmIndex(e.newIndex);this.spliceList(i,0,t),this.computeIndexes();var n={element:t,newIndex:i};this.emitChanges({added:n})}},onDragRemove:function(e){if(a(this.rootContainer,e.item,e.oldIndex),this.isCloning)o(e.clone);else{var t=this.context.index;this.spliceList(t,1);var i={element:this.context.element,oldIndex:t};this.resetTransitionData(t),this.emitChanges({removed:i})}},onDragUpdate:function(e){o(e.item),a(e.from,e.item,e.oldIndex);var t=this.context.index,i=this.getVmIndex(e.newIndex);this.updatePosition(t,i);var n={element:this.context.element,oldIndex:t,newIndex:i};this.emitChanges({moved:n})},computeFutureIndex:function(e,t){if(!e.element)return 0;var i=[].concat(d(t.to.children)).filter(function(e){return"none"!==e.style.display}),n=i.indexOf(t.related),o=e.component.getVmIndex(n);return-1!=i.indexOf(c)||!t.willInsertAfter?o:o+1},onDragMove:function(e,t){var i=this.move;if(!i||!this.realList)return!0;var n=this.getRelatedContextFromMoveEvent(e),o=this.context,a=this.computeFutureIndex(n,e);return u(o,{futureIndex:a}),u(e,{relatedContext:n,draggedContext:o}),i(e,t)},onDragEnd:function(e){this.computeIndexes(),c=null}}}}if("object"==("undefined"==typeof exports?"undefined":e(exports))){var i=require("sortablejs");module.exports=t(i)}else if("function"==typeof define&&define.amd)define(["sortablejs"],function(e){return t(e)});else if(window&&window.Vue&&window.Sortable){var n=t(window.Sortable);Vue.component("draggable",n)}else window.Vue,window.Sortable}(),function(e,t){"object"==("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.VueLazyload=t()}(this,function(){function r(e){e=e||{};var t=arguments.length,i=0;if(1===t)return e;for(;++i<t;){var n=arguments[i];u(e)&&(e=n),s(n)&&o(e,n)}return e}function o(e,t){for(var i in h(e,t),t)if("__proto__"!==i&&(o=t,a=i,Object.prototype.hasOwnProperty.call(o,a))){var n=t[i];s(n)?("undefined"===p(e[i])&&"function"===p(n)&&(e[i]=n),e[i]=r(e[i]||{},n)):e[i]=n}var o,a;return e}function s(e){return"object"===p(e)||"function"===p(e)}function a(e,t){if(e.length){var i=e.indexOf(t);return-1<i?e.splice(i,1):void 0}}function d(e,t){if("IMG"===e.tagName&&e.getAttribute("data-srcset")){var i=e.getAttribute("data-srcset"),n=[],o=e.parentNode.offsetWidth*t,a=void 0,r=void 0,s=void 0;(i=i.trim().split(",")).map(function(e){e=e.trim(),a=e.lastIndexOf(" "),s=-1===a?(r=e,999998):(r=e.substr(0,a),parseInt(e.substr(a+1,e.length-a-2),10)),n.push([s,r])}),n.sort(function(e,t){if(e[0]<t[0])return-1;if(e[0]>t[0])return 1;if(e[0]===t[0]){if(-1!==t[1].indexOf(".webp",t[1].length-5))return 1;if(-1!==e[1].indexOf(".webp",e[1].length-5))return-1}return 0});for(var l="",c=void 0,u=n.length,d=0;d<u;d++)if((c=n[d])[0]>=o){l=c[1];break}return l}}function l(e,t){for(var i=void 0,n=0,o=e.length;n<o;n++)if(t(e[n])){i=e[n];break}return i}function e(){}var c="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)},w=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},t=function(){function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}}(),u=function(e){return null==e||"function"!=typeof e&&"object"!==(void 0===e?"undefined":c(e))},h=function(e,t){if(null==e)throw new TypeError("expected first argument to be an object.");if(void 0===t||"undefined"==typeof Symbol)return e;if("function"!=typeof Object.getOwnPropertySymbols)return e;for(var i=Object.prototype.propertyIsEnumerable,n=Object(e),o=arguments.length,a=0;++a<o;)for(var r=Object(arguments[a]),s=Object.getOwnPropertySymbols(r),l=0;l<s.length;l++){var c=s[l];i.call(r,c)&&(n[c]=r[c])}return n},n=Object.prototype.toString,p=function(e){var t,i=void 0===e?"undefined":c(e);return"undefined"===i?"undefined":null===e?"null":!0===e||!1===e||e instanceof Boolean?"boolean":"string"===i||e instanceof String?"string":"number"===i||e instanceof Number?"number":"function"===i||e instanceof Function?void 0!==e.constructor.name&&"Generator"===e.constructor.name.slice(0,9)?"generatorfunction":"function":void 0!==Array.isArray&&Array.isArray(e)?"array":e instanceof RegExp?"regexp":e instanceof Date?"date":"[object RegExp]"===(i=n.call(e))?"regexp":"[object Date]"===i?"date":"[object Arguments]"===i?"arguments":"[object Error]"===i?"error":"[object Promise]"===i?"promise":(t=e).constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)?"buffer":"[object Set]"===i?"set":"[object WeakSet]"===i?"weakset":"[object Map]"===i?"map":"[object WeakMap]"===i?"weakmap":"[object Symbol]"===i?"symbol":"[object Map Iterator]"===i?"mapiterator":"[object Set Iterator]"===i?"setiterator":"[object String Iterator]"===i?"stringiterator":"[object Array Iterator]"===i?"arrayiterator":"[object Int8Array]"===i?"int8array":"[object Uint8Array]"===i?"uint8array":"[object Uint8ClampedArray]"===i?"uint8clampedarray":"[object Int16Array]"===i?"int16array":"[object Uint16Array]"===i?"uint16array":"[object Int32Array]"===i?"int32array":"[object Uint32Array]"===i?"uint32array":"[object Float32Array]"===i?"float32array":"[object Float64Array]"===i?"float64array":"object"},f=r,x="undefined"!=typeof window,i=x&&"IntersectionObserver"in window,C="event",k="observer",m=function(){function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var i=document.createEvent("CustomEvent");return i.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),i}if(x)return"function"==typeof window.CustomEvent?window.CustomEvent:(e.prototype=window.Event.prototype,e)}(),g=function(){if(x){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",null,t)}catch(e){}return e}}(),v={on:function(e,t,i){var n=3<arguments.length&&void 0!==arguments[3]&&arguments[3];g?e.addEventListener(t,i,{capture:n,passive:!0}):e.addEventListener(t,i,n)},off:function(e,t,i){var n=3<arguments.length&&void 0!==arguments[3]&&arguments[3];e.removeEventListener(t,i,n)}},b=function(e,t,i){var n=new Image;n.src=e.src,n.onload=function(){t({naturalHeight:n.naturalHeight,naturalWidth:n.naturalWidth,src:n.src})},n.onerror=function(e){i(e)}},y=function(e,t){return"undefined"!=typeof getComputedStyle?getComputedStyle(e,null).getPropertyValue(t):e.style[t]},_={},S=function(){function c(e){var t=e.el,i=e.src,n=e.error,o=e.loading,a=e.bindType,r=e.$parent,s=e.options,l=e.elRenderer;w(this,c),this.el=t,this.src=i,this.error=n,this.loading=o,this.bindType=a,this.attempt=0,this.naturalHeight=0,this.naturalWidth=0,this.options=s,this.rect=null,this.$parent=r,this.elRenderer=l,this.performanceData={init:Date.now(),loadStart:0,loadEnd:0},this.filter(),this.initState(),this.render("loading",!1)}return t(c,[{key:"initState",value:function(){"dataset"in this.el?this.el.dataset.src=this.src:this.el.setAttribute("data-src",this.src),this.state={error:!1,loaded:!1,rendered:!1}}},{key:"record",value:function(e){this.performanceData[e]=Date.now()}},{key:"update",value:function(e){var t=e.src,i=e.loading,n=e.error,o=this.src;this.src=t,this.loading=i,this.error=n,this.filter(),o!==this.src&&(this.attempt=0,this.initState())}},{key:"getRect",value:function(){this.rect=this.el.getBoundingClientRect()}},{key:"checkInView",value:function(){return this.getRect(),this.rect.top<window.innerHeight*this.options.preLoad&&this.rect.bottom>this.options.preLoadTop&&this.rect.left<window.innerWidth*this.options.preLoad&&0<this.rect.right}},{key:"filter",value:function(){var t=this;(function(e){if(!(e instanceof Object))return[];if(Object.keys)return Object.keys(e);var t=[];for(var i in e)e.hasOwnProperty(i)&&t.push(i);return t})(this.options.filter).map(function(e){t.options.filter[e](t,t.options)})}},{key:"renderLoading",value:function(t){var i=this;b({src:this.loading},function(e){i.render("loading",!1),t()},function(){t(),i.options.silent||console.warn("VueLazyload log: load failed with loading image("+i.loading+")")})}},{key:"load",value:function(){var t=this,i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:e;return this.attempt>this.options.attempt-1&&this.state.error?(this.options.silent||console.log("VueLazyload log: "+this.src+" tried too more than "+this.options.attempt+" times"),void i()):this.state.loaded||_[this.src]?(this.state.loaded=!0,i(),this.render("loaded",!0)):void this.renderLoading(function(){t.attempt++,t.record("loadStart"),b({src:t.src},function(e){t.naturalHeight=e.naturalHeight,t.naturalWidth=e.naturalWidth,t.state.loaded=!0,t.state.error=!1,t.record("loadEnd"),t.render("loaded",!1),_[t.src]=1,i()},function(e){!t.options.silent&&console.error(e),t.state.error=!0,t.state.loaded=!1,t.render("error",!1)})})}},{key:"render",value:function(e,t){this.elRenderer(this,e,t)}},{key:"performance",value:function(){var e="loading",t=0;return this.state.loaded&&(e="loaded",t=(this.performanceData.loadEnd-this.performanceData.loadStart)/1e3),this.state.error&&(e="error"),{src:this.src,state:e,time:t}}},{key:"destroy",value:function(){this.el=null,this.src=null,this.error=null,this.loading=null,this.bindType=null,this.attempt=0}}]),c}(),T="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",$=["scroll","wheel","mousewheel","resize","animationend","transitionend","touchmove"],z={rootMargin:"0px",threshold:0},j=function(u){return function(){function _(e){var o,a,r,s,t=e.preLoad,i=e.error,n=e.throttleWait,l=e.preLoadTop,c=e.dispatchEvent,u=e.loading,d=e.attempt,h=e.silent,p=void 0===h||h,f=e.scale,m=e.listenEvents,g=(e.hasbind,e.filter),v=e.adapter,b=e.observer,y=e.observerOptions;w(this,_),this.version="1.2.5",this.mode=C,this.ListenerQueue=[],this.TargetIndex=0,this.TargetQueue=[],this.options={silent:p,dispatchEvent:!!c,throttleWait:n||200,preLoad:t||1.3,preLoadTop:l||0,error:i||T,loading:u||T,attempt:d||3,scale:f||function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1;return x&&window.devicePixelRatio||e}(f),ListenEvents:m||$,hasbind:!1,supportWebp:function(){if(!x)return!1;var e=!0,t=document;try{var i=t.createElement("object");i.type="image/webp",i.style.visibility="hidden",i.innerHTML="!",t.body.appendChild(i),e=!i.offsetWidth,t.body.removeChild(i)}catch(t){e=!1}return e}(),filter:g||{},adapter:v||{},observer:!!b,observerOptions:y||z},this._initEvent(),this.lazyLoadHandler=(o=this._lazyLoadHandler.bind(this),a=this.options.throttleWait,r=null,s=0,function(){if(!r){var e=Date.now()-s,t=this,i=arguments,n=function(){s=Date.now(),r=!1,o.apply(t,i)};a<=e?n():r=setTimeout(n,a)}}),this.setMode(this.options.observer?k:C)}return t(_,[{key:"config",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};f(this.options,e)}},{key:"performance",value:function(){var t=[];return this.ListenerQueue.map(function(e){t.push(e.performance())}),t}},{key:"addLazyBox",value:function(e){this.ListenerQueue.push(e),x&&(this._addListenerTarget(window),this._observer&&this._observer.observe(e.el),e.$el&&e.$el.parentNode&&this._addListenerTarget(e.$el.parentNode))}},{key:"add",value:function(n,o,a){var r=this;if(function(e,t){for(var i=!1,n=0,o=e.length;n<o;n++)if(t(e[n])){i=!0;break}return i}(this.ListenerQueue,function(e){return e.el===n}))return this.update(n,o),u.nextTick(this.lazyLoadHandler);var e=this._valueFormatter(o.value),s=e.src,l=e.loading,c=e.error;u.nextTick(function(){s=d(n,r.options.scale)||s,r._observer&&r._observer.observe(n);var e=Object.keys(o.modifiers)[0],t=void 0;e&&(t=(t=a.context.$refs[e])?t.$el||t:document.getElementById(e)),t||(t=function(e){if(x){if(!(e instanceof HTMLElement))return window;for(var t=e;t&&t!==document.body&&t!==document.documentElement&&t.parentNode;){if(/(scroll|auto)/.test(y(i=t,"overflow")+y(i,"overflow-y")+y(i,"overflow-x")))return t;t=t.parentNode}return window}var i}(n));var i=new S({bindType:o.arg,$parent:t,el:n,loading:l,error:c,src:s,elRenderer:r._elRenderer.bind(r),options:r.options});r.ListenerQueue.push(i),x&&(r._addListenerTarget(window),r._addListenerTarget(t)),r.lazyLoadHandler(),u.nextTick(function(){return r.lazyLoadHandler()})})}},{key:"update",value:function(t,e){var i=this,n=this._valueFormatter(e.value),o=n.src,a=n.loading,r=n.error;o=d(t,this.options.scale)||o;var s=l(this.ListenerQueue,function(e){return e.el===t});s&&s.update({src:o,loading:a,error:r}),this._observer&&(this._observer.unobserve(t),this._observer.observe(t)),this.lazyLoadHandler(),u.nextTick(function(){return i.lazyLoadHandler()})}},{key:"remove",value:function(t){if(t){this._observer&&this._observer.unobserve(t);var e=l(this.ListenerQueue,function(e){return e.el===t});e&&(this._removeListenerTarget(e.$parent),this._removeListenerTarget(window),a(this.ListenerQueue,e)&&e.destroy())}}},{key:"removeComponent",value:function(e){e&&(a(this.ListenerQueue,e),this._observer&&this._observer.unobserve(e.el),e.$parent&&e.$el.parentNode&&this._removeListenerTarget(e.$el.parentNode),this._removeListenerTarget(window))}},{key:"setMode",value:function(e){var t=this;i||e!==k||(e=C),(this.mode=e)===C?(this._observer&&(this.ListenerQueue.forEach(function(e){t._observer.unobserve(e.el)}),this._observer=null),this.TargetQueue.forEach(function(e){t._initListen(e.el,!0)})):(this.TargetQueue.forEach(function(e){t._initListen(e.el,!1)}),this._initIntersectionObserver())}},{key:"_addListenerTarget",value:function(t){if(t){var e=l(this.TargetQueue,function(e){return e.el===t});return e?e.childrenCount++:(e={el:t,id:++this.TargetIndex,childrenCount:1,listened:!0},this.mode===C&&this._initListen(e.el,!0),this.TargetQueue.push(e)),this.TargetIndex}}},{key:"_removeListenerTarget",value:function(i){var n=this;this.TargetQueue.forEach(function(e,t){e.el===i&&(--e.childrenCount||(n._initListen(e.el,!1),n.TargetQueue.splice(t,1),e=null))})}},{key:"_initListen",value:function(t,i){var n=this;this.options.ListenEvents.forEach(function(e){return v[i?"on":"off"](t,e,n.lazyLoadHandler)})}},{key:"_initEvent",value:function(){var o=this;this.Event={listeners:{loading:[],loaded:[],error:[]}},this.$on=function(e,t){o.Event.listeners[e].push(t)},this.$once=function(t,i){var n=o;o.$on(t,function e(){n.$off(t,e),i.apply(n,arguments)})},this.$off=function(e,t){t?a(o.Event.listeners[e],t):o.Event.listeners[e]=[]},this.$emit=function(e,t,i){o.Event.listeners[e].forEach(function(e){return e(t,i)})}}},{key:"_lazyLoadHandler",value:function(){var i=this;this.ListenerQueue.forEach(function(e,t){e.state.error||!e.state.loaded?e.checkInView()&&e.load():i.ListenerQueue.splice(t,1)})}},{key:"_initIntersectionObserver",value:function(){var t=this;i&&(this._observer=new IntersectionObserver(this._observerHandler.bind(this),this.options.observerOptions),this.ListenerQueue.length&&this.ListenerQueue.forEach(function(e){t._observer.observe(e.el)}))}},{key:"_observerHandler",value:function(e,t){var i=this;e.forEach(function(t){t.isIntersecting&&i.ListenerQueue.forEach(function(e){if(e.el===t.target){if(e.state.loaded)return i._observer.unobserve(e.el);e.load()}})})}},{key:"_elRenderer",value:function(e,t,i){if(e.el){var n=e.el,o=e.bindType,a=void 0;switch(t){case"loading":a=e.loading;break;case"error":a=e.error;break;default:a=e.src}if(o?n.style[o]='url("'+a+'")':n.getAttribute("src")!==a&&n.setAttribute("src",a),n.setAttribute("lazy",t),this.$emit(t,e,i),this.options.adapter[t]&&this.options.adapter[t](e,this.options),this.options.dispatchEvent){var r=new m(t,{detail:e});n.dispatchEvent(r)}}}},{key:"_valueFormatter",value:function(e){var t,i=e,n=this.options.loading,o=this.options.error;return null!==(t=e)&&"object"===(void 0===t?"undefined":c(t))&&(e.src||this.options.silent||console.error("Vue Lazyload warning: miss src with "+e),i=e.src,n=e.loading||this.options.loading,o=e.error||this.options.error),{src:i,loading:n,error:o}}}]),_}()},D=function(){function i(e){var t=e.lazy;w(this,i),((this.lazy=t).lazyContainerMananger=this)._queue=[]}return t(i,[{key:"bind",value:function(e,t,i){var n=new P({el:e,binding:t,vnode:i,lazy:this.lazy});this._queue.push(n)}},{key:"update",value:function(t,e,i){var n=l(this._queue,function(e){return e.el===t});n&&n.update({el:t,binding:e,vnode:i})}},{key:"unbind",value:function(t,e,i){var n=l(this._queue,function(e){return e.el===t});n&&(n.clear(),a(this._queue,n))}}]),i}(),I={selector:"img"},P=function(){function a(e){var t=e.el,i=e.binding,n=e.vnode,o=e.lazy;w(this,a),this.el=null,this.vnode=n,this.binding=i,this.options={},this.lazy=o,this._queue=[],this.update({el:t,binding:i})}return t(a,[{key:"update",value:function(e){var t=this,i=e.el,n=e.binding;this.el=i,this.options=f({},I,n.value),this.getImgs().forEach(function(e){t.lazy.add(e,f({},t.binding,{value:{src:"dataset"in e?e.dataset.src:e.getAttribute("data-src"),error:"dataset"in e?e.dataset.error:e.getAttribute("data-error"),loading:"dataset"in e?e.dataset.loading:e.getAttribute("data-loading")}}),t.vnode)})}},{key:"getImgs",value:function(){return function(e){for(var t=e.length,i=[],n=0;n<t;n++)i.push(e[n]);return i}(this.el.querySelectorAll(this.options.selector))}},{key:"clear",value:function(){var t=this;this.getImgs().forEach(function(e){return t.lazy.remove(e)}),this.vnode=null,this.binding=null,this.lazy=null}}]),a}();return{install:function(e){var t,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=new(j(e))(i),o=new D({lazy:n}),a="2"===e.version.split(".")[0];e.prototype.$Lazyload=n,i.lazyComponent&&e.component("lazy-component",(t=n,{props:{tag:{type:String,default:"div"}},render:function(e){return!1===this.show?e(this.tag):e(this.tag,null,this.$slots.default)},data:function(){return{el:null,state:{loaded:!1},rect:{},show:!1}},mounted:function(){this.el=this.$el,t.addLazyBox(this),t.lazyLoadHandler()},beforeDestroy:function(){t.removeComponent(this)},methods:{getRect:function(){this.rect=this.$el.getBoundingClientRect()},checkInView:function(){return this.getRect(),x&&this.rect.top<window.innerHeight*t.options.preLoad&&0<this.rect.bottom&&this.rect.left<window.innerWidth*t.options.preLoad&&0<this.rect.right},load:function(){this.show=!0,this.state.loaded=!0,this.$emit("show",this)}}})),a?(e.directive("lazy",{bind:n.add.bind(n),update:n.update.bind(n),componentUpdated:n.lazyLoadHandler.bind(n),unbind:n.remove.bind(n)}),e.directive("lazy-container",{bind:o.bind.bind(o),update:o.update.bind(o),unbind:o.unbind.bind(o)})):(e.directive("lazy",{bind:n.lazyLoadHandler.bind(n),update:function(e,t){f(this.vm.$refs,this.vm.$els),n.add(this.el,{modifiers:this.modifiers||{},arg:this.arg,value:e,oldValue:t},{context:this.vm})},unbind:function(){n.remove(this.el)}}),e.directive("lazy-container",{update:function(e,t){o.update(this.el,{modifiers:this.modifiers||{},arg:this.arg,value:e,oldValue:t},{context:this.vm})},unbind:function(){o.unbind(this.el)}}))}}}),Vue.use(VueLazyload,{preLoad:1.3,attempt:3,lazyComponent:!0}),function(e,t){void 0!==e.Vue&&e.Vue.component("alert-component",function(e){return e({template:'<div class="jz_alert"><i class="jz_alert_hey"></i><span class="jz_alert_content"><slot></slot></span></div>'})})}(this),function(){function i(e){var t=e.repeat;return e.repeat=0==e.picScale&&[3,5,11,1,12,21,2,22].indexOf(e.repeat)<0?3:e.repeat,e.repeat=1==e.picScale&&[13,8,14,6,0,7,15,9,16].indexOf(e.repeat)<0?0:e.repeat,t!=e.repeat}Vue.component("background-v2-component",{name:"Background",template:"\n            <div :class='classes.wrapper'>\n                <div>\n                    <slot name='title'/>\n                    <slot name='bgRadioGroup'/>\n                </div>\n                <div class='jz-bgContent' >\n                    <div class='jz-bgRow jz-bgAutoRow'>\n                        <jz-file-upload ref='fileUpload' :data='fileUpload' @on-change='imgChange'/>\n                    </div>\n                    <div class='jz-bgRow' v-if='data.imgId'>\n                        <label class='jz-bgTitle jz-bgTitle-middle'>图片缩放：</label>\n                        <select-graphic-component ref='picScale' size='large' :list='data.bgRepeatLists' @on-change='bgScaleChange' v-model.number='data.picScale'/>\n                    </div>\n                    <div class='jz-bgGridWrapper jz-bgRow' v-if='data.imgId' v-show='data.picScale == 1'>\n                        <label class='jz-bgTitle jz-bgTitle-middle'>图片位置：</label>\n                        <jz-bg-squaregrid ref='bgSquareGrid' v-model='data.repeat' @on-change='bgRepeatChange' :map='[13, 8, 14, 6, 0, 7, 15, 9, 16]'/>\n                    </div>\n                    <div class='jz-bgRow' v-if='data.imgId' v-show='data.picScale == 0'>\n                        <label class='jz-bgTitle jz-bgTitle-middle' >平铺效果：</label>\n                        <select-graphic-component ref='bgTiling' size='small' :list='tilingLists' @on-change='bgRepeatChange' v-model.number='data.repeat'/>\n                    </div>\n                    <div class='jz-bgRow jz-bgColorPicker' v-show='showColorPicker'>\n                        <span class='jz-bgTitle jz-bgTitle-middle'>背景色：</span>\n                        <color-picker-v2-component ref='bgColor' :options='data.colorPicker' v-model='data.color' @on-change='bgColorchange' @on-change-stop='bgColorChangeStop'/>\n                    </div>\n                    <div class='jz-bgRow' v-if='showeffect'>\n                        <span class='jz-bgTitle jz-bgTitle-middle' >效果：</span>\n                        <span class='jz-bgEffect'>\n                            <radio-group-component ref='bgEffect' v-model='data.effectType' @on-change='effectTypeChange'>\n                                <radio-component :label='0'>默认</radio-component>\n                                <radio-component :label='1'>锁定背景图片</radio-component>\n                            </radio-group-component>\n                        </span>\n                    </div>\n                    <div class='jz-bgRow' v-if='data.opacity >= 0'>\n                        <span class='jz-bgTitle jz-bgTitle-middle' >透明度：</span>\n                        <input-component ref='opacity' :maxlength='3' v-model='data.opacity' number unit='%' @on-change='bgOpacityChange' @on-blur='bgOpacityBlur'/>\n                    </div>\n                </div>\n            </div>\n            ",props:["data","showeffect"],data:function(){return{classes:{wrapper:"jz-background-wrapper"},tilingLists:[{value:3,label:"默认",type:"default",hidden:!1},{value:5,label:"缩放平铺",type:"zoom-tile",hidden:!1},{value:11,label:"上",type:"top",hidden:!1},{value:1,label:"中-横向",type:"in-horizontal",hidden:!1},{value:12,label:"下",type:"bottom",hidden:!1},{value:21,label:"左",type:"left",hidden:!1},{value:2,label:"中-纵向",type:"in-vertical",hidden:!1},{value:22,label:"右",type:"right",hidden:!1}],cache:{color:this.data.color,picScale:this.data.picScale,repeat:this.data.repeat,effectType:this.data.effectType,imgPath:this.data.imgPath,imgId:this.data.imgId,opacity:this.data.opacity}}},computed:{showColorPicker:function(){return!this.data.imgId||1==this.data.picScale||0==this.data.picScale&&3!=this.data.repeat&&5!=this.data.repeat},fileUpload:function(){return{imgIdCompatible:this.data.imgIdCompatible,setting:this.data.uploadData,imgPath:this.data.imgPath,imgId:this.data.imgId,title:this.data.title,titleclass:this.data.titleclass,checkIsFontIcon:this.data.checkIsFontIcon,viewPath:this.data.viewPath}}},methods:{refreshCache:function(){this.cache={color:this.data.color,picScale:this.data.picScale,repeat:this.data.repeat,effectType:this.data.effectType,imgPath:this.data.imgPath,imgId:this.data.imgId,opacity:this.data.opacity}},effectTypeChange:function(e){this.effectTypeEmit(e),this.$emit("on-undo",this.data,this.cache),this.refreshCache()},effectTypeEmit:function(e){this.data.effectType=e,this.$emit("bg-effect-change",e)},bgColorchange:function(e){this.bgColorEmit(e)},bgColorChangeStop:function(e){this.bgColorEmit(e),this.$emit("on-undo",this.data,this.cache),this.refreshCache()},bgColorEmit:function(e){this.data.color=e,this.$emit("bg-color-change",e)},bgRepeatChange:function(e){this.bgRepeatEmit(e),this.$emit("on-undo",this.data,this.cache),this.refreshCache()},bgRepeatEmit:function(e){this.data.repeat=e,this.$emit("bg-repeat-change",e)},bgScaleChange:function(e){1!=this.data.picScale&&0!=this.data.picScale&&this.bgColorEmit("transparent"),this.bgScaleEmit(e),this.$emit("on-undo",this.data,this.cache),this.refreshCache()},bgScaleEmit:function(e){2==(this.data.picScale=e)?this.data.repeat=-1:3==e?this.data.repeat=4:0!=e&&1!=e||i(this.data)&&this.bgRepeatEmit(this.data.repeat),this.bgRepeatEmit(this.data.repeat),this.$emit("bg-scale-change",e)},imgChange:function(e){1!=this.data.picScale&&0!=this.data.picScale&&this.bgColorEmit("transparent"),this.imgEmit(e),this.$emit("on-undo",this.data,this.cache),this.refreshCache()},imgEmit:function(e){this.bgImgChange(e)},bgImgChange:function(e){this.bgImgEmit(e),this.$emit("on-undo",this.data,this.cache),this.refreshCache()},bgImgEmit:function(e){var t=JSON.parse(e).data[0]||{};this.data.imgPath=t.filePath,this.data.imgId=t.fileId,t.fileId&&(this.data.repeat=-1==this.data.repeat?3:this.data.repeat),this.$emit("img-change",e),i(this.data)&&this.bgRepeatEmit(this.data.repeat)},bgDataEmit:function(e){var t={},i={data:[t]};this.data.imgPath=e.imgPath,this.data.imgId=e.imgId,t.filePath=e.imgPath,t.fileId=e.imgId,this.$emit("img-change",JSON.stringify(i))},bgOpacityChange:function(e){this.bgOpacityEmit(e),this.$emit("on-undo",this.data,this.cache),this.refreshCache()},bgOpacityEmit:function(e){this.data.opacity=e,this.$emit("bg-opacity-change",e)},bgOpacityBlur:function(e){this.$emit("bg-opacity-blur",e,this.$refs.opacity)}}})}(),function(){function i(e){var t=e.repeat;return e.repeat=0==e.picScale&&[3,5,11,1,12,21,2,22].indexOf(e.repeat)<0?3:e.repeat,e.repeat=1==e.picScale&&[13,8,14,6,0,7,15,9,16].indexOf(e.repeat)<0?0:e.repeat,t!=e.repeat}Vue.component("jz-bg-squaregrid",{template:'<div class="square-lattice-wrap"><ul class="square-lattice-list"><li :class="{cur: curIndex == index}" v-for="(val, index) in map" @click="squareClick(val, curIndex)" :style="list_style"></li></ul></div>',props:{value:Number,map:Array},computed:{list_style:function(){return{width:100/Math.floor(Math.sqrt(this.mun))+1+"%",paddingTop:100/Math.floor(Math.sqrt(this.mun))-1+"%"}},mun:function(){return this.map.length},curIndex:function(){var e=this.map.indexOf(this.value);return-1<e?e:0}},methods:{squareClick:function(e,t){this.$emit("input",e),this.$emit("on-change",e)}},watch:{}}),Vue.component("background-component",{name:"Background",template:"<div :class='classes.wrapper'><div><slot name='title'></slot><slot name='bgRadioGroup'></slot></div><div class='jz-bgContent' ><div class='jz-bgRow jz-bgAutoRow'><jz-file-upload ref='fileUpload' :data='fileUpload' @on-change='imgChange'></jz-file-upload></div><div class='jz-bgRow' v-if='data.imgId'><label class='jz-bgTitle jz-bgTitle-middle'>图片缩放：</label><select-graphic-component ref='picScale' size='large' :list='data.bgRepeatLists' @on-change='bgScaleChange' v-model.number='data.picScale'></select-graphic-component></div><div class='jz-bgGridWrapper jz-bgRow' v-if='data.imgId' v-show='data.picScale == 1'><label class='jz-bgTitle jz-bgTitle-middle'>图片位置：</label><jz-bg-squaregrid ref='bgSquareGrid' v-model='data.repeat' @on-change='bgRepeatChange' :map='[13, 8, 14, 6, 0, 7, 15, 9, 16]'></jz-bg-squaregrid></div><div class='jz-bgRow' v-if='data.imgId' v-show='data.picScale == 0'><label class='jz-bgTitle jz-bgTitle-middle' >平铺效果：</label><select-graphic-component ref='bgTiling' size='small' :list='tilingLists' @on-change='bgRepeatChange' v-model.number='data.repeat'></select-graphic-component></div><div class='jz-bgRow jz-bgColorPicker' v-show='showColorPicker'><span class='jz-bgTitle jz-bgTitle-middle'>背景色：</span><colorpicker-component ref='bgColor' :options='data.colorPicker' v-model='data.color' @on-change='bgColorchange' @on-change-stop='bgColorChangeStop'></colorpicker-component></div><div class='jz-bgRow' v-if='showeffect'><span class='jz-bgTitle jz-bgTitle-middle' >效果：</span><span class='jz-bgEffect'><radio-group-component ref='bgEffect' v-model='data.effectType' @on-change='effectTypeChange'><radio-component :label='0'>默认</radio-component><radio-component :label='1'>锁定背景图片</radio-component></radio-group-component></span></div><div class='jz-bgRow' v-if='data.opacity >= 0'><span class='jz-bgTitle jz-bgTitle-middle' >透明度：</span><input-component ref='opacity' :maxlength='3' v-model='data.opacity' number unit='%' @on-change='bgOpacityChange' @on-blur='bgOpacityBlur'></input-component></div></div></div>",props:["data","showeffect"],data:function(){return{classes:{wrapper:"jz-background-wrapper"},tilingLists:[{value:3,label:"默认",type:"default",hidden:!1},{value:5,label:"缩放平铺",type:"zoom-tile",hidden:!1},{value:11,label:"上",type:"top",hidden:!1},{value:1,label:"中-横向",type:"in-horizontal",hidden:!1},{value:12,label:"下",type:"bottom",hidden:!1},{value:21,label:"左",type:"left",hidden:!1},{value:2,label:"中-纵向",type:"in-vertical",hidden:!1},{value:22,label:"右",type:"right",hidden:!1}],cache:{color:this.data.color,picScale:this.data.picScale,repeat:this.data.repeat,effectType:this.data.effectType,imgPath:this.data.imgPath,imgId:this.data.imgId,opacity:this.data.opacity}}},computed:{showColorPicker:function(){return!this.data.imgId||1==this.data.picScale||0==this.data.picScale&&3!=this.data.repeat&&5!=this.data.repeat},fileUpload:function(){return{imgIdCompatible:this.data.imgIdCompatible,setting:this.data.uploadData,imgPath:this.data.imgPath,imgId:this.data.imgId,title:this.data.title,titleclass:this.data.titleclass,checkIsFontIcon:this.data.checkIsFontIcon,viewPath:this.data.viewPath}}},methods:{refreshCache:function(){this.cache={color:this.data.color,picScale:this.data.picScale,repeat:this.data.repeat,effectType:this.data.effectType,imgPath:this.data.imgPath,imgId:this.data.imgId,opacity:this.data.opacity}},effectTypeChange:function(e){this.effectTypeEmit(e),this.$emit("on-undo",this.data,this.cache),this.refreshCache()},effectTypeEmit:function(e){this.data.effectType=e,this.$emit("bg-effect-change",e)},bgColorchange:function(e){this.bgColorEmit(e)},bgColorChangeStop:function(e){this.bgColorEmit(e),this.$emit("on-undo",this.data,this.cache),this.refreshCache()},bgColorEmit:function(e){this.data.color=e,this.$emit("bg-color-change",e)},bgRepeatChange:function(e){this.bgRepeatEmit(e),this.$emit("on-undo",this.data,this.cache),this.refreshCache()},bgRepeatEmit:function(e){this.data.repeat=e,this.$emit("bg-repeat-change",e)},bgScaleChange:function(e){1!=this.data.picScale&&0!=this.data.picScale&&this.bgColorEmit("transparent"),this.bgScaleEmit(e),this.$emit("on-undo",this.data,this.cache),this.refreshCache()},bgScaleEmit:function(e){2==(this.data.picScale=e)?this.data.repeat=-1:3==e?this.data.repeat=4:0!=e&&1!=e||i(this.data)&&this.bgRepeatEmit(this.data.repeat),this.bgRepeatEmit(this.data.repeat),this.$emit("bg-scale-change",e)},imgChange:function(e){1==this.data.picScale&&0==this.data.picScale||this.bgColorEmit("transparent"),this.imgEmit(e),this.$emit("on-undo",this.data,this.cache),this.refreshCache()},imgEmit:function(e){this.bgImgChange(e)},bgImgChange:function(e){this.bgImgEmit(e),this.$emit("on-undo",this.data,this.cache),this.refreshCache()},bgImgEmit:function(e){var t=JSON.parse(e).data[0]||{};this.data.imgPath=t.filePath,this.data.imgId=t.fileId,t.fileId&&(this.data.repeat=-1==this.data.repeat?3:this.data.repeat),this.$emit("img-change",e),i(this.data)&&this.bgRepeatEmit(this.data.repeat)},bgDataEmit:function(e){var t={},i={data:[t]};this.data.imgPath=e.imgPath,this.data.imgId=e.imgId,t.filePath=e.imgPath,t.fileId=e.imgId,this.$emit("img-change",JSON.stringify(i))},bgOpacityChange:function(e){this.bgOpacityEmit(e),this.$emit("on-undo",this.data,this.cache),this.refreshCache()},bgOpacityEmit:function(e){this.data.opacity=e,this.$emit("bg-opacity-change",e)},bgOpacityBlur:function(e){this.$emit("bg-opacity-blur",e,this.$refs.opacity)}}})}(),function(e){"function"==typeof define&&define.amd?define(e):e()}(function(){"use strict";var e={name:"FormComponent",provide:function(){return{formComponent:this}},props:{labelWidth:String,labelSuffix:{type:String,default:""}}},t=function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"jz_form"},[this._t("default")],2)};t._withStripped=!0;var i,n,o,a,r,s=(o=void 0,a=!(i={render:t,staticRenderFns:[]}),(r=("function"==typeof(n=e)?n.options:n)||{}).__file="/home/faier/svn/res/frontend/component_1_0/packages/form/src/form.vue",r.render||(r.render=i.render,r.staticRenderFns=i.staticRenderFns,r._compiled=!0,a&&(r.functional=!0)),r._scopeId=o,r);s.install=function(e){e.component(s.name,s),e.component(s.name,s)};var l={name:"FormItemComponent",inject:["formComponent"],props:{label:String,labelWidth:String},computed:{labelStyle:function(){var e={},t=this.labelWidth||this.formComponent.labelWidth;return t&&(e.width=t),e},contentStyle:function(){var e={},t=this.labelWidth||this.formComponent.labelWidth;return t&&(e.marginLeft=t),e}}},c=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"jz_form_item"},[e.label?i("label",{staticClass:"jz_form_item__label",style:e.labelStyle},[e._v(e._s(e.label+e.formComponent.labelSuffix))]):e._e(),e._v(" "),i("div",{staticClass:"jz_form_item__content",style:e.contentStyle},[e._t("default")],2)])};c._withStripped=!0;var u,d,h,p,f,m=(h=void 0,p=!(u={render:c,staticRenderFns:[]}),(f=("function"==typeof(d=l)?d.options:d)||{}).__file="/home/faier/svn/res/frontend/component_1_0/packages/form/src/form-item.vue",f.render||(f.render=u.render,f.staticRenderFns=u.staticRenderFns,f._compiled=!0,p&&(f.functional=!0)),f._scopeId=h,f);m.install=function(e){e.component(m.name,m)};var g=function(e){return[e.backgroundRepeat,e.backgroundPositionX,e.backgroundPositionY,e.backgroundSize].join(",")},v=function(e){return e.split(",")},b={name:"BackgroundCoreComponent",components:{FormComponent:s,FormItemComponent:m},props:{value:{type:Object,required:!0},fileUpload:Function,linkJump:Function,sizeOptions:{type:Array,default:function(){return["auto","100%","100% 100%","cover","contain"]}},useAttachment:Boolean,labelWidth:{type:String,default:"65px"}},data:function(){return{cache:null,typePrivate:-1}},computed:{imageUrl:function(){return vue_utils.parseBackgroundImageUrl(this.value.backgroundImage)||""},colorForPicker:function(){return vue_utils.parseBackgroundImageGradient(this.value.backgroundImage)||this.value.backgroundColor||""},repeatInfoComposed:function(){var e=vue_utils.Background.PAVING_EFFECT[0],t=this.value,i=t.backgroundRepeat,n=void 0===i?e.backgroundRepeat:i,o=t.backgroundPositionX,a=void 0===o?e.backgroundPositionX:o,r=t.backgroundPositionY,s=void 0===r?e.backgroundPositionY:r,l=t.backgroundSize;return[n,a,s,void 0===l?e.backgroundSize:l].join(",")},pavingEffectList:function(){var i=this;return vue_utils.Background.PAVING_EFFECT.filter(function(e){var t=e.backgroundSize;return-1<i.sizeOptions.indexOf(t)}).map(function(e){return{value:g(e),label:e.label,type:e.key}})},isOnPavingEffect:function(){return-1<this.pavingEffectInfos.indexOf(this.repeatInfoComposed)},isOnImagePosition:function(){return-1<this.imagePositionInfos.indexOf(this.repeatInfoComposed)},isOnStretch:function(){return-1<this.stretchInfos.indexOf(this.repeatInfoComposed)},isOnFill:function(){return-1<this.fillInfos.indexOf(this.repeatInfoComposed)},isOnContain:function(){return-1<this.containInfos.indexOf(this.repeatInfoComposed)},pavingEffectInfos:function(){var i=this;return vue_utils.Background.PAVING_EFFECT.filter(function(e){var t=e.backgroundSize;return-1<i.sizeOptions.indexOf(t)}).map(g)},imagePositionInfos:function(){var i=this;return vue_utils.Background.IMAGE_POSITION.filter(function(e){var t=e.backgroundSize;return-1<i.sizeOptions.indexOf(t)}).map(g)},stretchInfos:function(){var i=this;return vue_utils.Background.SCALING_STRETCH.filter(function(e){var t=e.backgroundSize;return-1<i.sizeOptions.indexOf(t)}).map(g)},fillInfos:function(){var i=this;return vue_utils.Background.SCALING_FILL.filter(function(e){var t=e.backgroundSize;return-1<i.sizeOptions.indexOf(t)}).map(g)},containInfos:function(){var i=this;return vue_utils.Background.SCALING_CONTAIN.filter(function(e){var t=e.backgroundSize;return-1<i.sizeOptions.indexOf(t)}).map(g)},backgroundAttachment:function(){var e=this.value.backgroundAttachment,t=void 0===e?"scroll":e;return t},opacityForSlider:function(){var e=this.value.opacity;return parseInt(100*(1-(void 0===e?1:e)))},imageScaling:function(){return this.isOnPavingEffect?0:this.isOnImagePosition?1:this.isOnStretch?2:this.isOnFill?3:this.isOnContain?4:-1},shouldRenderAttachment:function(){return this.imageUrl&&this.useAttachment&&this.isSupportAttachment(this.value)},shouldRenderOpacity:function(){var e=this.value.opacity,t=void 0===e?-1:e;return this.imageUrl&&-1<t},backgroundType:{get:function(){return this.imageUrl?1:-1<this.typePrivate?this.typePrivate:0},set:function(e){if(0===(this.typePrivate=e)){this.cache=_objectSpread({},this.value);var t={backgroundColor:vue_utils.concatBackgroundColor(this.colorForPicker),backgroundImage:vue_utils.concatBackgroundImage("",this.colorForPicker)};this.$emit("input",t),this.$emit("on-type-change",t)}else if(this.cache){var i=_objectSpread({},this.cache,{backgroundColor:vue_utils.concatBackgroundColor(this.colorForPicker),backgroundImage:vue_utils.concatBackgroundImage(vue_utils.parseBackgroundImageUrl(this.cache.backgroundImage),this.colorForPicker)});this.$emit("input",i),this.$emit("on-type-change",i)}}}},methods:{handleDel:function(){var e={backgroundColor:vue_utils.concatBackgroundColor(this.colorForPicker),backgroundImage:vue_utils.concatBackgroundImage("",this.colorForPicker)};this.$emit("input",e),this.$emit("on-image-change",e),-1==this.typePrivate&&(this.typePrivate=1)},handleColorChange:function(e){var t=_objectSpread({},this.value,{backgroundColor:vue_utils.concatBackgroundColor(e),backgroundImage:vue_utils.concatBackgroundImage(this.imageUrl,e)});this.$emit("input",t),this.$emit("on-color-changing",t)},handleColorChangeStop:function(e){var t=_objectSpread({},this.value,{backgroundColor:vue_utils.concatBackgroundColor(e),backgroundImage:vue_utils.concatBackgroundImage(this.imageUrl,e)});this.$emit("input",t),this.$emit("on-color-change",t)},handleJump:function(){this.linkJump?this.linkJump():window.open(this.imageUrl)},handleFileUpload:function(){this.fileUpload?this.fileUpload():(this.$refs.input.value=null,this.$refs.input.click())},handleFileChange:function(e){var t=e.target.files;if(t){var i=URL.createObjectURL(t[0]),n=_slicedToArray(v(this.repeatInfoComposed),4),o=n[0],a=n[1],r=n[2],s=n[3],l=_objectSpread({},this.value,{backgroundRepeat:o,backgroundPositionX:a,backgroundPositionY:r,backgroundSize:s,backgroundImage:vue_utils.concatBackgroundImage(i,this.colorForPicker)});this.$emit("input",l),this.$emit("on-image-change",l)}},handleImageScalingChange:function(e){var t="";switch(e){case 0:t=this.pavingEffectInfos[0];break;case 1:t=this.imagePositionInfos[4];break;case 2:t=this.stretchInfos[0];break;case 3:t=this.fillInfos[0];break;case 4:t=this.containInfos[0];break;case 5:t=g({backgroundRepeat:"",backgroundPositionX:"",backgroundPositionY:"",backgroundSize:""})}if(t){var i=_slicedToArray(v(t),4),n=i[0],o=i[1],a=i[2],r=i[3],s=_objectSpread({},this.value,{backgroundAttachment:this.isSupportAttachment({backgroundRepeat:n,backgroundSize:r})?this.value.backgroundAttachment||"scroll":"",backgroundRepeat:n,backgroundPositionX:o,backgroundPositionY:a,backgroundSize:r});this.$emit("input",s),this.$emit("on-scale-change",s)}},handleRepeatChange:function(e){var t=_slicedToArray(v(e),4),i=t[0],n=t[1],o=t[2],a=t[3],r=_objectSpread({},this.value,{backgroundAttachment:this.isSupportAttachment({backgroundRepeat:i,backgroundSize:a})?this.value.backgroundAttachment||"scroll":"",backgroundRepeat:i,backgroundPositionX:n,backgroundPositionY:o,backgroundSize:a});this.$emit("input",r),this.$emit("on-repeat-change",r)},handleBackgroundAttachmentChange:function(e){var t=_objectSpread({},this.value,{backgroundAttachment:e});this.$emit("input",t),this.$emit("on-attachment-change",t)},handleOpacityChange:function(e){var t=(100-e)/100,i=_objectSpread({},this.value,{opacity:t});this.$emit("input",i),this.$emit("on-opacity-changing",i)},handleOpacityChangeStop:function(e){var t=(100-e)/100,i=_objectSpread({},this.value,{opacity:t});this.$emit("input",i),this.$emit("on-opacity-change",i)},transformInfos:function(e){var i=this;return e.filter(function(e){var t=e.backgroundSize;return-1<i.sizeOptions.indexOf(t)}).map(g)},isSupportAttachment:function(e){var t=e.backgroundRepeat,i=e.backgroundSize;return t&&"repeat"!==t&&i&&"auto"===i}}},y=function(){var i=this,e=i.$createElement,n=i._self._c||e;return n("div",{staticClass:"jz_background"},[n("form-component",{attrs:{"label-suffix":"：","label-width":i.labelWidth}},[n("form-item-component",{attrs:{label:"类型"}},[n("select-component",{model:{value:i.backgroundType,callback:function(e){i.backgroundType=e},expression:"backgroundType"}},[n("select-item-component",{attrs:{value:0}},[i._v("颜色填充")]),i._v(" "),n("select-item-component",{attrs:{value:1}},[i._v("图片")])],1)],1),i._v(" "),1==i.backgroundType?[n("form-item-component",{attrs:{label:"图片"}},[i.imageUrl?n("editor-component",{staticClass:"jz_background__editor",attrs:{data:["del"]},on:{del:i.handleDel}},[n("img-component",{attrs:{src:i.imageUrl}}),i._v(" "),n("template",{slot:"data"},[n("i",{staticClass:"jz_background__editor_item_jump",on:{click:i.handleJump}}),i._v(" "),n("i",{staticClass:"jz_background__editor_item_upload",on:{click:i.handleFileUpload}})])],2):n("button-component",{on:{click:i.handleFileUpload}},[i._v("添加图片")]),i._v(" "),i.fileUpload?i._e():n("input",{ref:"input",staticClass:"jz_background__file",attrs:{type:"file",accept:"image/jpg,image/jpeg,image/gif,image/png,image/svg+xml"},on:{change:i.handleFileChange}})],1),i._v(" "),i.imageUrl?[n("form-item-component",{attrs:{label:"图片缩放"}},[n("select-component",{staticClass:"jz_background__graphic",attrs:{size:"large",value:i.imageScaling},on:{input:i.handleImageScalingChange}},[0<i.fillInfos.length?n("select-item-component",{staticClass:"jz_background__graphic_item",attrs:{value:3}},[n("i",{staticClass:"jz_background__graphic_icon jz_background__graphic_icon--cover"}),i._v(" "),n("span",[i._v("填充")])]):i._e(),i._v(" "),0<i.containInfos.length?n("select-item-component",{staticClass:"jz_background__graphic_item",attrs:{value:4}},[n("i",{staticClass:"jz_background__graphic_icon jz_background__graphic_icon--contain"}),i._v(" "),n("span",[i._v("等比例")])]):i._e(),i._v(" "),0<i.pavingEffectInfos.length?n("select-item-component",{staticClass:"jz_background__graphic_item",attrs:{value:0}},[n("i",{staticClass:"jz_background__graphic_icon jz_background__graphic_icon--tiling"}),i._v(" "),n("span",[i._v("平铺")])]):i._e(),i._v(" "),0<i.stretchInfos.length?n("select-item-component",{staticClass:"jz_background__graphic_item",attrs:{value:2}},[n("i",{staticClass:"jz_background__graphic_icon jz_background__graphic_icon--stretch"}),i._v(" "),n("span",[i._v("拉伸")])]):i._e(),i._v(" "),0<i.imagePositionInfos.length?n("select-item-component",{staticClass:"jz_background__graphic_item",attrs:{value:1}},[n("i",{staticClass:"jz_background__graphic_icon jz_background__graphic_icon--original_image"}),i._v(" "),n("span",[i._v("原图")])]):i._e()],1)],1),i._v(" "),i.isOnPavingEffect?n("form-item-component",{attrs:{label:"平铺效果"}},[n("select-graphic-component",{attrs:{size:"small",value:i.repeatInfoComposed,list:i.pavingEffectList},on:{input:i.handleRepeatChange}})],1):i._e(),i._v(" "),i.isOnImagePosition?n("form-item-component",{attrs:{label:"图片位置"}},[n("ul",{staticClass:"jz_background__square"},i._l(i.imagePositionInfos,function(t){return n("li",{key:t,staticClass:"jz_background__square_item",class:{"jz_background__square_item--active":t==i.repeatInfoComposed},on:{click:function(e){i.handleRepeatChange(t)}}})}),0)]):i._e()]:i._e()]:i._e(),i._v(" "),n("form-item-component",{attrs:{label:"背景色"}},[n("color-picker-v2-component",{attrs:{value:i.colorForPicker},on:{input:i.handleColorChange,"on-change-stop":i.handleColorChangeStop}})],1),i._v(" "),1==i.backgroundType?[i.shouldRenderAttachment?n("form-item-component",{attrs:{label:"锁定"}},[n("select-component",{staticClass:"jz_background__attachment",attrs:{value:i.backgroundAttachment},on:{input:i.handleBackgroundAttachmentChange}},[n("select-item-component",{attrs:{value:"scroll"}},[i._v("默认")]),i._v(" "),n("select-item-component",{attrs:{value:"fixed"}},[i._v("锁定图片")])],1)],1):i._e(),i._v(" "),i.shouldRenderOpacity?n("form-item-component",{attrs:{label:"透明度"}},[n("slider-component",{attrs:{value:i.opacityForSlider,min:0,max:100,width:100,unit:"%"},on:{input:i.handleOpacityChange,"on-stop":i.handleOpacityChangeStop}})],1):i._e()]:i._e()],2)],1)};y._withStripped=!0;var _,w,x,C,k,S=(x=void 0,C=!(_={render:y,staticRenderFns:[]}),(k=("function"==typeof(w=b)?w.options:w)||{}).__file="/home/faier/svn/res/frontend/component_1_0/packages/backgroundCore/src/main.vue",k.render||(k.render=_.render,k.staticRenderFns=_.staticRenderFns,k._compiled=!0,C&&(k.functional=!0)),k._scopeId=x,k);S.install=function(e){e.component(S.name,S)},"undefined"!=typeof window&&window.Vue&&Vue.use(S)}),function(e){"function"==typeof define&&define.amd?define(e):e()}(function(){"use strict";var e={name:"BreadcrumbComponent"},t=function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"jz_breadcrumb"},[this._t("default")],2)};t._withStripped=!0;var i,n,o,a,r,s=(o=void 0,a=!(i={render:t,staticRenderFns:[]}),(r=("function"==typeof(n=e)?n.options:n)||{}).__file="/home/faier/svn/res/frontend/component_1_0/packages/breadcrumb/src/breadcrumb.vue",r.render||(r.render=i.render,r.staticRenderFns=i.staticRenderFns,r._compiled=!0,a&&(r.functional=!0)),r._scopeId=o,r),l={name:"BreadcrumbItemComponent",methods:{onClick:function(){this.$emit("link-to")}}},c=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",{staticClass:"jz_breadcrumb__item"},[i("span",{staticClass:"jz_breadcrumb__inner",on:{click:e.onClick}},[e._t("default")],2),e._v(" "),i("span",{staticClass:"jz_breadcrumb__separator"},[e._v(">")])])};c._withStripped=!0;var u,d,h,p,f,m=(h=void 0,p=!(u={render:c,staticRenderFns:[]}),(f=("function"==typeof(d=l)?d.options:d)||{}).__file="/home/faier/svn/res/frontend/component_1_0/packages/breadcrumb/src/breadcrumb-item.vue",f.render||(f.render=u.render,f.staticRenderFns=u.staticRenderFns,f._compiled=!0,p&&(f.functional=!0)),f._scopeId=h,f);s.install=function(e){e.component(s.name,s),e.component(m.name,m)},"undefined"!=typeof window&&window.Vue&&Vue.use(s)}),Vue.component("button-component",{name:"Button",template:'<component :is="href ? \'a\' : \'button\'" :href="href || null" :target="href ? (target || null) : null" class="jz_button" @click="clickHandler" :disabled="disabled" :class="{jz_button__global_oper: globalOper, jz_button__active: active, jz_button__link: href}"><i v-if="icon" class="jz_icon" :class="icon ? \'jz_icon_\' + icon : \'\'"></i><span class="jz_button_content"><slot></slot></span></component>',props:{icon:String,disabled:Boolean,active:Boolean,globalOper:Boolean,href:String,target:{type:String,default:"_blank"}},methods:{clickHandler:function(e){this.$emit("click",e)}}}),function(){var e="jz-carousel";Vue.component("carousel-component",{name:"Carousel",template:'<div :class="prefixCls"><button type="button" :class="arrowLeftClasses" class="left" @click="arrowEvent(-1)"></button><div :class="prefixCls + \'-list\'"><div :class="trackClass" :style="trackStyles" ref="originTrack"><slot></slot></div><div v-if="loop" :class="trackCopyClass" :style="copyTrackStyles" ref="copyTrack"></div></div><button type="button" :class="arrowRightClasses" class="right" @click="arrowEvent(1)"></button><ul :class="dotsClasses"><template v-for="n in slides.length"><li :class="activeClass(n - 1)" @click="dotsEvent(\'click\', n - 1)"><button type="button" :class="radiusDot ? \'radius\' : \'\'"></button></li></template></ul></div>',props:{value:{type:Number,default:0},arrow:{type:String,default:"hover",validator:function(e){return vue_utils.oneOf(e,["hover","always","never"])}},dots:{type:String,default:"inside",validator:function(e){return vue_utils.oneOf(e,["inside","outside","none"])}},autoplay:{type:Boolean,default:!1},autoplaySpeed:{type:Number,default:2e3},loop:{type:Boolean,default:!1},closeLoop:{type:Boolean,default:!1},easing:{type:String,default:"ease"},radiusDot:{type:Boolean,default:!1}},data:function(){return{prefixCls:e,listWidth:0,trackWidth:0,trackOffset:0,trackCopyOffset:0,showCopyTrack:!1,slides:[],slideInstances:[],timer:null,ready:!1,currentIndex:this.value,trackIndex:this.value,copyTrackIndex:this.value,hideTrackPos:-1}},computed:{trackClass:function(){return[this.prefixCls+"-track",this.showCopyTrack?"":"higher"]},trackCopyClass:function(){return[this.prefixCls+"-track",this.showCopyTrack?"higher":""]},trackStyles:function(){return{width:this.trackWidth+"px",transform:"translate3d("+-this.trackOffset+"px, 0px, 0px)",transition:"transform 500ms "+this.easing}},copyTrackStyles:function(){return{width:this.trackWidth+"px",transform:"translate3d("+-this.trackCopyOffset+"px, 0px, 0px)",transition:"transform 500ms "+this.easing,position:"absolute",top:0}},dotsClasses:function(){return["clearFix",this.prefixCls+"-dots",this.prefixCls+"-dots-"+this.dots]},arrowLeftClasses:function(){var e=[this.prefixCls+"-arrow",this.prefixCls+"-arrow-"+this.arrow];return this.closeLoop&&0===this.currentIndex&&e.push(this.prefixCls+"-arrow-disabled"),e},arrowRightClasses:function(){var e=[this.prefixCls+"-arrow",this.prefixCls+"-arrow-"+this.arrow];return this.closeLoop&&this.currentIndex===this.slides.length-1&&e.push(this.prefixCls+"-arrow-disabled"),e}},methods:{arrowEvent:function(e){this.setAutoplay(),this.add(e)},activeClass:function(e){return e===this.currentIndex?this.prefixCls+"-active":""},findChild:function(i){var t=function t(e){e.$options.componentName?i(e):e.$children.length&&e.$children.forEach(function(e){t(e)})};this.slideInstances.length||!this.$children?this.slideInstances.forEach(function(e){t(e)}):this.$children.forEach(function(e){t(e)})},slotChange:function(){var e=this;this.$nextTick(function(){e.slides=[],e.slideInstances=[],e.updateSlides(!0),e.updatePos(),e.updateOffset()})},dotsEvent:function(e,t){(this.showCopyTrack?this.copyTrackIndex:this.trackIndex)!==t&&(this.updateTrackIndex(t),this.$emit("input",t),this.setAutoplay())},updateTrackIndex:function(e){this.showCopyTrack?this.copyTrackIndex=e:this.trackIndex=e,this.currentIndex=e},initCopyTrackDom:function(){var e=this;this.$nextTick(function(){e.$refs.copyTrack.innerHTML=e.$refs.originTrack.innerHTML})},handleResize:function(){this.listWidth=parseInt(vue_utils.getStyle(this.$el,"width")),this.updatePos(),this.updateOffset()},updateSlides:function(t){var i=[],n=1,o=this;this.findChild(function(e){i.push({$el:e.$el}),e.index=n++,t&&o.slideInstances.push(e)}),this.slides=i,this.updatePos()},updateOffset:function(){var t=this;this.$nextTick(function(){var e=0<t.copyTrackIndex?-1:1;t.trackOffset=t.trackIndex*t.listWidth,t.trackCopyOffset=t.copyTrackIndex*t.listWidth+e})},updatePos:function(){var t=this;this.findChild(function(e){e.width=t.listWidth,e.height="number"==typeof t.height?t.height+"px":t.height}),this.trackWidth=(this.slides.length||0)*this.listWidth},setAutoplay:function(){var e=this;window.clearInterval(this.timer),this.autoplay&&(this.timer=window.setInterval(function(){e.add(1)},this.autoplaySpeed))},updateTrackPos:function(e){this.showCopyTrack?this.trackIndex=e:this.copyTrackIndex=e},add:function(e){var t=this.slides.length;this.loop&&(this.hideTrackPos=0<e?-1:t,this.updateTrackPos(this.hideTrackPos));var i=this.showCopyTrack?this.copyTrackIndex:this.trackIndex,n=i+e;if(!this.closeLoop||n!==this.slides.length&&-1!==n){for(;n<0;)n+=t;(0<e&&n===t||e<0&&n===t-1)&&this.loop?(this.showCopyTrack=!this.showCopyTrack,this.trackIndex+=e,this.copyTrackIndex+=e):(this.loop||(n%=this.slides.length),this.updateTrackIndex(n)),this.currentIndex=n===this.slides.length?0:n,this.$emit("on-change",i,this.currentIndex),this.$emit("input",this.currentIndex)}}},mounted:function(){this.handleResize(),this.updateSlides(!0),this.setAutoplay()},watch:{autoplay:function(){this.setAutoplay()},autoplaySpeed:function(){this.setAutoplay()},trackIndex:function(){this.updateOffset()},copyTrackIndex:function(){this.updateOffset()},value:function(e){this.updateTrackIndex(e),this.setAutoplay()}}}),Vue.component("carousel-item-component",{name:"CarouselItem",componentName:"carousel-item",template:"<div :class=\"prefixCls + '-item'\"><slot></slot></div>",data:function(){return{prefixCls:e,width:0,height:"auto",left:0}},computed:{styles:function(){return{width:this.width+"px",height:this.height,left:this.left+"px"}}},mounted:function(){this.$parent.slotChange()},watch:{width:function(e){var t=this;e&&this.$parent.loop&&this.$nextTick(function(){t.$parent.initCopyTrackDom()})}},beforeDestroy:function(){this.$parent.slotChange()}})}(),Vue.component("checkbox-group-component",{name:"CheckboxGroup",template:'<div :class="classes"><slot></slot></div>',props:{value:{type:Array,default:function(){return[]}}},data:function(){return{currentValue:this.value,childrens:[]}},computed:{classes:function(){return"jz-checkbox-group"}},mounted:function(){this.updateModel(!0)},methods:{selectAll:function(){var t=[];this.childrens=vue_utils.findComponentsDownward(this,"Checkbox"),this.childrens.forEach(function(e){t.push(e.label)}),this.currentValue=t,this.$emit("input",t),this.$emit("on-change",t)},cancelSelectAll:function(){this.currentValue=[],this.$emit("input",[]),this.$emit("on-change",[])},updateModel:function(t){var i=this.value;this.childrens=vue_utils.findComponentsDownward(this,"Checkbox"),this.childrens&&this.childrens.forEach(function(e){e.model=i,t&&(e.currentValue=0<=i.indexOf(e.label),e.group=!0)})},change:function(e){this.currentValue=e,this.$emit("input",e),this.$emit("on-change",e)}},watch:{value:function(){this.updateModel(!0)}}}),function(){var t="jz-checkbox";Vue.component("checkbox-component",{name:"Checkbox",template:'<label :class="wrapClasses" :title="$slots.default ? $slots.default[0].text : showLabel"><span :class="checkboxClasses"><span :class="innerClasses"></span><input v-if="group" type="checkbox" :class="inputClasses" :disabled="disabled" :value="label" v-model="model" @change="change"><input v-if="!group" type="checkbox" :class="inputClasses" :disabled="disabled" :checked="currentValue" @change="change"></span><slot>{{ showLabel }}</slot></label>',props:{disabled:Boolean,value:[String,Number,Boolean],trueValue:{type:[String,Number,Boolean],default:!0},falseValue:{type:[String,Number,Boolean],default:!0},label:[String,Number,Boolean]},data:function(){return{model:[],currentValue:this.value,group:!1,showSlot:!0,parent:vue_utils.findComponentUpward(this,"CheckboxGroup")}},computed:{wrapClasses:function(){var e={"jz-checkbox-wrapper":!0};return e[t+"-wrapper-checked"]=!!this.currentValue,e[t+"-wrapper-disabled"]=!!this.disabled,e},checkboxClasses:function(){var e={"jz-checkbox":!0};return e[t+"-checked"]=!!this.currentValue,e[t+"-disabled"]=!!this.disabled,e},innerClasses:function(){return t+"-inner"},inputClasses:function(){return t+"-input"},showLabel:function(){return this.label?this.label:""}},mounted:function(){this.parent=vue_utils.findComponentUpward(this,"CheckboxGroup"),this.parent&&(this.group=!0),this.group?this.parent.updateModel(!0):(this.updateModel(),this.showSlot=void 0!==this.$slots.default)},methods:{change:function(e){if(this.disabled)return!1;var t=e.target.checked,i=t?this.trueValue:this.falseValue,n=t?this.falseValue:this.trueValue;this.$emit("input",i),this.group?(this.$emit("on-change",this.label),this.parent.change(this.model)):(this.$emit("on-change",i),this.$emit("on-undo",i,n))},updateModel:function(){this.currentValue=this.value===this.trueValue}},watch:{value:function(e){if(e!==this.trueValue&&e!==this.falseValue)throw"Value should be trueValue or falseValue.";this.updateModel()}}})}(),function(){var n={beforeEnter:function(e){vue_utils.addClass(e,"collapse-transition"),e.dataset||(e.dataset={}),e.dataset.oldPaddingTop=e.style.paddingTop,e.dataset.oldPaddingBottom=e.style.paddingBottom,e.style.height="0",e.style.paddingTop=0,e.style.paddingBottom=0},enter:function(e){e.dataset.oldOverflow=e.style.overflow,0!==e.scrollHeight?e.style.height=e.scrollHeight+"px":e.style.height="",e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom,e.style.overflow="hidden"},afterEnter:function(e){vue_utils.removeClass(e,"collapse-transition"),e.style.height="",e.style.overflow=e.dataset.oldOverflow},beforeLeave:function(e){e.dataset||(e.dataset={}),e.dataset.oldPaddingTop=e.style.paddingTop,e.dataset.oldPaddingBottom=e.style.paddingBottom,e.dataset.oldOverflow=e.style.overflow,e.style.height=e.scrollHeight+"px",e.style.overflow="hidden"},leave:function(e){0!==e.scrollHeight&&(vue_utils.addClass(e,"collapse-transition"),e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0)},afterLeave:function(e){vue_utils.removeClass(e,"collapse-transition"),e.style.height="",e.style.overflow=e.dataset.oldOverflow,e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom}};Vue.component("collapse-transition-component",{name:"CollapseTransition",functional:!0,render:function(e,t){var i=t.children;return e("transition",{on:n},i)}})}(),function(){var t="jz-collapse";Vue.component("collapse-component",{name:"Collapse",template:'<div :class="classes"><slot></slot></div>',props:{value:{type:[Array,String]},accordion:{type:Boolean,default:!1}},data:function(){return{currentValue:this.value}},computed:{classes:function(){return t}},mounted:function(){this.setActive()},methods:{setActive:function(){var o=this.getActiveKey();this.$children.forEach(function(e,t){var i=e.name||t.toString(),n=-1<o.indexOf(i);e.isActive=n,e.index=t})},getActiveKey:function(){var e=this.currentValue||[],t=this.accordion;Array.isArray(e)||(e=[e]),t&&1<e.length&&(e=[e[0]]);for(var i=0;i<e.length;i++)e[i]=e[i].toString();return e},toggle:function(e){var t=e.name.toString(),i=[];if(this.accordion)e.isActive||i.push(t);else{var n=this.getActiveKey(),o=n.indexOf(t);e.isActive?-1<o&&n.splice(o,1):o<0&&n.push(t),i=n}this.currentValue=i,this.$emit("input",i),this.$emit("on-change",i)}},watch:{value:function(e){this.currentValue=e},currentValue:function(){this.setActive()}}}),Vue.component("collapse-item-component",{name:"CollapseItem",template:'<div :class="itemClasses"><span :class="headerClasses" @click="toggle"><i class="arrow-right"></i><slot></slot></span><collapse-transition-component><div :class="contentClasses" v-show="isActive"><div :class="boxClasses"><slot name="content"></slot></div></div></collapse-transition-component></div>',props:{name:{type:String}},data:function(){return{index:0,isActive:!1}},computed:{itemClasses:function(){var e={"jz-collapse-item":!0};return e[t+"-item-active"]=!!this.isActive,e},headerClasses:function(){return t+"-header"},contentClasses:function(){return t+"-content"},boxClasses:function(){return t+"-content-box"}},methods:{toggle:function(){this.$parent.toggle({name:this.name||this.index,isActive:this.isActive})}}})}(),Vue.component("color-bar-v2-component",{name:"ColorBarV2",props:{value:String,colorList:{type:Array,default:function(){return["rgb(228, 57, 60)","rgb(237, 61, 161)","rgb(196, 0, 0)","rgb(255, 101, 55)","rgb(255, 192, 1)","rgb(74, 179, 68)","rgb(2, 178, 181)","rgb(7, 108, 224)","rgb(30, 80, 174)","rgb(0, 160, 233)","rgb(139, 14, 234)","rgb(43, 43, 43)"]}},options:{type:Object,default:function(){return{}}},hideDefault:Boolean,hideMulticolor:Boolean},data:function(){return{color:this.value}},watch:{value:function(e){this.color=e,this.toggleMultiColorActive()}},methods:{merge:vue_utils.merge,toggleMultiColorActive:function(){this.color===this.options.defaultColor||this.colorList.includes(this.color)?this.deactivateMultiColor():this.activeMultiColor()},activeMultiColor:function(){var e=this.$el.querySelector(".color_cube_wrap");e&&(e.style.borderRadius="5px",e.style.transform="rotate(45deg)")},deactivateMultiColor:function(){var e=this.$el.querySelector(".color_cube_wrap");e&&(e.style.borderRadius=null,e.style.transform=null)},changeStop:function(e,t){this.$emit("on-undo",e,t),this.$emit("on-change-stop",e,t)},change:function(e){this.color=e,this.$emit("input",e),this.toggleMultiColorActive()},change2:function(e){this.change(e),this.$emit("on-undo",e,this.value)}},template:"<div class='jz_color_bar'>\n                <div \n                    class='jz_select_color jz_color_default' \n                    :class='{active: color === options.defaultColor}'\n                    v-if='!hideDefault && typeof options.defaultColor == \"string\"' \n                    @click='change2(options.defaultColor)' \n                >\n                    <span>默</span>\n                </div>\n                <div\n                    v-for='_color in colorList'  \n                    class='jz_select_color'\n                    :style='{background: _color}' \n                    :class='{active: _color === color && _color !== options.defaultColor}'                     \n                    @click='change2(_color)'\n                />\n                <color-picker-v2-component\n                    class='jz_color_multicolor_v2'\n                    v-if=\"!hideMulticolor\"\n                    style=\"width: 20px; height: 20px; vertical-align: baseline; border: none;\"\n                    :options=\"options\" \n                    v-model=\"color\"\n                    @on-change='change'     \n                    @mouseenter.native=\"activeMultiColor\"\n                    @mouseleave.native=\"toggleMultiColorActive\"\n                    @on-change-stop=\"changeStop\"\n                />\n            </div>",mounted:function(){this.toggleMultiColorActive()}}),function(){function t(e){if(/^(rgb|RGB)/.test(e)){for(var t=e.replace(/(?:\(|\)|rgb|RGB)*/g,"").split(","),i="#",n=0;n<t.length;n++){var o=Number(t[n]).toString(16);o.length<2&&(o="0"+o),i+=o}return 7!==i.length&&(i=e),i.toLocaleLowerCase()}if(/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(e)){var a=e.replace(/#/,"").split("");if(6===a.length)return e.toLocaleLowerCase();if(3===a.length){var r="#";for(n=0;n<a.length;n+=1)r+=a[n]+a[n];return r.toLocaleLowerCase()}}return e.toLocaleLowerCase()}Vue.component("color-bar-component",{name:"ColorBar",template:"<div class='jz_color_bar'><div class='jz_select_color jz_color_default' v-if='!hideDefault' @click='selectColor(defaultColor)' :class='{active:isDefaultColor}'><span>默</span></div><div class='jz_select_color' :style='{backgroundColor:color}' :class='[{active:isCurrentColor(color)&&color!==defaultColor}]' v-for='color in hexColorList' @click='selectColor(color)'></div><div class='jz_select_color jz_color_multicolor' v-if='!hideMulticolor' :class='{active:multicolorModel}' @click.stop='showColorPicker' ref='multicolor'></div></div>",props:{value:String,colorList:{type:Array,default:function(){return["rgb(228, 57, 60)","rgb(237, 61, 161)","rgb(196, 0, 0)","rgb(255, 101, 55)","rgb(255, 192, 1)","rgb(74, 179, 68)","rgb(2, 178, 181)","rgb(7, 108, 224)","rgb(30, 80, 174)","rgb(0, 160, 233)","rgb(139, 14, 234)","rgb(43, 43, 43)"]}},defaultColor:String,hideDefault:Boolean,hideMulticolor:Boolean,option:Object},computed:{multicolorModel:function(){var e=t(this.value);return e!==t(this.defaultColor)&&-1===this.hexColorList.indexOf(e)},hexColorList:function(){return this.colorList.map(function(e){return t(e)})},isDefaultColor:function(){return this.isCurrentColor(t(this.defaultColor))}},methods:{selectColor:function(e){this.$emit("input",e),this.$emit("on-undo",e,this.value)},isCurrentColor:function(e){return t(this.value)===e},showColorPicker:function(){var t=this,i=this.value;$(this.$refs.multicolor).css("background-color",this.value).faiColorPickerAlp($.extend({base:$(this.$refs.multicolor),target:$(this.$refs.multicolor),onchange:function(e){t.$emit("input",e)},changeStop:function(e){t.$emit("on-change-stop",e,i),t.$emit("on-undo",e,i)},advance:!0,appendToWeb:!1,showInTop:!0,left:35,top:35},this.option||{}))}}})}(),function(e){try{var h=function(e){return null==e||""===e},r=function(e,t,i,n){if(h(e))return null;function o(e){var t=e.toString(16);return 1===t.length?"0"+t:t}return"object"===_typeof(e)&&(t=e.g,i=e.b,e=e.r),"#".concat(o(e)).concat(o(t)).concat(o(i))},l=function(e,t,i,n){if(h(e))return null;"object"===_typeof(e)&&(t=e.g,i=e.b,n=e.a,e=e.r),e/=255,t/=255,i/=255;var o,a,r=Math.max(e,t,i),s=Math.min(e,t,i),l=(r+s)/2;if(r===s)o=a=0;else{var c=r-s;switch(a=.5<l?c/(2-r-s):c/(r+s),r){case e:o=(t-i)/c+(t<i?6:0);break;case t:o=(i-e)/c+2;break;case i:o=(e-t)/c+4}o/=6}return{h:360*o,s:100*a,l:100*l,a:h(n)?1:n}},t=function(e){if(h(e))return null;if("#"===e[0])for(e=e.slice(1);e.length<6;)e+=e;var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16),a:1}:null},c=function(e,t,i,n){return h(e)?null:("object"===_typeof(e)&&(t=e.s,i=e.l,n=e.a,e=e.h),isFinite(e)||(e=0),isFinite(t)||(t=0),isFinite(i)||(i=0),(e/=60)<0&&(e=6- -e%6),e%=6,t=Math.max(0,Math.min(1,t/100)),i=Math.max(0,Math.min(1,i/100)),c=(l=(1-Math.abs(2*i-1))*t)*(1-Math.abs(e%2-1)),r=e<1?(o=l,a=c,0):e<2?(o=c,a=l,0):e<3?(o=0,a=l,c):e<4?(o=0,a=c,l):e<5?(o=c,a=0,l):(o=l,a=0,c),s=i-l/2,{r:o=Math.round(255*(o+s)),g:a=Math.round(255*(a+s)),b:r=Math.round(255*(r+s)),a:h(n)?1:n});var o,a,r,s,l,c},s=function(e,t,i,n){if(h(e))return null;var o,a,r;"object"===_typeof(e)&&(t=e.s,i=e.v,n=e.a,e=e.h),e/=360,t/=100,i/=100;var s=Math.floor(6*e),l=6*e-s,c=i*(1-t),u=i*(1-l*t),d=i*(1-(1-l)*t);switch(s%6){case 0:o=i,a=d,r=c;break;case 1:o=u,a=i,r=c;break;case 2:o=c,a=i,r=d;break;case 3:o=c,a=u,r=i;break;case 4:o=d,a=c,r=i;break;case 5:o=i,a=c,r=u}return{r:255*o,g:255*a,b:255*r,a:h(n)?1:n}},n=function(e){return l(t(e))},m=function(e,t,i,n){return function(e,t,i,n){if(h(e))return null;"object"===_typeof(e)&&(t=e.g,i=e.b,n=e.a,e=e.r),e/=255,t/=255,i/=255;var o,a,r=Math.max(e,t,i),s=Math.min(e,t,i),l=r,c=r-s;if(a=0===r?0:c/r,r===s)o=0;else{switch(r){case e:o=(t-i)/c+(t<i?6:0);break;case t:o=(i-e)/c+2;break;case i:o=(e-t)/c+4}o/=6}return{h:360*o,s:100*a,v:100*l,a:h(n)?1:n}}(c(e,t,i,n))},d=function(e){return Object.prototype.toString.call(e)},u=function(e){for(var t=arguments.length,i=new Array(1<t?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return function o(a,r){a||(a={});for(var e=arguments.length,t=new Array(2<e?e-2:0),i=2;i<e;i++)t[i-2]=arguments[i];return t.filter(function(e){return e&&"object"===_typeof(e)}).forEach(function(n){Object.keys(n).forEach(function(e){var t=d(a[e]),i=d(n[e]);"[object Array]"===i||"[object Object]"===i?(t!==i&&(a[e]="[object Array]"===i?[]:{}),o(a[e],r,n[e])):r(a,n,e)&&(a[e]=n[e])})}),a}.apply(void 0,[e,x].concat(i))},o=function(e){return u({},e)},g=function r(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];try{var i=e.getBoundingClientRect(),n=i.top,o=i.right,a=i.bottom,s=i.left,l=e.ownerDocument.defaultView,c={top:n,right:o,bottom:a,left:s};return l!==l.parent&&t&&Array.prototype.slice.call(l.parent.document.querySelectorAll("iframe")).forEach(function(e){if(e.contentWindow===l){var t=r(e),i=t.top,n=t.right,o=t.bottom,a=t.left;c.top+=i,c.right+=n,c.bottom+=o,c.left+=a}}),c}catch(e){}return{top:0,right:0,bottom:0,left:0}},a=function t(e){var i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"rgba";if("string"==typeof e)return e;if("[object Object]"!==Object.prototype.toString.call(e))return"";if(e.colors){var n=e,o=n.angle,a=n.colors;return"linear-gradient(".concat(o,"deg, ").concat(a.map(function(e){return"".concat(t(e,i)," ").concat(e.end,"%")}).join(","),")")}return"number"==typeof e.l?e=c(e):"number"==typeof e.v&&(e=s(e)),"hex"===i?r(e):"rgb"===i?"rgb(".concat(e.r,", ").concat(e.g,", ").concat(e.b,")"):"rgba"===i?"rgba(".concat(e.r,", ").concat(e.g,", ").concat(e.b,", ").concat(e.a,")"):"hsl"===i?(e=l(e),"hsl(".concat(e.h,", ").concat(e.s,"%, ").concat(e.l,"%)")):(e=l(e),"hsla(".concat(e.h,", ").concat(e.s,"%, ").concat(e.l,"%, ").concat(e.a,")"))},p=function a(r){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"hsla";if("string"==typeof r){if("transparent"===(r=r.trim())&&(r="rgba(255, 255, 255, 0)"),~r.indexOf("linear-gradient")){var s=0;return{colors:(r=r.slice(r.indexOf("linear-gradient"),r.lastIndexOf(")"))).match(/(#[0-9a-fA-F]{1,6})|(hsl|rgb)a?\(.*?\)/g).map(function(e){s=r.indexOf(e,s)+e.length;var t=a(e);t.id=f();var i=r.indexOf(",",s);-1===i&&(i=r.length);var n,o=parseFloat(r.substring(s,i));return n=o,Number.isNaN(n)||(t.end=o),t}),angle:parseFloat(r.match(/\d*deg/)?r.match(/\d*deg/)[0]:0)}}if(~r.indexOf("#"))return"rgba"===e?t(r):n(r);if(~r.indexOf("hsl"))return r=(r=r.slice(r.indexOf("hsl"),r.lastIndexOf(")"))).split(/[()]/)[1].split(",").map(function(e){return parseFloat(e)}),"rgba"===e?c.apply(void 0,_toConsumableArray(r)):{h:r[0],s:r[1],l:r[2],a:void 0===r[3]?1:r[3]};if(~r.indexOf("rgb"))return r=(r=r.slice(r.indexOf("rgb"),r.lastIndexOf(")"))).split(/[()]/)[1].split(",").map(function(e){return parseFloat(e)}),"rgba"===e?{r:r[0],g:r[1],b:r[2],a:void 0===r[3]?1:r[3]}:l.apply(void 0,_toConsumableArray(r))}return r},f=function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},v=function e(t,i,n){var o=3<arguments.length&&void 0!==arguments[3]&&arguments[3],a=4<arguments.length&&void 0!==arguments[4]&&arguments[4];try{var r=t.document?t:(t.ownerDocument||t).defaultView;t.addEventListener(i,n,a),r!==r.parent&&o&&(r===t?e(r.parent,i,n,a):t===r.document?e(r.parent.document,i,n,a):t===r.document.body&&e(r.parent.document.body,i,n,a))}catch(e){}},b=function e(t,i,n){var o=3<arguments.length&&void 0!==arguments[3]&&arguments[3],a=4<arguments.length&&void 0!==arguments[4]&&arguments[4];try{var r=t.document?t:(t.ownerDocument||t).defaultView;t.removeEventListener(i,n,a),r!==r.parent&&o&&(r===t?e(r.parent,i,n,a):t===r.document?e(r.parent.document,i,n,a):t===r.document.body&&e(r.parent.document.body,i,n,a))}catch(e){}},y=function(e){return e.slice(0,1).toUpperCase()+e.slice(1)},_=function(e,t){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"";if(void 0!==e&&d(e)!=="[object ".concat(y(t),"]"))throw new TypeError(i);return!0},w=window,x=function(){return!0},i=function(){var e,i=[];function n(){window.clearTimeout(e),e=setTimeout(function(){return i.forEach(function(e){return e.bounds=e.getBounds()})})}return{name:"draggable",props:{axis:{type:String,default:"x"},defaultX:{type:Number,default:0},defaultY:{type:Number,default:0},disableJump:{type:Boolean,default:!1},topBound:[String,Number],rightBound:[String,Number],bottomBound:[String,Number],leftBound:[String,Number]},data:function(){return{active:!1,top:0,left:0,lastMouseEvent:{x:0,y:0},bounds:null}},methods:{handleMouseDown:function(e){var t=this.$el,i=this.disableJump,n=this.axis,o=this.lastMouseEvent,a=this.bounds,r=a.topBound,s=a.rightBound,l=a.bottomBound,c=a.leftBound;if(this.active=!0,!i){var u=g(e.currentTarget),d=u.top,h=u.left;if("x"===n||"xy"===n){var p=e.clientX-h-t.offsetWidth/2;p<c?p=c:s<p&&(p=s),this.left=p}if("y"===n||"xy"===n){var f=e.clientY-d-t.offsetHeight/2;f<r?f=r:l<f&&(f=l),this.top=f}this.emit("change")}o.x=e.clientX-this.left,o.y=e.clientY-this.top,this.emit("dragStart"),e.stopPropagation()},handleMouseMove:function(e){if(this.active){var t=this.axis,i=this.lastMouseEvent,n=this.bounds,o=n.topBound,a=n.rightBound,r=n.bottomBound,s=n.leftBound,l=e.clientX-i.x,c=e.clientY-i.y;("x"===t||"xy"===t)&&s<=l&&l<=a&&(this.left=l),("y"===t||"xy"===t)&&o<=c&&c<=r&&(this.top=c),this.emit("change"),this.emit("dragging"),e.stopPropagation()}},handleMouseUp:function(e){this.active&&(this.active=!1,n(),this.emit("dragEnd"),e.stopPropagation())},getBounds:function(){var o=this.$el,e=this.topBound,t=void 0===e?0:e,i=this.rightBound,n=void 0===i?o.parentElement.offsetWidth-o.offsetWidth:i,a=this.bottomBound,r=void 0===a?o.parentElement.offsetHeight-o.offsetHeight:a,s=this.leftBound,l=void 0===s?0:s,c={topBound:t,rightBound:n,bottomBound:r,leftBound:l};function u(e,t,i,n){e===o.parentElement?c[t]=i:c[t]=n}function d(e){return"prev"===e||"previous"===e?o.previousElementSibling||o.parentElement:"next"===e&&o.nextElementSibling||o.parentElement}var h=d(t),p=d(n),f=d(r),m=d(l);return u(h,"topBound",0,h.offsetTop+h.offsetHeight),u(p,"rightBound",o.parentElement.offsetWidth-o.offsetWidth,p.offsetLeft-p.offsetWidth),u(f,"bottomBound",o.parentElement.offsetHeight-o.offsetHeight,f.offsetTop),u(m,"leftBound",0,m.offsetLeft+m.offsetWidth),c},emit:function(e){var t=this.$el,i=t.parentElement,n=this.left,o=this.top,a=n/(i.offsetWidth-t.offsetWidth)||0,r=o/(i.offsetHeight-t.offsetHeight)||0,s={x:n,y:o,xPercentDecimal:a,yPercentDecimal:r,xPercent:100*a,yPercent:100*r};this.$emit(e,s)},bindEvents:function(){v(w.document,"mousemove",this.handleMouseMove),v(w.document,"mouseup",this.handleMouseUp),this.disableJump?v(this.$el,"mousedown",this.handleMouseDown):v(this.parent,"mousedown",this.handleMouseDown)},unbindEvents:function(){b(w.document,"mousemove",this.handleMouseMove),b(w.document,"mouseup",this.handleMouseUp),this.disableJump?b(this.$el,"mousedown",this.handleMouseDown):b(this.parent,"mousedown",this.handleMouseDown)}},template:"<div :style=\"{top: top + 'px', left: left + 'px'}\"><slot/></div>",mounted:function(){var t=this;this.parent=this.$el.parentElement,this.$nextTick(function(){var e=t.$el;t.top=(e.parentElement.offsetHeight-e.offsetHeight)*t.defaultY,t.left=(e.parentElement.offsetWidth-e.offsetWidth)*t.defaultX,n()}),i.push(this),this.bindEvents()},beforeDestroy:function(){i.splice(i.indexOf(this),1),this.unbindEvents()}}}(),C={name:"rotatable",props:{defaultAngle:{type:Number,default:0}},computed:{style:function(){return{transform:"rotate(".concat(this.angle,"deg)")}}},data:function(){return{active:!1,angle:this.defaultAngle,origin:{x:0,y:0},lastMouseEvent:{angle:0,x:0,y:0}}},methods:{handleMouseDown:function(e){this.active=!0;var t=this.$el,i=this.origin,n=this.lastMouseEvent,o=t.getBoundingClientRect();i.x=o.left+o.width/2,i.y=o.top+o.height/2,n.x=e.clientX,n.y=e.clientY,n.angle=this.angle,this.$emit("rotateStart",this.angle)},handleMouseMove:function(e){if(this.active){var t=this.origin,i=this.lastMouseEvent,n=i.x,o=i.y,a=i.angle,r=-(this.getTwoPointAngle(t,{x:n,y:o})-this.getTwoPointAngle(t,{x:e.clientX,y:e.clientY}));this.angle=(a+r+360)%360,this.$emit("input",this.angle),this.$emit("change",this.angle),this.$emit("rotating",this.angle)}},handleMouseUp:function(){this.active&&(this.active=!1,this.$emit("rotateEnd",this.angle))},bindEvents:function(){v(w.document,"mousemove",this.handleMouseMove),v(w.document,"mouseup",this.handleMouseUp)},unbindEvents:function(){b(w.document,"mousemove",this.handleMouseMove),b(w.document,"mouseup",this.handleMouseUp)},getTwoPointAngle:function(e,t){var i={x:t.x-e.x,y:t.y-e.y};return Math.atan2(i.y,i.x)/Math.PI*180}},template:'<div :style="style" @mousedown="handleMouseDown"><slot/></div>',mounted:function(){this.bindEvents()},beforeDestroy:function(){this.unbindEvents()}},k={name:"color-cube",props:{color:{type:[String,Object],default:"rgba(255, 255, 255, 0)"},hasTransparentBg:{type:Boolean,default:!1},hoverable:{type:Boolean,default:!1}},computed:{transparent:function(){var e=p(this.color);return"transparent"===this.color&&e&&0===e.a}},methods:{colorObj2Str:a,colorStr2Obj:p},template:'\n                <div :class="{color_cube_wrap: true, transparent_bg: hasTransparentBg, hoverable: hoverable}">\n                    <div\n                        class="color_cube" \n                        :class="{advance: color === \'advance\', transparent: transparent}"\n                        :style="{background: colorObj2Str(color)}"\n                    />\n                    <slot/>\n                </div>\n            '},S={name:"progress-color-bar",components:{Draggable:i},props:{hasTransparentBg:{type:Boolean,default:!0},targetColor:String,defaultX:Number},data:function(){return{styleEl:null,percent:100*(this.defaultX||0),active:!1}},watch:{targetColor:function(e){e=e.trim(),this.$refs.bar.style.cssText="\n                            background: -webkit-".concat(e,";\n                            background: -moz-").concat(e,";\n                            background: -ms-").concat(e,";\n                            background: -o-").concat(e,";\n                            background: ").concat(e,";\n                        ")}},template:'\n                    <div :class="{progress_bar: true, transparent_bg: hasTransparentBg}">\n                        <div class="progress_bar_inner" ref="bar">\n                            <draggable \n                                class="progress_bar_draggable"\n                                ref="draggable"\n                                @dragStart="($emit(\'dragStart\', $event), active = true)"\n                                @dragging="$emit(\'dragging\', $event)"\n                                @dragEnd="($emit(\'dragEnd\', $event), active = false)"\n                                @change="($emit(\'change\', $event), percent = $event.xPercent)"\n                                :defaultX="defaultX"\n                            >\n                                <div v-if="active" class="progress_bar_tip">{{percent.toFixed(0)}}%</div>\n                                <div class="progress_bar_handle"/>\n                            </draggable>\n                        </div>\n                    </div>\n                ',mounted:function(){var e=this.targetColor.trim();this.$refs.bar.style.cssText="\n                        background: -webkit-".concat(e,";\n                        background: -moz-").concat(e,";\n                        background: -ms-").concat(e,";\n                        background: -o-").concat(e,";\n                        background: ").concat(e,";\n                    ")}},T=function(e,t){"object"===_typeof(t)&&(t=JSON.stringify(t)),w.localStorage.setItem(e,t)},$=function(t){try{return JSON.parse(w.localStorage.getItem(t))}catch(e){return w.localStorage.getItem(t)}},z=new e({name:"color-picker-v2",components:{XRow:{name:"x-row",template:'\n                <div class="row">\n                    <slot/>\n                </div>   \n            '},XCol:{name:"x-col",template:'\n            <div class="col">\n                <slot/>\n            </div>\n        '},ColorCube:k,ProgressColorBar:S,Draggable:i,Rotatable:C},data:function(){var e={pure:{h:140,s:50,l:50,a:1},showPreventEl:!0,gradient:{colors:[{id:f(),h:0,s:0,l:0,a:1,end:0},{id:f(),h:0,s:0,l:0,a:1,end:100}],angle:0},hasChanged:!1,lastColor:null,color:null,mode:"hide",lastMode:"hide",recentUse:[],maxRecentUseLength:5,options:{},colorTable:[["#FCC02E","#F67C01","#E64A19","#D81B43","#8E24AA","#512DA7","#1F87E8","#008781","#05A045"],["#FED835","#FB8C00","#F5511E","#EB1D4E","#9C28B1","#5D35B0","#2097F3","#029688","#4CB050"],["#FFEB3C","#FFA727","#FE5722","#EB4165","#AA47BC","#673BB7","#42A5F6","#26A59A","#83C683"],["#FFF176","#FFB74E","#FF8A66","#F1627E","#B968C7","#7986CC","#64B5F6","#80CBC4","#A5D6A7"],["#FFF59C","#FFCC80","#FFAB91","#FB879E","#CF93D9","#9EA8DB","#90CAF8","#B2DFDC","#C8E6CA"],["transparent","#FFFFFF","#DEDEDE","#A9A9A9","#4B4B4B","#353535","#212121","#000000"]],recentUseKey:""};return e.color=e.lastColor=e.pure,e},watch:{recentUseKey:function(e){this.recentUse=$(e)?$(e).filter(function(e){return"[object Object]"===Object.prototype.toString.call(e)}):[]},color:{handler:function(e){var t=a("number"==typeof e.end?this.gradient:this.pure,this.options.format);this.$emit("on-change",t),this.$emit("input",t),this.hasChanged=!0},deep:!0},"gradient.angle":function(){var e=this.colorObj2Str(this.gradient,this.options.format);this.$emit("on-change",e),this.$emit("input",e),this.hasChanged=!0},mode:function(e,t){this.lastMode=t,"gradient"===e&&"number"!=typeof this.color.end?this.color=this.gradient.colors[0]:"pure"===e&&(this.color=this.pure),setTimeout(this.syncDraggablePosition.bind(this))},options:function(e){var t=p(e.initialColor||"rgba(255, 255, 255, 0)");function i(e,t,i,n){var o=e.indexOf(t);n&&-1===o?e.splice(i,0,t):n||-1===o||e.splice(o,1)}if(!1===e.openGradientMode&&t.colors&&(t=t.colors[0]),e.noAlpha&&(t.colors?t.colors.forEach(function(e){return e.a=1}):t.a=1),this.mode=t.colors?"gradient":"pure",this.changeColor(t),i(this.colorTable[5],"advance",this.colorTable[5].length,e.advance),i(this.colorTable[5],"transparent",0,!e.noAlpha),this.recentUseKey="colorPicker.recentUse[pure]",e.noAlpha&&(this.recentUseKey+="[noAlpha]",this.color.a=1),e.openGradientMode&&(this.recentUseKey+="[gradient]"),e.advance&&(this.recentUseKey+="[advance]"),window!==w&&window.document.domain!==w.document.domain&&e.showInTop&&localStorage.getItem(this.recentUseKey))try{this.recentUse=[].concat(_toConsumableArray(JSON.parse(localStorage.getItem(this.recentUseKey))),_toConsumableArray($(this.recentUseKey))),this.saveRecentUse(),localStorage.removeItem(this.recentUseKey)}catch(e){}this.recentUse=$(this.recentUseKey)?$(this.recentUseKey).filter(function(e){return"[object Object]"===d(e)}):[]}},methods:{hex2hsla:n,hsla2hex:function(e,t,i,n){return r(c(e,t,i,n))},colorStr2Obj:p,colorObj2Str:a,merge:u,deepClone:o,validShowOptions:function(e){var t=e.defaultColor,i=(e.initialColor,e.advance),n=e.openGradientMode,o=e.noAlpha,a=e.top,r=e.left,s=e.base,l=e.format,c=e.direction,u=e.showInTop;if(-1===d(s).indexOf("HTML"))throw new TypeError("base类型必须为HTML元素");if(_(t,"string","defaultColor类型必须为string"),_(i,"boolean","advance类型必须为boolean"),_(n,"boolean","openGradientMode类型必须为boolean"),_(o,"boolean","noAlpha类型必须为boolean"),_(a,"number","top类型必须为number"),_(r,"number","left类型必须为number"),l&&"rgba"!==l&&"hex"!==l&&"hsla"!==l&&"rgb"!==l&&"hsl"!==l)throw new TypeError("format类型必须为['rgba', 'hex', 'hsla', 'rgb', 'hsl']");if(c&&"left"!==c&&"right"!==c)throw new TypeError("direction类型必须为['left', 'right']");_(u,"boolean","showInTop类型必须为boolean")},show:function(t){var e=this;if(this.validShowOptions(t),void 0===t.showInTop)try{window.top.Number(2),t.showInTop=!0}catch(e){t.showInTop=!1}w=t.showInTop?window.top:t.base.ownerDocument.defaultView,this.showPreventEl=!0,t=u({canPreview:!0,advance:!0,openGradientMode:!0,noAlpha:!1,top:0,left:0,defaultColor:null,initialColor:null,base:null,format:"rgba",direction:"right"},t),this.maskEl=w.document.createElement("div"),this.maskEl.style.cssText="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color:transparent; z-index: 9999999;",this.maskEl.addEventListener("click",this.hide,!1),w.document.body.appendChild(this.maskEl),this.options=t,v(t.base.ownerDocument.body,"mousedown",this.hide,!0),this.$nextTick(function(){e.$el.ownerDocument.defaultView!==w&&w.document.body.appendChild(e.$el),e.setPosition()}),w.setTimeout(function(){e.hasChanged=!1,e.$emit("show")})},hide:function(e){var t=this;if(!e||!e.path.some(function(e){return e===t.$el})){e&&e.stopPropagation();try{this.maskEl.parentElement.removeChild(this.maskEl)}catch(e){}if(b(this.options.base.ownerDocument.body,"mousedown",this.hide,!0),this.hasChanged){var i=a("number"==typeof this.color.end?this.gradient:this.pure,this.options.format);this.saveRecentUse(),this.$emit("on-change-stop",i,this.options.initialColor),this.$emit("on-undo",i,this.options.initialColor)}this.restoreColor(),this.mode="hide",w.setTimeout(function(){t.$emit("hide")})}},previewColor:function(e){if(this.options.canPreview&&"advance"!==e){e=o(p(e));var t=this.gradient.colors.indexOf(this.color);if(-1!==t&&!e.colors){var i=e;e=o(this.gradient),u(e.colors[t],i)}e=a(e,this.options.format),this.$emit("on-change",e),this.$emit("input",e)}},restoreColor:function(){var e=this.hasChanged?a("number"==typeof this.color.end?this.gradient:this.pure,this.options.format):this.options.initialColor;this.$emit("on-change",e),this.$emit("input",e)},changeColor:function(e){if(!h(e)){if("string"==typeof e&&(e=p(e)),"number"==typeof e.end||e.colors){this.mode="gradient";var t=this.gradient.colors.indexOf(this.color);-1===t&&(t=0),this.lastColor=o(this.gradient),"number"==typeof e.end?u(this.gradient.colors[t],e):u(this.gradient,e),this.color=this.gradient.colors[t]}else this.lastColor=o(this.pure),u(this.color,e);this.syncDraggablePosition()}},saveRecentUse:function(){this.recentUse.unshift(o("number"==typeof this.color.end?this.gradient:this.color)),this.recentUse.length=this.maxRecentUseLength,T(this.recentUseKey,this.recentUse)},getPaletteStyle:function(){var e=this.color.h;return{backgroundColor:"hsl(".concat(e,", 100%, 50%)")}},getAlphaBarColor:function(){return"linear-gradient(to right, ".concat(a(u({},this.color,{a:0})),", ").concat(a(u({},this.color,{a:1})),")")},getLightnessBarColor:function(e){return e=u({},e,{a:1}),"\n                        linear-gradient(\n                            left,\n                            ".concat(a(u(e,{l:100})),",\n                            ").concat(a(u(e,{l:80})),",\n                            ").concat(a(u(e,{l:60})),",\n                            ").concat(a(u(e,{l:40})),",\n                            ").concat(a(u(e,{l:20})),",\n                            ").concat(a(u(e,{l:0})),"\n                        )\n                    ")},handleInputHex:function(e){var t=e.target.value;if(6===t.length){var i=n(t);i&&this.changeColor(i)}},addGradientPointer:function(){var e=this.gradient.colors,t=Math.floor(e.length/2),i={id:f(),h:0,s:0,l:0,a:1,end:(e[t-1].end+e[t].end)/2};this.color=i,e.splice(t,0,i)},pickerColor:function(e){var t,i,n=e.xPercent,o=e.yPercent,a=(t=this.color.h/360,l(s(t,n,100-o,i)));a.h=this.color.h,u(this.color,a)},syncDraggablePosition:function(){var i=this,e=this.$refs,t=e.alphaBar,n=e.lightnessBar,o=e.customAlphaBar,a=e.hueBar,r=e.angleControl,s=e.palette,l=e.gradientPointer,c=this.color,u=c.h,d=(c.s,c.l),h=c.a,p=m(this.color);function f(e,t,i){e&&("number"==typeof t&&(e.top=(e.$el.parentElement.offsetHeight-e.$el.offsetHeight)*t),"number"==typeof i&&(e.left=(e.$el.parentElement.offsetWidth-e.$el.offsetWidth)*i))}u/=360,d/=100,f(t&&t.$refs.draggable,null,h),f(o&&o.$refs.draggable,null,h),f(n&&n.$refs.draggable,null,1-d),f(a&&a.$refs.draggable,null,u),f(s,1-p.v,p.s),r&&(r.angle=this.gradient.angle+90),l&&l.forEach(function(e,t){return f(e,null,i.gradient.colors[t].end/100)})},getPointerStyle:function(e){return{transform:"translateX(".concat(e.end-50,"%)")}},setPosition:function(){var t=this.$el;if(-1!==d(t).indexOf("HTML")){var e=this.options,i=e.base,n=e.direction,o=e.showInTop;try{var a,r,s=g(i,o);a=s.top+this.options.top-t.clientHeight/2,r="right"===n?s.left+this.options.left+i.offsetWidth:s.left+this.options.left-t.offsetWidth,t.style.cssText="\n                                    top: ".concat(a,"px;\n                                    left: ").concat(r,"px;\n                                ");var l=g(t);l.top<0?t.style.top="0px":l.bottom>w.innerHeight&&(t.style.top=w.innerHeight-t.offsetHeight+"px"),l.right>w.innerWidth?t.style.left=s.left-this.options.left-t.offsetWidth+"px":l.left<0&&(t.style.left=s.left+this.options.left+i.offsetWidth+"px")}catch(e){t.style.top=t.style.left="0px"}}},handleDefaultColorClick:function(){this.mode="pure",this.$nextTick(function(){this.changeColor(this.options.defaultColor),this.$emit("on-click-default-color",this.options.defaultColor)})}},template:'\n                <div \n                    class="f_color_picker f_color_picker_entity" \n                    v-if="mode !== \'hide\'"\n                    @mousedown.stop\n                > \n                    <div class="panel_wrap" ref="panel">\n                        <div class="default_panel" v-if="mode !== \'custom\'">                \n                           <x-row class="f_color_picker_header" v-if="options.openGradientMode">\n                                <span class="small_text">填充: </span>\n                                <select-component v-model="mode" style="width: 178px;">\n                                    <select-item-component value="pure">纯色</select-item-component>\n                                    <select-item-component value="gradient">渐变</select-item-component>\n                                </select-component>\n                            </x-row> \n                            \n                            <x-row class="gradient_control" v-if="mode === \'gradient\'">\n                                <div class="gradient_control_bar_wrap transparent_bg">\n                                    <div class="gradient_control_bar" :style="{background: colorObj2Str(merge({}, gradient, {angle: 90}))}"/>\n                                    <x-row class="gradient_pointers">\n                                         <draggable\n                                            v-for="(_color, i) in gradient.colors"\n                                            ref="gradientPointer"\n                                            :key="_color.id"\n                                            :class="{gradient_control_bar_pointer: true, active: color === _color}"\n                                            :style="getPointerStyle(_color)"\n                                            :defaultX="_color.end / 100"\n                                            leftBound="prev"\n                                            rightBound="next"\n                                            disableJump\n                                            @dragStart="lastColor = deepClone(gradient)"\n                                            @change="_color.end = $event.xPercent"\n                                            @mousedown.native.stop="(color = _color, syncDraggablePosition())"\n                                            @dblclick.native.stop="mode = \'custom\'"\n                                        >\n                                            <color-cube class="gradient_control_bar_pointer_color" hasTransparentBg :color="_color"/>\n                                        </draggable>\n                                    </x-row>\n                                </div>\n                                \n                                <rotatable \n                                    class="gradient_control_direction"\n                                    @rotateStart="lastColor = deepClone(gradient)"\n                                    @change="gradient.angle = +$event.toFixed(0) + 360 - 90"\n                                    ref="angleControl"\n                                /> \n                                <div class="gradient_control_angle">\n                                    <input \n                                        class="gradient_control_direction_text input"\n                                        @input="(gradient.angle = +$event.target.value, syncDraggablePosition())"\n                                        :value="~~(gradient.angle) % 360"  \n                                        maxlength="3" \n                                        type="text"\n                                        @focus="$nextTick($event.target.select.bind($event.target))"\n                                    />\n                                    <span class="small_text angle_unit">°</span>\n                                </div>\n                                \n                                <color-cube \n                                    class="gradient_control_preview" \n                                    hasTransparentBg \n                                    :color="gradient"\n                                />\n                            </x-row>  \n                            \n                            <div class="color_table">\n                                <x-row \n                                    v-for="(colors, i) in colorTable" \n                                    :key="i"\n                                >\n                                    <color-cube \n                                        v-for="(color, index) in colors"\n                                        hoverable\n                                        :key="index" \n                                        :color="color"\n                                        @click.native.stop="color === \'advance\' ? mode = \'custom\' : changeColor(color)"\n                                        @mouseenter.native.stop="previewColor(color)"\n                                        @mouseleave.native.stop="restoreColor"\n                                    /> \n                                </x-row>\n                            </div>    \n                            \n                            <progress-color-bar \n                                class="lightness_control_bar"\n                                ref="lightnessBar"\n                                :targetColor="getLightnessBarColor(color)"\n                                @dragStart="lastColor = typeof color.end === \'number\' ? deepClone(gradient) : deepClone(pure)"\n                                @change="color.l = 100 - $event.xPercent"\n                            />\n                            <progress-color-bar  \n                                v-if="!options.noAlpha"\n                                class="opacity_control_bar"\n                                ref="alphaBar"\n                                :targetColor="getAlphaBarColor()"\n                                @dragStart="lastColor = typeof color.end === \'number\' ? deepClone(gradient) : deepClone(pure)"\n                                @change="color.a = $event.xPercentDecimal"\n                            />\n                        \n                            <x-row style="margin-bottom: 20px;">\n                                <color-cube :color="color" hasTransparentBg class="current_color"/>   \n                                <span class="small_text"># </span>\n                                <input \n                                    type="text" \n                                    class="input small_text underline" \n                                    maxlength="6"\n                                    :value="hsla2hex(color).slice(1)"\n                                    @input="handleInputHex"\n                                    @focus="$nextTick($event.target.select.bind($event.target))"\n                                />\n                                \x3c!--<color-straw/>--\x3e\n                            </x-row>\n                            \n                            <div class="recent_use">\n                                <div class="recent_use_text">最近使用</div>\n                                <x-row>\n                                    <color-cube \n                                        v-if="options.defaultColor"\n                                        color="white" \n                                        hoverable\n                                        @click.native.stop="handleDefaultColorClick"\n                                    >\n                                        <div class="default_color">默</div>\n                                    </color-cube>\n                                    <color-cube \n                                        v-for="(color, i) in recentUse"\n                                        v-if="color" \n                                        :key="i" \n                                        :color="color"\n                                        hasTransparentBg\n                                        hoverable\n                                        @click.native.stop="(mode = typeof color.angle === \'number\' ? \'gradient\' : \'pure\', $nextTick(function() { changeColor(color); }))"\n                                    />\n                                </x-row>   \n                            </div>\n                        </div>\n                        \n                        \x3c!--自定义颜色面板--\x3e\n                        <div class="custom_color_panel" v-else>\n                            <div class="f_color_picker_header">\n                                <div class="back" @click="mode = lastMode"/>\n                            </div>\n                            \n                            <div class="palette" :style="{backgroundColor: \'hsl(\' + color.h + \', 100%, 50%)\'}">\n                                <draggable \n                                    class="palette_pointer"\n                                    ref="palette" \n                                    axis="xy"\n                                    @dragStart="lastColor = typeof color.end === \'number\' ? deepClone(gradient) : deepClone(pure)" \n                                    @change="pickerColor"\n                                />\n                            </div>\n                                                   \n                            <progress-color-bar \n                                class="hue" \n                                ref="hueBar"\n                                targetColor="linear-gradient(left, #F00 0%, #FF0 16.66%, #0F0 33.33%, #0FF 50%,#00F 66.66%, #F0F 83.33%, #F00 100%)"\n                                @dragStart="lastColor = typeof color.end === \'number\' ? deepClone(gradient) : deepClone(pure)"\n                                @change="color.h = $event.xPercentDecimal * 360"\n                            />\n                            <progress-color-bar  \n                                v-if="!options.noAlpha"\n                                ref="customAlphaBar"\n                                :targetColor="getAlphaBarColor()"\n                                @dragStart="lastColor = typeof color.end === \'number\' ? deepClone(gradient) : deepClone(pure)"\n                                @change="color.a = $event.xPercentDecimal"\n                            />\n                            \n                            <x-row class="current_color_wrap">\n                                <color-cube \n                                    class="current_color"\n                                    hasTransparentBg \n                                    :color="color" \n                                />\n                                <span class="small_text"># </span>\n                                <input \n                                    type="text" \n                                    class="input small_text underline" \n                                    maxlength="6"\n                                    :value="hsla2hex(color).slice(1)"\n                                    @input="handleInputHex"\n                                    @focus="$nextTick($event.target.select.bind($event.target))"\n                                />\n                            </x-row>\n                        </div>\n                    </div>\n                </div>\n            ',beforeDestroy:function(){b(document.body,"mousedown",this.hide)}}),j=function(){function n(e,o,t){var i=this;_classCallCheck(this,n),_defineProperty(this,"events",{}),_defineProperty(this,"forwardTarget",null),_defineProperty(this,"source",null),this.forwardTarget=e,this.source=o,t.forEach(function(n){i.events[n]=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];o.$emit.apply(o,[n].concat(t))}})}return _createClass(n,[{key:"execute",value:function(i){var n=this;Object.keys(this.events).forEach(function(e){var t=n.events[e];n.forwardTarget[i](e,t)})}},{key:"startForward",value:function(){this.execute("$on")}},{key:"stopForward",value:function(){this.execute("$off")}}]),n}();e.component("color-picker-v2-component",{name:"color-picker-v2-component",props:{value:[Object,String],options:{type:Object,default:function(){return{}}}},watch:{value:function(e){this.color=e}},components:{ColorCube:k},data:function(){return{color:this.value,eventForward:new j(z,this,["on-change","on-change-stop","on-undo","input","show","hide","on-click-default-color"])}},methods:{show:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.options;this.eventForward.startForward(),z.$on("input",this.handleInput),z.show(u({base:this.$el,initialColor:this.value&&a(this.value)||this.color},e))},hide:function(){this.eventForward.stopForward(),z.$off("input",this.handleInput)},handleInput:function(){this.color=arguments.length<=0?void 0:arguments[0]},colorObj2Str:a,colorStr2Obj:p},template:'\n                <div \n                    class="f_color_picker f_color_picker_enter" \n                    @click="show()"\n                >\n                    <color-cube \n                        class="show_btn"\n                        :color="color"\n                        :hasTransparentBg="false"\n                    />\n                </div>\n            ',mounted:function(){if(z.$on("hide",this.hide),!z._isMounted){var e=document.createElement("div");document.body.appendChild(e),z.$mount(e)}}})}catch(e){}}(Vue),Vue.component("colorpicker-component",{name:"Colorpicker",template:'<div :class="wrapClasses" @click.stop="handleClick" :style="{backgroundColor: value}"><div :class="btnClasses" :style="{backgroundColor: value}"></div></div>',props:{value:String,prefixCls:String,options:Object},computed:{wrapClasses:function(){var e={};return e[this.prefix+"-wrapper"]=!0,e},btnClasses:function(){var e={};return e[this.prefix]=!0,e},prefix:function(){return this.prefixCls||"jz-colorpicker"}},methods:{handleClick:function(){var t=this,e=this.options||{},i=t.value,n={base:$(t.$el),inputHexStatus:o,onchange:o,defaultcolor:t.value,advance:void 0===e.advance||e.advance,showInTop:e.showInTop||!1,appendToWeb:void 0===e.appendToWeb||e.appendToWeb,changeStop:function(e){t.$emit("on-change-stop",e,i),t.$emit("on-undo",e,i),i=e},left:e.left||0,top:e.top||0,noAlpha:e.noAlpha||!1,inFaiTop:e.inFaiTop||!1};function o(e){t.$emit("input",e),t.$emit("on-change",e,$(t.$el))}$(this.$el).faiColorPickerAlp(n)}}}),Vue.component("dialog-component",{name:"Dialog",template:'<transition name="jz-dialog-fade" v-if="open"><popup-component><div class="jz_dialog"><div class="jz_dialog_main"><div class="jz_dialog_icon" v-if="icon"><i v-if="icon == \'warning\'" class="jz_icon_warning"></i><div v-else-if="icon == \'success\'" class="jz_icon_success"><div class="jz_icon_success_placeholder"></div><i class="jz_icon_success_bingo"></i></div></div><div class="jz_dialog_content"><slot name="content"><div v-html="content"></div></slot></div><div class="jz_dialog_description" v-if="$slots.description || description"><slot name="description"><div v-html="description"></div></slot></div><div class="jz_dialog_buttons" v-if="confirmButton || cancelButton"><button-component v-if="confirmButton" class="jz_dialog_button" global-oper :active="confirmButton.active || true" :disabled="confirmButton.disabled || false" :href="confirmButton.href || null" @click.stop="clickConfirmHandler">{{confirmButton.text}}</button-component><button-component v-if="cancelButton" class="jz_dialog_button" global-oper :active="cancelButton.active || false" :disabled="cancelButton.disabled || false" :href="cancelButton.href || null" @click.stop="clickCancelHandler">{{cancelButton.text}}</button-component></div></div><div class="jz_dialog_footer" v-if="$slots.footer"><slot name="footer"></slot></div><i v-if="showClose" class="jz_dialog_close jz_icon_close" @click.stop="clickCloseHandler"></i></div></popup-component></transition>',data:function(){return{open:this.value}},props:{content:{type:String,default:""},description:{type:String,default:""},icon:{type:String,validator:function(e){return-1<["warning","success"].indexOf(e)}},confirmButton:Object,cancelButton:Object,value:Boolean,showClose:{type:Boolean,default:!0}},watch:{open:function(e){this.$emit("input",e),!1===e&&(this.$emit("destroy"),this.$destroy(),this.$el&&this.$el.parentNode.removeChild(this.$el))}},mounted:function(){vue_utils.on(document,"keydown",this.keydownEnterHandler),vue_utils.on(document,"keydown",this.keydownEscHandler)},beforeDestroy:function(){vue_utils.off(document,"keydown",this.keydownEnterHandler),vue_utils.off(document,"keydown",this.keydownEscHandler)},methods:{keydownEnterHandler:function(e){13==e.keyCode&&this.confirm()},keydownEscHandler:function(e){27==e.keyCode&&this.close()},clickConfirmHandler:function(){this.confirm()},clickCancelHandler:function(){this.cancel()},clickCloseHandler:function(){this.close()},confirm:function(){this.hide(),this.$emit("confirm")},cancel:function(){this.hide(),this.$emit("cancel")},close:function(){this.hide(),this.$emit("close")},hide:function(){this.open=!1},show:function(){this.open=!0}}}),Vue.prototype.$createDialog=function(o,a){var e={};o.data&&(e=o.data);var t={};o.onConfirm&&(t.confirmHandler=o.onConfirm),o.onCancel&&(t.cancelHandler=o.onCancel),o.onClose&&(t.closeHandler=o.onClose),t.destroyHandler=function(){this.$destroy()};var i=new Vue({el:document.createElement("div"),data:e,methods:t,render:function(e){var t={};this.confirmHandler&&(t.confirm=this.confirmHandler),this.cancelHandler&&(t.cancel=this.cancelHandler),this.closeHandler&&(t.close=this.closeHandler),this.destroyHandler&&(t.destroy=this.destroyHandler);var i={};vue_utils.isDef(o.content)&&(i.content=o.content),vue_utils.isDef(o.description)&&(i.description=o.description),vue_utils.isDef(o.icon)&&(i.icon=o.icon),vue_utils.isDef(o.confirmButton)&&(i.confirmButton=o.confirmButton),vue_utils.isDef(o.cancelButton)&&(i.cancelButton=o.cancelButton),vue_utils.isDef(o.value)&&(i.cancelButton=o.value),vue_utils.isDef(o.showClose)&&(i.showClose=o.showClose);var n=[];return a&&(n=a.call(this,e)),e("dialog-component",{on:t,props:i,ref:"dialog"},Array.isArray(n)?n:[n])}});return top.document.body.appendChild(i.$el),i.$refs.dialog.show(),i.$refs.dialog},Vue.component("dropdown-menu-component",{name:"DropdownMenu",template:'<ul class="jz-dropdown-menu"><slot></slot></ul>'}),Vue.component("dropdown-menu-item-component",{name:"DropdownMenuItem",template:'<li class="jz-dropdown-menu-item" v-if="!subMenu" @click="clickHandler"><slot></slot></li><dropdown-component v-else trigger="hover" placement="right-start" :menu-style="menuStyle"><dropdown-menu-item-component><slot></slot><div class="second-select-icon"></div></dropdown-menu-item-component><template slot="menu"><slot name="menu"></slot></template></dropdown-component>',props:{subMenu:Boolean,menuStyle:[Object,String]},methods:{clickHandler:function(e){this._events.click&&(this.$emit("click",e),vue_utils.findComponentsUpward(this,"Dropdown").forEach(function(e){e.$emit("hide")}))}}}),Vue.component("dropdown-menu-divider-component",{name:"DropdownMenuItem",template:'<li class="jz-dropdown-menu-divider"></li>'}),function(){var t="jz-dropdown";Vue.component("dropdown-component",{name:"Dropdown",template:'<div :class="wrapClasses" v-clickoutside="handleClose" @mouseenter="handleMouseenter" @mouseleave="handleMouseleave"><div :class="relClasses" ref="reference" @click="handleClick"><slot :is-active="currentVisible"></slot></div><transition :name="transition"><select-dropdown-component :style="menuStyle" :secondselect="secondselect" v-show="currentVisible" :placement="placement" ref="drop" @mouseenter.native="handleMouseenter" @mouseleave.native="handleMouseleave"><slot name="menu"></slot></select-dropdown-component></transition></div>',props:{trigger:{validator:function(e){return vue_utils.oneOf(e,["click","hover","custom"])}},placement:{validator:function(e){return vue_utils.oneOf(e,["top","top-start","top-end","bottom","bottom-start","bottom-end","left","left-start","left-end","right","right-start","right-end"])}},visible:Boolean,secondselect:Boolean,menuStyle:String},data:function(){return{prefixCls:t,currentVisible:this.visible}},computed:{wrapClasses:function(){var e={"jz-dropdown":!0};return e},relClasses:function(){var e={"jz-dropdown-rel":!0};return e[t+"-rel-active"]=this.currentVisible,e},transition:function(){return"fade"}},watch:{visible:function(e){this.currentVisible=e},currentVisible:function(e){e?this.$refs.drop.update():this.$refs.drop.destroy(),this.$emit("on-visible-change",e)}},methods:{handleClick:function(){return"custom"!==this.trigger&&("click"===this.trigger&&void(this.currentVisible=!this.currentVisible))},handleMouseenter:function(){var e=this;return"custom"!==this.trigger&&("hover"===this.trigger&&(this.timeout&&clearTimeout(this.timeout),void(this.timeout=setTimeout(function(){e.currentVisible=!0},250))))},handleMouseleave:function(){var e=this;return"custom"!==this.trigger&&("hover"===this.trigger&&void(this.timeout&&(clearTimeout(this.timeout),this.timeout=setTimeout(function(){e.currentVisible=!1},150))))},handleClose:function(){return"custom"!==this.trigger&&("click"===this.trigger&&void(this.currentVisible=!1))},hasParent:function(){var e=vue_utils.findComponentUpward(this,"Dropdown");return e||!1}},mounted:function(){var i=this;this.$on("hide",function(){i.currentVisible=!1}),this.$on("on-click",function(e){var t=i.hasParent();t&&t.$emit("on-click",e)}),this.$on("on-hover-click",function(){var e=this.hasParent();e?(i.$nextTick(function(){if("custom"===i.trigger)return!1;i.currentVisible=!1}),e.$emit("on-hover-click")):this.$nextTick(function(){if("custom"===i.trigger)return!1;i.currentVisible=!1})}),this.$on("on-haschild-click",function(){i.$nextTick(function(){if("custom"===i.trigger)return!1;i.currentVisible=!0});var e=i.hasParent();e&&e.$emit("on-haschild-click")})}})}(),Vue.component("jz-file-upload-v2",{props:{data:Object},data:function(){return{hoverImgPreviewer:!1}},computed:{isFontIcon:function(){return this.checkIsFontIcon(this.data.imgId,this.data.checkIsFontIcon)},fontClass:function(){return this.data.fontClass||""},fontColor:function(){return this.data.fontColor||"rgb(102, 102, 102)"},imgId:function(){return this.data.imgId||""},imgPath:function(){return this.data.imgPath||""},compatible:function(){return this.data&&this.data.imgIdCompatible&&"string"==typeof this.imgPath&&""!=this.imgPath},showPreview:function(){return this.isFontIcon?0<this.fontClass.length:!!this.imgId||this.compatible},fileEditTitle:function(){return"string"==typeof this.data.fileEditTitle?this.data.fileEditTitle:"修改图片"},fileAddTitle:function(){return"string"==typeof this.data.fileAddTitle?this.data.fileAddTitle:"添加图片"}},template:"\n            <div class='jz-fileUpload'>\n                <div class='addFileLine'>\n                    <span class='f-fileTitle' :class='data.titleclass'>{{data.title||'图片'}}：</span>\n                    <button-component :disabled='data.disabled' class='f-uploadBtn' @click='fileBtnClick'>\n                        {{showPreview ? fileEditTitle : fileAddTitle}}\n                    </button-component>\n                </div>\n                <div class='imgPreviewerLine' v-if='showPreview'>\n                    <span class='f-fileTitle' :class='data.titleclass'/>\n                    <div class='imgPreviewer' v-show='isFontIcon'>\n                        <div class='f-previewImg' :class='[fontClass]' :style='{ color: fontColor}'/>\n                    </div>\n                    <div \n                        v-show='!isFontIcon' \n                        class='imgPreviewer'\n                        :class='{imgPreviewerHover: hoverImgPreviewer}'\n                        @mouseenter='hoverImgPreviewer = true;' \n                        @mouseleave='hoverImgPreviewer = false;'\n                    >\n                        <img :src='isFontIcon ? \"\" : data.imgPath' @load='imgOnload($event)'/>\n                        <div class='imgPreviewerMaskLayer' v-if='hoverImgPreviewer'>\n                            <div class='imgViewIcon' @click.stop='viewFile'/>\n                            <div class='imgRemoveIcon' @click.stop='removeFile'/>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        ",methods:{viewFile:function(){if(!this.isFontIcon){var e="../view.jsp?fileID="+this.imgId;this.data.viewPath&&(e=this.data.viewPath),window.open(this.compatible?this.imgPath:e)}},removeFile:function(){var e=this,t={filePath:e.data.imgPath||"",fileId:e.data.imgId||"",classname:e.data.classname||"",color:e.data.color||""},i={};this.isFontIcon?(e.fontClass="",e.fontColor="",i.fontClass="",i.fontColor=""):(i.filePath="",i.fileId=""),this.$emit("on-change",JSON.stringify({data:[i]})),this.$emit("on-remove",JSON.stringify({data:[i]})),e.$emit("on-undo",{data:[{filePath:"",fileId:"",classname:"",color:""}]},{data:[t]})},fileBtnClick:function(){var o=this,t=window;try{t=window.top}catch(e){t=window}function e(e){if(e){var t=$.parseJSON(e).data[0]||{},i={filePath:o.data.imgPath||"",fileId:o.data.imgId||"",classname:o.data.fontClass||"",color:o.data.fontColor||""},n={filePath:t.filePath||"",fileId:t.fileId||"",classname:t.classname||"",color:t.color||""};o.fileChangeCallBack(e),o.$emit("on-undo",{data:[n]},{data:[i]})}}t.Root?t.Root.fileUpload2(!1,this.data.setting,e):t.MallApp?t.MallApp.fileUpload(!1,this.data.setting,e):t.Site?t.Site.fileUpload2(!1,this.data.setting,e):t.Mobi?t.Mobi.fileUpload2(!1,this.data.setting,e):t.WXApp&&t.WXApp.fileUpload(!1,this.data.setting,e)},fileChangeCallBack:function(e){if(e&&e){this.$emit("on-change",e);var t=$.parseJSON(e).data[0]||{};this.data.imgPath=t.filePath,this.data.imgId=t.fileId}},imgOnload:function(e){var t=this.data.imgPreviewerWidth||120,i=this.data.imgPreviewerHeight||70;vue_utils.optimize(e.currentTarget,{width:t,height:i,mode:vue_utils.Img.MODE_SCALE_DEFLATE_FILL,display:3})},checkIsFontIcon:function(e,t){return t&&"function"==typeof t?t.apply(this,[e]):!(!e||0==e.length||e.length<"FontIcon_".length||"NewFontIcon_"!=e.substring(0,"NewFontIcon_".length)&&"FontIcon_"!=e.substring(0,"FontIcon_".length))}}}),Vue.component("jz-file-upload",{props:{data:Object},data:function(){return{hoverImgPreviewer:!1}},computed:{isFontIcon:function(){return this.checkIsFontIcon(this.data.imgId,this.data.checkIsFontIcon)},fontClass:function(){return this.data.fontClass||""},fontColor:function(){return this.data.fontColor||"rgb(102, 102, 102)"},imgId:function(){return this.data.imgId||""},imgPath:function(){return this.data.imgPath||""},compatible:function(){return this.data&&this.data.imgIdCompatible&&"string"==typeof this.imgPath&&""!=this.imgPath},showPreview:function(){return this.isFontIcon?0<this.fontClass.length:!!this.imgId||this.compatible},fileEditTitle:function(){return"string"==typeof this.data.fileEditTitle?this.data.fileEditTitle:"修改图片"},fileAddTitle:function(){return"string"==typeof this.data.fileAddTitle?this.data.fileAddTitle:"添加图片"}},template:"<div class='jz-fileUpload'><div class='addFileLine'><span class='f-fileTitle' :class='data.titleclass'>{{data.title||'图片'}}：</span><button-component :disabled='data.disabled' class='f-uploadBtn' @click='fileBtnClick'>{{showPreview ? fileEditTitle : fileAddTitle}}</button-component></div><div class='imgPreviewerLine' v-if='showPreview'><span class='f-fileTitle' :class='data.titleclass'></span><div class='imgPreviewer' v-show='isFontIcon'><div class='f-previewImg' :class='[fontClass]' :style='{ color: fontColor}' ></div></div><div v-show='!isFontIcon' class='imgPreviewer' :class='{imgPreviewerHover: hoverImgPreviewer}' @mouseenter='hoverImgPreviewer = true;' @mouseleave='hoverImgPreviewer = false;'><img :src='!isFontIcon ? imgPath : \"\"' @load='imgOnload($event)'/><div class='imgPreviewerMaskLayer' v-if='hoverImgPreviewer'><div class='imgViewIcon' @click.stop='viewFile'></div><div class='imgRemoveIcon' @click.stop='removeFile'></div></div></div></div></div>",methods:{viewFile:function(){if(!this.isFontIcon){var e="../view.jsp?fileID="+this.imgId;this.data.viewPath&&(e=this.data.viewPath),window.open(this.compatible?this.imgPath:e)}},removeFile:function(){var e=this,t={filePath:e.data.imgPath||"",fileId:e.data.imgId||"",classname:e.data.classname||"",color:e.data.color||""},i={};this.isFontIcon?(e.fontClass="",e.fontColor="",i.fontClass="",i.fontColor=""):(i.filePath="",i.fileId=""),this.$emit("on-change",JSON.stringify({data:[i]})),this.$emit("on-remove",JSON.stringify({data:[i]})),e.$emit("on-undo",{data:[{filePath:"",fileId:"",classname:"",color:""}]},{data:[t]})},fileBtnClick:function(){var o=this;function e(e){if(e){var t=$.parseJSON(e).data[0]||{},i={filePath:o.data.imgPath||"",fileId:o.data.imgId||"",classname:o.data.fontClass||"",color:o.data.fontColor||""},n={filePath:t.filePath||"",fileId:t.fileId||"",classname:t.classname||"",color:t.color||""};o.fileChangeCallBack(e),o.$emit("on-undo",{data:[n]},{data:[i]})}}window.Root?Root.fileUpload2(!1,this.data.setting,e):window.MallApp?MallApp.fileUpload(!1,this.data.setting,e):window.Site?Site.fileUpload2(!1,this.data.setting,e):window.Mobi?Mobi.fileUpload2(!1,this.data.setting,e):window.WXApp&&WXApp.fileUpload(!1,this.data.setting,e)},fileChangeCallBack:function(e){if(e&&e){this.$emit("on-change",e);var t=$.parseJSON(e).data[0]||{};this.data.imgPath=t.filePath,this.data.imgId=t.fileId}},imgOnload:function(e){var t=this.data.imgPreviewerWidth||120,i=this.data.imgPreviewerHeight||70;vue_utils.optimize(e.currentTarget,{width:t,height:i,mode:vue_utils.Img.MODE_SCALE_DEFLATE_FILL,display:3})},checkIsFontIcon:function(e,t){return t&&"function"==typeof t?t.apply(this,[e]):!(!e||0==e.length||e.length<"FontIcon_".length||"NewFontIcon_"!=e.substring(0,"NewFontIcon_".length)&&"FontIcon_"!=e.substring(0,"FontIcon_".length))}}}),Vue.component("gallery-component",{name:"Gallery",props:vue_utils.initDefaultProps({wrapWidth:Number,viewWidth:Number,prevLeft:Number,nextRight:Number,iconSize:String,defaultIndex:Number},{wrapWidth:600,viewWidth:600,prevLeft:32,nextRight:32,iconSize:"default",defaultIndex:0}),data:function(){return{index:this.defaultIndex}},template:'<div class="jz-gallery" :data-index="proxyIndex" :data-max-index="maxIndex"><div class="gallery-wrap" :style="wrapStyles"><div class="gallery-view" :style="viewStyles"><slot></slot></div></div><div class="gallery-button is-prev" :class="prevButtonClasses" :style="prevStyles" v-if="maxIndex > 0" @click="slideToPrev"></div><div class="gallery-button is-next" :class="nextButtonClasses" :style="nextStyles" v-if="maxIndex > 0" @click="slideToNext"></div></div>',computed:{prevStyles:function(){return{left:"-"+this.prevLeft+"px"}},nextStyles:function(){return{right:"-"+this.nextRight+"px"}},wrapStyles:function(){return{width:this.wrapWidth+"px"}},viewStyles:function(){var e=this.proxyIndex*this.wrapWidth,t=this.viewWidth-this.wrapWidth,i=t<e?t:e;return{width:this.viewWidth+"px","margin-left":"-"+i+"px"}},maxIndex:function(){return Math.ceil(this.viewWidth/this.wrapWidth)-1},minIndex:function(){return 0},proxyIndex:{get:function(){return this.index},set:function(e){var t=this.maxIndex,i=this.minIndex;this.index=t<e?t:e<i?i:e}},prevButtonClasses:function(){var e={};return e["gallery-button-"+this.iconSize]=!0,e["is-disabled"]=this.proxyIndex==this.minIndex,e},nextButtonClasses:function(){var e={};return e["gallery-button-"+this.iconSize]=!0,e["is-disabled"]=this.proxyIndex==this.maxIndex,e}},created:function(){this.$on("slide-to-first",this.slideToFirst),this.$on("slide-to-prev",this.slideToPrev),this.$on("slide-to-next",this.slideToNext),this.$on("slide-to-last",this.slideToLast)},methods:{slideToPrev:function(){this.proxyIndex--},slideToNext:function(){this.proxyIndex++},slideToLast:function(){this.proxyIndex=this.maxIndex},slideToFirst:function(){this.proxyIndex=this.minIndex}}}),function(e,t){void 0!==e.Vue&&e.Vue.component("input-number-component",function(e){e({name:"InputNumber",template:'<div class="jz-input-number"><input class="input-number-input" :disabled="disabled" :style="inputStyle" :value="showValue" @input="inputHandler" @focus="focusHandler" @blur="blurHandler" ref="input"></div>',props:{width:[String,Number],value:{type:[String,Number],default:0},max:{type:Number,default:1/0},min:{type:Number,default:0},decimal:Boolean,nagative:Boolean,unit:String,digitis:{type:Number,default:0},disabled:Boolean},data:function(){return{currentValue:0,isFocus:!1}},watch:{currentValue:function(e){e!==this.value&&this.$emit("input",e)},value:function(e){this.setCurrentValue(e)}},computed:{showValue:function(){var e=this.currentValue,t=this.unit,i=this.isFocus,n=t?i?e:e+t:e;return n},inputStyle:function(){var e=this.width,t={};return t.width="string"==typeof e?e:"number"==typeof e?e+"px":"",t},validatorMRE:function(){var e=this.decimal,t=this.nagative,i=this.digitis,n=new RegExp("^(?:0|[1-9]\\d*)(\\.\\d"+(0<i?"{0,"+i+"}":"*")+")?$"),o=new RegExp("(^\\-$)|(^(?:0|[1-9]\\d*|\\-\\d+)(\\.\\d"+(0<i?"{0,"+i+"}":"*")+")?$)");return e&&t?o:e?n:t?/^(?:0|\-?([1-9]\d*)?)$/:/^(?:0|[1-9]\d*)$/},validatorRE:function(){var e=this.decimal,t=this.nagative;return e&&t?/^(?:0|\-?\d+)(\.\d+)?$/:e?/^(?:0|[1-9]\d*)(\.\d+)?$/:t?/^(?:0|\-?[1-9]\d*)$/:/^(?:0|[1-9]\d*)$/}},methods:{inputHandler:function(e){var t=e.target.value;""!==t&&(this.validatorMRE.test(t)?this.validatorRE.test(t)&&this.setCurrentValue(t):this.$forceUpdate())},focusHandler:function(){this.isFocus=!0,this.$emit("focus"),this.$emit("on-undo-focus",this.currentValue)},blurHandler:function(){(this.currentValue<this.min||""===this.$refs.input.value)&&(this.setCurrentValue(this.min),this.$emit("error")),this.isFocus=!1,this.$forceUpdate(),this.$emit("blur",this.currentValue),this.$emit("on-blur",this.currentValue),this.$emit("on-undo-blur",this.currentValue)},setCurrentValue:function(e){var t=parseFloat(e),i=isNaN(t)?"":t;i>this.max?(this.currentValue=this.max,this.$emit("error"),this.$forceUpdate()):this.currentValue=i}},created:function(){this.setCurrentValue(this.value)}})})}(this),function(){var t="jz-input",i=!0;Vue.component("input-component",{name:"Input",template:'<div :class="wrapClasses" @click.stop><template v-if="type !== \'textarea\'"><input ref="input" :id="id" :type="inputType" :maxlength="maxlength" :readonly="readonly" :class="inputClasses" :placeholder="placeholder" :value="currentValue" :unit="unit" @keypress="handleKeypress" :disabled="disabled" :number="number" @click="handleInputClick" @keyup.enter="handleEnter" @input="handleInput" @paste="handleInput" @focus="handleFocus" @blur="handleBlur"><i v-if="icon && !focusStatus" :class="iClasses" @click="clickSearchIcon"></i><i v-if="icon && focusStatus" :class="iClasses" @mousedown.prevent @click="clickClearIcon"></i></template><textarea v-else ref="textarea" class="input-textarea-inner" :value="currentValue" :disabled="disabled" :class="inputClasses" :placeholder="placeholder" :maxlength="maxlength" @input="handleInput" @blur="handleBlur" @focus="handleFocus"></textarea><span v-if="limit" :class="lClasses" v-html="limitText"></span></div>',props:{id:String,classes:String,pattern:String,maxlength:[String,Number],readonly:Boolean,type:String,inputType:{type:String,default:"text"},placeholder:String,disabled:Boolean,icon:String,value:[String,Number],number:Boolean,negativeNumber:Boolean,unit:String,noTrim:Boolean,format:String,limit:String,isWidthChange:{type:Boolean,default:function(){return!0}}},data:function(){return{currentValue:this.value,showUnit:!1,focusStatus:!1}},methods:{handleEnter:function(e){this.$emit("on-enter",e)},handleInputClick:function(e){this.$refs.input.parentNode.click(),this.$refs.input.focus(),i&&this.$refs.input.select(),i=!1,this.$emit("click",e)},handleInput:function(e){var t=e.target.value,i=this.noTrim?t:t.trim();if(this.number&&""!==i&&(this.negativeNumber||"-"!==i.charAt(0)||(i=i.replace("-","")),i=Number.isNaN(Number(i))?i.replace(/[^0-9]/gi,""):Number(i),this.$refs.input.value=i),this.negativeNumber&&""!==i){if("-"===i.charAt(0)){var n=i.replace("-","");i="-"+(0===(i=Number.isNaN(Number(n))?n.replace(/[^0-9]/gi,""):Number(n))?"":i)}else i=Number.isNaN(Number(i))?i.replace(/[^0-9]/gi,""):Number(i);this.$refs.input.value=i}this.setCurrentValue(i),this.$emit("input",i),this.$emit("on-change",e)},handleKeypress:function(e){if(this.format&&!new RegExp(this.format).test(e.key))return e.preventDefault(),!1},handleFocus:function(e){this.unit&&(this.$refs.input.value=e.target.value.replace(this.unit,""),this.showUnit=!1),this.focusStatus=!0,this.$emit("on-focus",e),this.$emit("on-undo-focus",this.currentValue)},handleBlur:function(e){this.unit&&""!==e.target.value&&(this.$refs.input.value=e.target.value+this.unit,this.showUnit=!0),this.focusStatus=!1,i=!0,this.$emit("on-blur",e),this.$nextTick(function(){this.$emit("on-undo-blur",this.currentValue)})},clickSearchIcon:function(){this.$emit("on-click-search",this.currentValue)},clickClearIcon:function(){""!==this.currentValue&&this.setCurrentValue(""),this.$emit("on-click-clear",this.currentValue)},setCurrentValue:function(e){this.number&&""!==e&&(e=Number.isNaN(Number(e))?"":Number(e)),this.currentValue=e},focus:function(){this.$refs.input.focus()},blur:function(){this.$refs.input.blur()}},computed:{wrapClasses:function(){var e={"jz-input-wrapper":!0};return e[t+"-"+this.type]=!!this.type,e},inputClasses:function(){var e={"jz-input":!0};return e[this.classes]=!!this.classes,e[t+"-limitwrapper"]=!!this.limit,e},iClasses:function(){var e={"jz-input-icon":!0};return e[this.icon]=!!this.icon,e},lClasses:function(){var e={"jz-input-limit":!0};return e[this.limit]=!!this.limit,e},limitText:function(){var e=this.currentValue?this.currentValue.length:0;return(e=e>this.maxlength?this.maxlength:e)+"/"+this.maxlength}},mounted:function(){var e=this;this.pattern&&this.$nextTick(function(){void 0!==e.$refs.input&&(e.$refs.input.style.cssText+=e.pattern),void 0!==e.$refs.textarea&&(e.$refs.textarea.style.cssText+=e.pattern)}),""!==this.value&&this.unit&&this.$nextTick(function(){void 0!==e.$refs.input&&(e.$refs.input.value=e.value+e.unit)})},watch:{value:function(e){var t=this.$refs.input,i=this;document.hasFocus()&&document.activeElement==t||""!==this.value&&this.unit&&this.value&&this.$nextTick(function(){void 0!==i.$refs.input&&-1==i.value.toString().indexOf(i.unit)&&(i.$refs.input.value=i.value+i.unit)}),this.setCurrentValue(e)}}})}(),Vue.component("lock-ratio-component",{template:"<div class='jz_lock_ratio'>   <input-component class='width_input' @input='inputWidth' :value='width' number :maxlength='4' ref='width'></input-component>   <div @click='lockToggle' title='锁定宽高比' class='jz_lock_ratio_btn'><div :class='!unlocked?\"lock_ratio\":\"unlock_ratio\"'></div></div>   <input-component class='height_input' @input='inputHeight' :value='height' number :maxlength='4' ref='height'></input-component></div>",props:{width:Number,height:Number,minWidth:Number,maxWidth:Number,minHeight:Number,maxHeight:Number,unlocked:Boolean},data:function(){return{ratio:this.width/this.height,input:""}},methods:{inputWidth:function(e){if(void 0===e&&(e=this.maxWidth),(e>this.maxWidth||e<this.minWidth)&&"width"===this.input&&""!==e&&this.$emit("error:width"),!this.unlocked){var t=Math.ceil(e/this.ratio);this.$emit("update:height",isNaN(t)||!isFinite(t)?this.maxHeight:t)}this.$emit("update:width",e)},inputHeight:function(e){if(void 0===e&&(e=this.maxWidth),(e>this.maxHeight||e<this.minHeight)&&"height"===this.input&&""!==e&&this.$emit("error:height"),!this.unlocked){var t=Math.ceil(e*this.ratio);this.$emit("update:width",isNaN(t)||!isFinite(t)?this.maxWidth:t)}this.$emit("update:height",e)},lockToggle:function(){this.$emit("update:unlocked",!this.unlocked),this.ratio=this.width/this.height||this.ratio}},mounted:function(){var e=this;this.$refs.width.$el.getElementsByTagName("input")[0].onfocus=function(){e.input="width"},this.$refs.height.$el.getElementsByTagName("input")[0].onfocus=function(){e.input="height"}}}),function(e){"function"==typeof define&&define.amd?define(e):e()}(function(){"use strict";var e={name:"ContainerComponent",props:{direction:String},computed:{isVertical:function(){return"vertical"===this.direction||"horizontal"!==this.direction&&(!(!this.$slots||!this.$slots.default)&&this.$slots.default.some(function(e){var t=e.componentOptions&&e.componentOptions.tag;return"header-component"===t||"footer-component"===t}))}}},t=function(){var e=this.$createElement;return(this._self._c||e)("section",{staticClass:"jz_container",class:{"jz_container--vertical":this.isVertical}},[this._t("default")],2)};t._withStripped=!0;var i,n,o,a,r,s=(o=void 0,a=!(i={render:t,staticRenderFns:[]}),(r=("function"==typeof(n=e)?n.options:n)||{}).__file="/home/faier/svn/res/frontend/component_1_0/packages/container/src/main.vue",r.render||(r.render=i.render,r.staticRenderFns=i.staticRenderFns,r._compiled=!0,a&&(r.functional=!0)),r._scopeId=o,r),l={name:"HeaderComponent",props:{height:{type:String,default:"60px"}}},c=function(){var e=this.$createElement;return(this._self._c||e)("header",{staticClass:"jz_header",style:{height:this.height}},[this._t("default")],2)};c._withStripped=!0;var u,d,h,p,f,m=(h=void 0,p=!(u={render:c,staticRenderFns:[]}),(f=("function"==typeof(d=l)?d.options:d)||{}).__file="/home/faier/svn/res/frontend/component_1_0/packages/header/src/main.vue",f.render||(f.render=u.render,f.staticRenderFns=u.staticRenderFns,f._compiled=!0,p&&(f.functional=!0)),f._scopeId=h,f);m.install=function(e){e.component(m.name,m)};var g={name:"MainComponent"},v=function(){var e=this.$createElement;return(this._self._c||e)("main",{staticClass:"jz_main"},[this._t("default")],2)};v._withStripped=!0;var b,y,_,w,x,C=(_=void 0,w=!(b={render:v,staticRenderFns:[]}),(x=("function"==typeof(y=g)?y.options:y)||{}).__file="/home/faier/svn/res/frontend/component_1_0/packages/main/src/main.vue",x.render||(x.render=b.render,x.staticRenderFns=b.staticRenderFns,x._compiled=!0,w&&(x.functional=!0)),x._scopeId=_,x);C.install=function(e){e.component(C.name,C)};var k={name:"FooterComponent",props:{height:{type:String,default:"60px"}}},S=function(){var e=this.$createElement;return(this._self._c||e)("footer",{staticClass:"jz_footer",style:{height:this.height}},[this._t("default")],2)};S._withStripped=!0;var T,$,z,j,D,I=(z=void 0,j=!(T={render:S,staticRenderFns:[]}),(D=("function"==typeof($=k)?$.options:$)||{}).__file="/home/faier/svn/res/frontend/component_1_0/packages/footer/src/main.vue",D.render||(D.render=T.render,D.staticRenderFns=T.staticRenderFns,D._compiled=!0,j&&(D.functional=!0)),D._scopeId=z,D);I.install=function(e){e.component(I.name,I)};var P={name:"AsideComponent",props:{width:{type:String,default:"300px"}}},E=function(){var e=this.$createElement;return(this._self._c||e)("aside",{staticClass:"jz_aside",style:{width:this.width}},[this._t("default")],2)};E._withStripped=!0;var A,O,L,F,V,N=(L=void 0,F=!(A={render:E,staticRenderFns:[]}),(V=("function"==typeof(O=P)?O.options:O)||{}).__file="/home/faier/svn/res/frontend/component_1_0/packages/aside/src/main.vue",V.render||(V.render=A.render,V.staticRenderFns=A.staticRenderFns,V._compiled=!0,F&&(V.functional=!0)),V._scopeId=L,V);N.install=function(e){e.component(N.name,N)};var B={name:"ModalComponent",components:{ContainerComponent:s,HeaderComponent:m,MainComponent:C,FooterComponent:I,AsideComponent:N},props:{title:String,description:String,asideDescription:String,confirmDisabled:Boolean,cancelDisabled:Boolean,width:{type:Number,default:600},height:{type:Number,default:600},useMaximizing:Boolean,maximizing:{type:Boolean,default:!1}},data:function(){return{left:0,top:0,isMaximizing:this.maximizing}},computed:{modalWrapStyle:function(){return{left:this.isMaximizing?0:this.left+"px",top:this.isMaximizing?0:this.top+"px","max-height":this.isMaximizing?"100vh":this.height+"px"}},mainStyle:function(){return{width:this.isMaximizing?this.$slots.asideMain?"calc(100vw - 158px)":"100vw":this.width+"px"}}},watch:{maximizing:function(){this.isMaximizing=this.maximizing},isMaximizing:function(){this.$emit("update:maximizing",this.isMaximizing)}},mounted:function(){var e=this;this.$nextTick(function(){e.left=e.$refs.modal.clientWidth/2-e.$refs.modalWrap.clientWidth/2,e.top=e.$refs.modal.clientHeight/2-e.$refs.modalWrap.clientHeight/2})},methods:{onCancel:function(){this.$emit("cancel")},onConfirm:function(){this.$emit("confirm")},onClose:function(){this.$emit("close")},onHeaderMousedown:function(e){this._originLeft=this.left,this._originTop=this.top,this._originPageX=e.pageX,this._originPageY=e.pageY,document.addEventListener("mousemove",this.onDocumentMousemove),document.addEventListener("mouseup",this.onDocumentMouseup)},onDocumentMousemove:function(e){var t=e.pageX-this._originPageX+this._originLeft,i=e.pageY-this._originPageY+this._originTop,n=this.$refs.modal.clientWidth-this.$refs.modalWrap.clientWidth,o=t<0?0:n<t?n:t,a=this.$refs.modal.clientHeight-this.$refs.modalWrap.clientHeight,r=i<0?0:a<i?a:i;this.left=o,this.top=r},onDocumentMouseup:function(){document.removeEventListener("mousemove",this.onDocumentMousemove),document.removeEventListener("mouseup",this.onDocumentMouseup)},onMaximizing:function(){this.isMaximizing=!this.isMaximizing}}},H=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"modal",staticClass:"jz_modal"},[i("div",{staticClass:"jz_modal__mask"}),t._v(" "),i("div",{ref:"modalWrap",staticClass:"jz_modal__wrap",style:t.modalWrapStyle},[i("container-component",{staticClass:"jz_model__content"},[i("container-component",{staticClass:"jz_modal__container"},[i("header-component",{staticClass:"jz_modal__header",attrs:{height:"65px"},nativeOn:{mousedown:function(e){return t.onHeaderMousedown(e)}}},[i("span",{staticClass:"jz_modal__title"},[t._v(t._s(t.title))]),t._v(" "),i("span",{staticClass:"jz_modal__description"},[t._v("( "+t._s(t.description)+" )")]),t._v(" "),t.useMaximizing?i("i",{staticClass:"jz_modal__maximizing",attrs:{title:t.isMaximizing?"还原":"最大化"},on:{mousedown:function(e){e.stopPropagation()},click:t.onMaximizing}}):t._e(),t._v(" "),i("i",{staticClass:"jz_modal__close jz_icon_close",attrs:{title:"关闭"},on:{mousedown:function(e){e.stopPropagation()},click:t.onClose}})]),t._v(" "),i("main-component",{staticClass:"jz_modal__main",style:t.mainStyle},[t._t("main")],2),t._v(" "),i("footer-component",{staticClass:"jz_modal__footer",attrs:{height:"90px"}},[i("button-component",{staticClass:"jz_modal__button",attrs:{"global-oper":"",active:"",disabled:t.confirmDisabled},on:{click:t.onConfirm}},[t._v("确 定")]),t._v(" "),i("button-component",{staticClass:"jz_modal__button",attrs:{"global-oper":"",disabled:t.cancelDisabled},on:{click:t.onCancel}},[t._v("取 消")])],1)],1),t._v(" "),t.$slots.asideMain?i("aside-component",{staticClass:"jz_modal__aside",attrs:{width:"148px"}},[i("container-component",{staticClass:"jz_modal__container"},[i("header-component",{staticClass:"jz_modal__header",attrs:{height:"66px"}},[i("span",[t._v(t._s(t.asideDescription))])]),t._v(" "),i("main-component",{staticClass:"jz_modal__main jz_modal__main--aside"},[t._t("asideMain")],2),t._v(" "),i("footer-component",{staticClass:"jz_modal__footer",attrs:{height:"90px"}})],1)],1):t._e()],1)],1)])};H._withStripped=!0;var R,M,W,U,q,X=(W=void 0,U=!(R={render:H,staticRenderFns:[]}),(q=("function"==typeof(M=B)?M.options:M)||{}).__file="/home/faier/svn/res/frontend/component_1_0/packages/modal/src/main.vue",q.render||(q.render=R.render,q.staticRenderFns=R.staticRenderFns,q._compiled=!0,U&&(q.functional=!0)),q._scopeId=W,q);X.install=function(e){e.component(X.name,X)},"undefined"!=typeof window&&window.Vue&&Vue.use(X)}),function(){var t="jz-page";Vue.component("page-component",{name:"Page",template:'<ul :class="simpleWrapClasses" :style="styles" v-if="simple"><div class="'+t+'-wrap" v-if="showTotal"><span class="'+t+'-size">本页共{{ currentRealPageSize }}个</span><span class="'+t+'-total">总共{{ total }}个</span></div><li :title="prevPage" :class="prevClasses" @click="prev"><a>{{ prevPage }}</a></li><div :class="simplePagerClasses">{{ currentPage }}<span>/</span>{{ allPages }}</div><li :title="nextPage" :class="nextClasses" @click="next"><a>{{ nextPage }}</a></li></ul><ul :class="wrapClasses" :style="styles" v-else><div class="clearFix"><div class="'+t+'-wrap" v-if="showTotal"><span class="'+t+'-size">本页共{{ currentRealPageSize }}个</span><span class="'+t+'-total">总共{{ total }}个</span><slot name="ext-tip"></slot></div><div v-if="showSizer" class="'+t+'-options-sizer"><div class="'+t+'-sizer">每页显示个数</div><select-component style="width: 56px; text-align: left;" v-model="currentPageSize" placement="bottom" @on-change="changeSize"><select-item-component v-for="item in pageSizeOpts" :key="item" :value="item" style="text-align:center;">{{ item }}</select-item-component></select-component></div></div><li :title="prevPage" :class="prevClasses" @click="prev"><i class="'+t+'-arrow-left"></i><a>{{ prevPage }}</a></li><li title="1" :class="firstPageClasses" @click="changePage(1)"><a>1</a></li><li v-if="currentPage - 3 > 1" class="'+t+'-item"><i class="'+t+'-ellipses"></i></li><li :title="currentPage - 2" v-if="currentPage - 2 > 1" class="'+t+'-item" @click="changePage(currentPage - 2)"><a>{{ currentPage - 2 }}</a></li><li :title="currentPage - 1" v-if="currentPage - 1 > 1" class="'+t+'-item" @click="changePage(currentPage - 1)"><a>{{ currentPage - 1 }}</a></li><li :title="currentPage" v-if="currentPage != 1 && currentPage != allPages" class="'+t+"-item "+t+'-item-active"><a>{{ currentPage }}</a></li><li :title="currentPage + 1" v-if="currentPage + 1 < allPages" class="'+t+'-item" @click="changePage(currentPage + 1)"><a>{{ currentPage + 1 }}</a></li><li :title="currentPage + 2" v-if="currentPage + 2 < allPages" class="'+t+'-item" @click="changePage(currentPage + 2)"><a>{{ currentPage + 2 }}</a></li><li v-if="currentPage + 3 < allPages" class="'+t+'-item"><i class="'+t+'-ellipses"></i></li><li :title="allPages" v-if="allPages > 1" :class="lastPageClasses" @click="changePage(allPages)"><a>{{ allPages }}</a></li><li :title="nextPage" :class="nextClasses" @click="next"><a>{{ nextPage }}</a><i class="'+t+'-arrow-right"></i></li><span class="'+t+'-allPages">共{{ allPages }}页</span><span class="'+t+'-elevator">到第<input-component @on-enter="changePage($refs.elevator.currentValue, \'elevator\')" ref="elevator" number pattern="height: 34px;" style="width: 50px; margin: 0 10px;"></input-component>页</span><button class="'+t+'-btn" @click="changePage($refs.elevator.currentValue, \'elevator\')">确定</button><slot name="ext-btn"></slot></ul>',props:{current:Number,total:Number,pageSize:{type:Number,default:5},simple:Boolean,className:String,styles:Object,showTotal:Boolean,pageSizeOpts:{type:Array,default:function(){return[15,30,45,60]}},showSizer:Boolean},data:function(){return{prevPage:"上一页",nextPage:"下一页",currentPage:this.current,currentPageSize:this.pageSize}},watch:{total:function(e){var t=Math.ceil(e/this.currentPageSize);t<this.currentPage&&0<t&&(this.currentPage=t,this.$emit("update:current",this.currentPage))},current:function(e){this.currentPage=e},pageSize:function(e){this.currentPageSize=e}},computed:{currentRealPageSize:function(){var e=this.total-this.currentPage*this.currentPageSize;return e<0?this.currentPageSize+e:this.currentPageSize},allPages:function(){var e=Math.ceil(this.total/this.currentPageSize);return 0===e?1:e},simpleWrapClasses:function(){var e={"jz-page":!0,"jz-page-simple":!0};return e[this.className]=!!this.className,e},simplePagerClasses:function(){return t+"-simple-pager"},prevClasses:function(){var e={"jz-page-prev":!0};return e[t+"-disabled"]=1===this.currentPage,e},nextClasses:function(){var e={"jz-page-next":!0};return e[t+"-disabled"]=this.currentPage===this.allPages,e},wrapClasses:function(){var e={"jz-page":!0,"jz-page-complex":!0};return e[this.className]=!!this.className,e},firstPageClasses:function(){var e={"jz-page-item":!0};return e[t+"-item-active"]=1===this.currentPage,e},lastPageClasses:function(){var e={"jz-page-item":!0};return e[t+"-item-active"]=this.currentPage===this.allPages,e}},methods:{changePage:function(e,t){if("elevator"==t)if(vue_utils.isValueNumber(e)){if((e=Number(e))!=this.currentPage){var i=this.allPages;i<e&&(e=i)}this.$refs.elevator.currentValue=""}else e=1;this.currentPage!=e&&(this.currentPage=e,this.$emit("on-change",e),this.$emit("update:current",e))},changeSize:function(e){this.currentPageSize=e,this.$emit("on-page-size-change",e),this.changePage(1)},prev:function(){var e=this.currentPage;if(e<=1)return!1;this.changePage(e-1)},next:function(){var e=this.currentPage;if(e>=this.allPages)return!1;this.changePage(e+1)},onPage:function(e){this.changePage(e)}}})}(),Vue.component("photo-group-component",{name:"PhotoGroup",template:'<div :class="classes"><slot></slot></div>',props:{value:{type:[String,Number,Boolean]}},data:function(){return{currentValue:this.value,childrens:[]}},computed:{classes:function(){return"jz-photo-group"}},mounted:function(){this.updateValue()},methods:{updateValue:function(){var t=this.value;this.childrens=vue_utils.findComponentsDownward(this,"Photo"),this.childrens&&this.childrens.forEach(function(e){e.currentValue=t==e.label,e.group=!0})},change:function(e){var t=this.currentValue;this.currentValue=e.value,this.updateValue(),this.$emit("input",e.value),this.$emit("on-change",e.value),this.$emit("on-undo",e.value,t)}},watch:{value:function(){this.updateValue()}}}),function(){Vue.component("img-component",{name:"Img",template:'<div class="jz_img"><img class="jz_img_item" :src="src || defaultSrc"></div>',props:{src:String,defaultSrc:{type:String,default:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII="}}}),Vue.component("editor-component",{name:"Editor",template:'<div class="jz_editor" :class="{jz_editor__disabled: disabled}"><slot></slot><div class="jz_editor_layer" :class="active ? \'jz_editor_layer--active\' : null" @click="clickLayerHandler"><i v-for="btnName in data" class="jz_editor_item" :class="\'jz_editor_\' + btnName" @click.stop="clickItemHandler(btnName)"></i><i v-for="btnName in activeData" class="jz_editor_item" :class="[\'jz_editor_\' + btnName, \'jz_editor_item--active\']" @click.stop="clickItemHandler(btnName)"></i><slot name="data" className="jz_editor_item"></slot></div></div>',props:{data:{type:Array,default:function(){return["del","update"]}},activeData:{type:Array,default:function(){return[]}},disabled:Boolean},computed:{list:function(){return this.data.concat(this.activeData)},active:function(){return 0<this.activeData.length}},methods:{clickItemHandler:function(e){this.disabled||this.$emit(e)},clickLayerHandler:function(e){this.disabled||this.$emit("click",e)}}}),Vue.component("upload-component",{name:"Upload",template:'<div class="jz_upload" :class="[\'jz_upload_\' + size, {jz_upload_disabled: disabled}]" @click="clickUploadHandler"><div class="jz_upload_icon"></div><div class="jz_upload_label" v-if="size == \'large\'">{{label}}</div></div>',props:{disabled:Boolean,label:{type:String,default:"点击添加图片"},size:{type:String,default:"normal",validator:function(e){return vue_utils.oneOf(e,["mini","normal","large"])}}},methods:{clickUploadHandler:function(){this.disabled||this.$emit("upload")}}});Vue.component("photo-list-component",{name:"PhotoList",props:{value:{type:Array,requied:!0},viewLength:{type:Number,default:4},pathAlias:{type:String,default:"filePath"},slideToDirection:{type:String,default:"last"},max:{type:Number,default:1/0},itemMargin:{type:Number,default:15},uploadMargin:{type:Number,default:15},noPhotoWidth:Number,prevLeft:{type:Number,default:125},nextRight:{type:Number,default:32}},data:function(){return{dragging:!1,hoverIndex:-1,canLoad:!1}},template:'<div class="jz-photo-list" :class="{\'is-no-photo\': noPhoto}" :style="photoListStyles"><div class="photo-list-wrap"><upload-component @upload="addHandler" class="jz_photo_list_upload" :style="uploadStyles" :size="noPhoto ? \'large\' : \'normal\'" :disabled="maxPhoto"></upload-component><gallery-component class="photo-list-view" v-if="!noPhoto" :wrap-width="galleryWrapWidth" :view-width="galleryViewWidth" :prev-left="prevLeft" :next-right="nextRight"><draggable class="photo-list-drag" :class="{\'is-dragging\': dragging}" :value="value" @input="dragHandler" @start="startDrag" @end="endDrag" :options="dragOpts"><div class="photo-list-item" v-for="(item, index) in value" :style="itemStyles" @mousemove="mousemoveHandler(index)" @mouseleave="mouseleaveHandler"><editor-component @del="delHandler(item)" @update="editHandler(item)" class="jz_photo_list_editor" :class="{jz_photo_list_editor_hover: index == hoverIndex}"><img-component v-if="(index < viewLength) || canLoad" :src="item[pathAlias]"></img-component></editor-component></div></draggable></gallery-component></div><div class="photo-list-label" v-if="value.length > viewLength">图片已上传{{value.length}}张</div></div>',computed:{noPhoto:function(){return 0==this.value.length},maxPhoto:function(){return this.value.length>=this.max},uploadStyles:function(){return this.noPhoto?{margin:"5px 0 0",width:this.noPhotoWidth?this.noPhotoWidth+"px":""}:{margin:"5px "+this.uploadMargin/2+"px 0",width:"78px"}},itemStyles:function(){return{width:"92px",margin:"5px "+this.itemMargin/2+"px 0"}},photoListStyles:function(){return{width:this.galleryWrapWidth+1*this.uploadOuterWidth+"px"}},galleryWrapWidth:function(){return this.viewLength*this.itemOuterWidth},galleryViewWidth:function(){return this.value.length*this.itemOuterWidth},dragOpts:function(){return{draggable:".photo-list-item",forceFallback:!0,filter:".jz_editor_item",scrollFn:this.scrollFn,preventOnFilter:!1}},itemOuterWidth:function(){return 92+this.itemMargin},uploadOuterWidth:function(){return 78+this.uploadMargin}},created:function(){this.$on("added-photo",this.addedPhoto)},mounted:function(){"complete"==document.readyState?this.loadImgs():vue_utils.on(window,"load",this.loadImgs)},beforeDestroy:function(){vue_utils.off(window,"load",this.loadImgs)},methods:{loadImgs:function(){this.canLoad=!0},addHandler:function(){this.maxPhoto||this.$emit("add-photo",this.addedPhoto)},delHandler:function(e){var t=this.value.slice(),i=t.indexOf(e);-1<i&&t.splice(i,1),this.$emit("input",t),this.$emit("del-photo",e)},dragHandler:function(e){this.$emit("input",e),this.$emit("drag-photo",e)},editHandler:function(e){this.$emit("edit-photo",e)},slideToPrev:function(){vue_utils.broadcast(this,"Gallery","slide-to-prev")},slideToNext:function(){vue_utils.broadcast(this,"Gallery","slide-to-next")},slideToFirst:function(){vue_utils.broadcast(this,"Gallery","slide-to-first")},slideToLast:function(){vue_utils.broadcast(this,"Gallery","slide-to-last")},addedPhoto:function(){!this.noPhoto&&this.$nextTick("last"==this.slideToDirection?this.slideToLast:this.slideToFirst)},scrollFn:vue_utils.throttle(function(e){e<0&&this.slideToPrev(),0<e&&this.slideToNext()},800),startDrag:function(){this.dragging=!0},endDrag:function(){this.dragging=!1},mousemoveHandler:function(e){this.dragging||this.hoverIndex!=e&&(this.hoverIndex=e)},mouseleaveHandler:function(){this.dragging||(this.hoverIndex=-1)}}})}(),function(){var t="jz-photo";Vue.component("photo-component",{name:"Photo",template:'<label :class="wrapClasses" ><input type="radio" :class="inputClasses" :checked="currentValue" @change="change"><slot></slot></label>',props:{label:{type:[String,Number,Boolean]},type:String,size:{validator:function(e){return vue_utils.oneOf(e,["mini","small","large"])}},value:Boolean},data:function(){return{currentValue:this.value,group:!1,parent:vue_utils.findComponentUpward(this,"PhotoGroup")}},mounted:function(){this.parent&&(this.group=!0),this.group?this.parent.updateValue():this.updateValue()},computed:{wrapClasses:function(){var e={"jz-photo-wrapper":!0};return e[t+"-group-item"]=!!this.group,e[t+"-checked"]=!!this.currentValue,e[t+"-"+this.type]=!!this.type,e[t+"-"+this.size]=!!this.size,e},inputClasses:function(){return"jz-radio-input"}},methods:{change:function(e){var t=e.target.checked;this.currentValue=t,this.$emit("input",t),this.group&&void 0!==this.label&&this.parent.change({value:this.label,checked:this.value}),this.group||this.$emit("on-change",t)},updateValue:function(){this.currentValue=this.value}},watch:{value:function(){this.updateValue()}}})}(),Vue.component("popover-component",{name:"popover",template:"<div ref='jzPopover' class='jz_popover' :class='classes'><div class='popover_bg'></div><div class='popover_panel' :style='panelStyle'><div class='popover_wrap'><div class='popover_header_wrap'><slot name='header'><div class='popover_header_wrap2'><div class='popover_header'><div class='popover_header_inner'><span class='popover_header_span1'></span><span class='popover_header_span2'></span></div></div></div></slot></div><div class='popover_content_wrap'><slot name='content'></slot></div><div class='popover_operate_wrap'><slot name='operate'><button-component class='popover_operate_button' global-oper active @click='popoverSure'>确 定</button-component><button-component class='popover_operate_button' global-oper @click='popoverCancle'>取 消</button-component></slot></div><div class='popover_close' @click='popoverClose'></div></div></div></div>",props:{w:Number,h:Number,bg:String,classes:String},data:function(){var e=document.documentElement.clientWidth,t=document.documentElement.clientHeight;return{panelStyle:{width:this.w+"px",height:this.h+"px",background:this.bg,left:(e-this.w)/2+"px",top:(t-this.h)/2+"px"},close:!1}},methods:{popoverSure:function(){this.$emit("sure",this),this.close&&this.popoverDestroy()},popoverCancle:function(){this._events.cancle?(this.$emit("cancle",this),this.close&&this.popoverDestroy()):this.popoverDestroy()},popoverClose:function(){this._events.close?(this.$emit("close",this),this.close&&this.popoverDestroy()):this.popoverCancle()},popoverDestroy:function(){this.$refs.jzPopover.parentElement.removeChild(this.$refs.jzPopover),this.$destroy(),this.$parent.$destroy()}}}),function(e,t){"function"==typeof define&&define.amd?define(t):"object"===("undefined"==typeof module?"undefined":_typeof(module))&&module.exports&&"undefined"==typeof window?module.exports=t():e.Popper=t()}(this,function(){"use strict";var f=window,a={placement:"bottom",gpuAcceleration:!0,offset:0,boundariesElement:"viewport",boundariesPadding:5,preventOverflowOrder:["left","right","top","bottom"],flipBehavior:"flip",arrowElement:"[x-arrow]",arrowOffset:0,modifiers:["shift","offset","preventOverflow","keepTogether","arrow","flip","applyStyle"],modifiersIgnored:[],forceAbsolute:!1,forceFixed:!1,win:window};function e(e,t,i){this._reference=e.jquery?e[0]:e,this.state={};var n=null==t,o=t&&"[object Object]"===Object.prototype.toString.call(t);return this._popper=n||o?this.parse(o?t:{}):t.jquery?t[0]:t,this._options=Object.assign({},a,i),f=this._options.win,this._options.modifiers=this._options.modifiers.map(function(e){if(-1===this._options.modifiersIgnored.indexOf(e))return"applyStyle"===e&&this._popper.setAttribute("x-placement",this._options.placement),this.modifiers[e]||e}.bind(this)),this.state.position=this._getPosition(this._popper,this._reference),r(this._popper,{position:this.state.position,top:0}),this.update(),this._setupEventListeners(),this}function m(e){var t=e.style.display,i=e.style.visibility;e.style.display="block",e.style.visibility="hidden";e.offsetWidth;var n=f.getComputedStyle(e),o=parseFloat(n.marginTop)+parseFloat(n.marginBottom),a=parseFloat(n.marginLeft)+parseFloat(n.marginRight),r={width:e.offsetWidth+a,height:e.offsetHeight+o};return e.style.display=t,e.style.visibility=i,r}function c(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,function(e){return t[e]})}function g(e){var t=Object.assign({},e);return t.right=t.left+t.width,t.bottom=t.top+t.height,t}function o(e,t){var i,n=0;for(i in e){if(e[i]===t)return n;n++}return null}function i(e,t){return f.getComputedStyle(e,null)[t]}function v(e){var t=e.offsetParent;return t!==f.document.body&&t?t:f.document.documentElement}function b(e){var t=e.parentNode;return t?t===f.document?f.document.body.scrollTop||f.document.body.scrollLeft?f.document.body:f.document.documentElement:-1!==["scroll","auto"].indexOf(i(t,"overflow"))||-1!==["scroll","auto"].indexOf(i(t,"overflow-x"))||-1!==["scroll","auto"].indexOf(i(t,"overflow-y"))?t:b(e.parentNode):e}function r(n,o){Object.keys(o).forEach(function(e){var t,i="";-1!==["width","height","top","right","bottom","left"].indexOf(e)&&(""!==(t=o[e])&&!isNaN(parseFloat(t))&&isFinite(t))&&(i="px"),n.style[e]=o[e]+i})}function y(e){var t={width:e.offsetWidth,height:e.offsetHeight,left:e.offsetLeft,top:e.offsetTop};return t.right=t.left+t.width,t.bottom=t.top+t.height,t}function s(e){var t=e.getBoundingClientRect(),i=-1!=navigator.userAgent.indexOf("MSIE")&&"HTML"===e.tagName?-e.scrollTop:t.top;return{left:t.left,top:i,right:t.right,bottom:t.bottom,width:t.right-t.left,height:t.bottom-i}}function l(e){for(var t=["","ms","webkit","moz","o"],i=0;i<t.length;i++){var n=t[i]?t[i]+e.charAt(0).toUpperCase()+e.slice(1):e;if(void 0!==f.document.body.style[n])return n}return null}return e.prototype.destroy=function(){return this._popper.removeAttribute("x-placement"),this._popper.style.left="",this._popper.style.position="",this._popper.style.top="",this._popper.style[l("transform")]="",this._removeEventListeners(),this._options.removeOnDestroy&&this._popper.remove(),this},e.prototype.update=function(){var e={instance:this,styles:{}};e.placement=this._options.placement,e._originalPlacement=this._options.placement,e.offsets=this._getOffsets(this._popper,this._reference,e.placement),e.boundaries=this._getBoundaries(e,this._options.boundariesPadding,this._options.boundariesElement),e=this.runModifiers(e,this._options.modifiers),"function"==typeof this.state.updateCallback&&this.state.updateCallback(e)},e.prototype.onCreate=function(e){return e(this),this},e.prototype.onUpdate=function(e){return this.state.updateCallback=e,this},e.prototype.parse=function(e){var t={tagName:"div",classNames:["popper"],attributes:[],parent:f.document.body,content:"",contentType:"text",arrowTagName:"div",arrowClassNames:["popper__arrow"],arrowAttributes:["x-arrow"]};e=Object.assign({},t,e);var i=f.document,n=i.createElement(e.tagName);if(r(n,e.classNames),s(n,e.attributes),"node"===e.contentType?n.appendChild(e.content.jquery?e.content[0]:e.content):"html"===e.contentType?n.innerHTML=e.content:n.textContent=e.content,e.arrowTagName){var o=i.createElement(e.arrowTagName);r(o,e.arrowClassNames),s(o,e.arrowAttributes),n.appendChild(o)}var a=e.parent.jquery?e.parent[0]:e.parent;if("string"==typeof a){if(1<(a=i.querySelectorAll(e.parent)).length&&console.warn("WARNING: the given `parent` query("+e.parent+") matched more than one element, the first one will be used"),0===a.length)throw"ERROR: the given `parent` doesn't exists!";a=a[0]}return 1<a.length&&a instanceof Element==!1&&(console.warn("WARNING: you have passed as parent a list of elements, the first one will be used"),a=a[0]),a.appendChild(n),n;function r(t,e){e.forEach(function(e){t.classList.add(e)})}function s(t,e){e.forEach(function(e){t.setAttribute(e.split(":")[0],e.split(":")[1]||"")})}},e.prototype._getPosition=function(e,t){v(t);return this._options.forceAbsolute?"absolute":this._options.forceFixed?"fixed":function e(t){if(t===f.document.body)return!1;if("fixed"===i(t,"position"))return!0;return t.parentNode?e(t.parentNode):t}(t)?"fixed":"absolute"},e.prototype._getOffsets=function(e,t,i){i=i.split("-")[0];var n={};n.position=this.state.position;var o="fixed"===n.position,a=function(e,t,i){var n=s(e),o=s(t);if(i){var a=b(t);o.top+=a.scrollTop,o.bottom+=a.scrollTop,o.left+=a.scrollLeft,o.right+=a.scrollLeft}return{top:n.top-o.top,left:n.left-o.left,bottom:n.top-o.top+n.height,right:n.left-o.left+n.width,width:n.width,height:n.height}}(t,v(e),o),r=m(e);return-1!==["right","left"].indexOf(i)?(n.top=a.top+a.height/2-r.height/2,n.left="left"===i?a.left-r.width:a.right):(n.left=a.left+a.width/2-r.width/2,n.top="top"===i?a.top-r.height:a.bottom),n.width=r.width,n.height=r.height,{popper:n,reference:a}},e.prototype._setupEventListeners=function(){if(this.state.updateBound=this.update.bind(this),f.addEventListener("resize",this.state.updateBound),"window"!==this._options.boundariesElement){var e=b(this._reference);e!==f.document.body&&e!==f.document.documentElement||(e=f),e.addEventListener("scroll",this.state.updateBound),this.state.scrollTarget=e}},e.prototype._removeEventListeners=function(){f.removeEventListener("resize",this.state.updateBound),"window"!==this._options.boundariesElement&&this.state.scrollTarget&&(this.state.scrollTarget.removeEventListener("scroll",this.state.updateBound),this.state.scrollTarget=null),this.state.updateBound=null},e.prototype._getBoundaries=function(e,t,i){var n,o,a,r={};if("window"===i){var s=f.document.body,l=f.document.documentElement;n=Math.max(s.scrollHeight,s.offsetHeight,l.clientHeight,l.scrollHeight,l.offsetHeight),r={top:0,right:Math.max(s.scrollWidth,s.offsetWidth,l.clientWidth,l.scrollWidth,l.offsetWidth),bottom:n,left:0}}else if("viewport"===i){var c=v(this._popper),u=b(this._popper),d=y(c),h="fixed"===e.offsets.popper.position?0:(a=u)==document.body?Math.max(document.documentElement.scrollTop,document.body.scrollTop):a.scrollTop,p="fixed"===e.offsets.popper.position?0:(o=u)==document.body?Math.max(document.documentElement.scrollLeft,document.body.scrollLeft):o.scrollLeft;r={top:0-(d.top-h),right:f.document.documentElement.clientWidth-(d.left-p),bottom:f.document.documentElement.clientHeight-(d.top-h),left:0-(d.left-p)}}else r=v(this._popper)===i?{top:0,left:0,right:i.clientWidth,bottom:i.clientHeight}:y(i);return r.left+=t,r.right-=t,r.top=r.top+t,r.bottom=r.bottom-t,r},e.prototype.runModifiers=function(i,e,t){var n=e.slice();return void 0!==t&&(n=this._options.modifiers.slice(0,o(this._options.modifiers,t))),n.forEach(function(e){var t;(t=e)&&"[object Function]"==={}.toString.call(t)&&(i=e.call(this,i))}.bind(this)),i},e.prototype.isModifierRequired=function(e,t){var i=o(this._options.modifiers,e);return!!this._options.modifiers.slice(0,i).filter(function(e){return e===t}).length},(e.prototype.modifiers={}).applyStyle=function(e){var t,i={position:e.offsets.popper.position},n=Math.round(e.offsets.popper.left),o=Math.round(e.offsets.popper.top);return this._options.gpuAcceleration&&(t=l("transform"))?(i[t]="translate3d("+n+"px, "+o+"px, 0)",i.top=0,i.left=0):(i.left=n,i.top=o),Object.assign(i,e.styles),r(this._popper,i),this._popper.setAttribute("x-placement",e.placement),this.isModifierRequired(this.modifiers.applyStyle,this.modifiers.arrow)&&e.offsets.arrow&&r(e.arrowElement,e.offsets.arrow),e},e.prototype.modifiers.shift=function(e){var t=e.placement,i=t.split("-")[0],n=t.split("-")[1];if(n){var o=e.offsets.reference,a=g(e.offsets.popper),r={y:{start:{top:o.top},end:{top:o.top+o.height-a.height}},x:{start:{left:o.left},end:{left:o.left+o.width-a.width}}},s=-1!==["bottom","top"].indexOf(i)?"x":"y";e.offsets.popper=Object.assign(a,r[s][n])}return e},e.prototype.modifiers.preventOverflow=function(t){var e=this._options.preventOverflowOrder,i=g(t.offsets.popper),n={left:function(){var e=i.left;return i.left<t.boundaries.left&&(e=Math.max(i.left,t.boundaries.left)),{left:e}},right:function(){var e=i.left;return i.right>t.boundaries.right&&(e=Math.min(i.left,t.boundaries.right-i.width)),{left:e}},top:function(){var e=i.top;return i.top<t.boundaries.top&&(e=Math.max(i.top,t.boundaries.top)),{top:e}},bottom:function(){var e=i.top;return i.bottom>t.boundaries.bottom&&(e=Math.min(i.top,t.boundaries.bottom-i.height)),{top:e}}};return e.forEach(function(e){t.offsets.popper=Object.assign(i,n[e]())}),t},e.prototype.modifiers.keepTogether=function(e){var t=g(e.offsets.popper),i=e.offsets.reference,n=Math.floor;return t.right<n(i.left)&&(e.offsets.popper.left=n(i.left)-t.width),t.left>n(i.right)&&(e.offsets.popper.left=n(i.right)),t.bottom<n(i.top)&&(e.offsets.popper.top=n(i.top)-t.height),t.top>n(i.bottom)&&(e.offsets.popper.top=n(i.bottom)),e},e.prototype.modifiers.flip=function(o){if(!this.isModifierRequired(this.modifiers.flip,this.modifiers.preventOverflow))return console.warn("WARNING: preventOverflow modifier is required by flip modifier in order to work, be sure to include it before flip!"),o;if(o.flipped&&o.placement===o._originalPlacement)return o;var a=o.placement.split("-")[0],r=c(a),s=o.placement.split("-")[1]||"",l=[];return(l="flip"===this._options.flipBehavior?[a,r]:this._options.flipBehavior).forEach(function(e,t){if(a===e&&l.length!==t+1){a=o.placement.split("-")[0],r=c(a);var i=g(o.offsets.popper),n=-1!==["right","bottom"].indexOf(a);(n&&Math.floor(o.offsets.reference[a])>Math.floor(i[r])||!n&&Math.floor(o.offsets.reference[a])<Math.floor(i[r]))&&(o.flipped=!0,o.placement=l[t+1],s&&(o.placement+="-"+s),o.offsets.popper=this._getOffsets(this._popper,this._reference,o.placement).popper,o=this.runModifiers(o,this._options.modifiers,this._flip))}}.bind(this)),o},e.prototype.modifiers.offset=function(e){var t=this._options.offset,i=e.offsets.popper;return-1!==e.placement.indexOf("left")?i.top-=t:-1!==e.placement.indexOf("right")?i.top+=t:-1!==e.placement.indexOf("top")?i.left-=t:-1!==e.placement.indexOf("bottom")&&(i.left+=t),e},e.prototype.modifiers.arrow=function(e){var t=this._options.arrowElement,i=this._options.arrowOffset;if("string"==typeof t&&(t=this._popper.querySelector(t)),!t)return e;if(!this._popper.contains(t))return console.warn("WARNING: `arrowElement` must be child of its popper element!"),e;if(!this.isModifierRequired(this.modifiers.arrow,this.modifiers.keepTogether))return console.warn("WARNING: keepTogether modifier is required by arrow modifier in order to work, be sure to include it before arrow!"),e;var n={},o=e.placement.split("-")[0],a=g(e.offsets.popper),r=e.offsets.reference,s=-1!==["left","right"].indexOf(o),l=s?"height":"width",c=s?"top":"left",u=s?"left":"top",d=s?"bottom":"right",h=m(t)[l];r[d]-h<a[c]&&(e.offsets.popper[c]-=a[c]-(r[d]-h)),r[c]+h>a[d]&&(e.offsets.popper[c]+=r[c]+h-a[d]);var p=r[c]+(i||r[l]/2-h/2)-a[c];return p=Math.max(Math.min(a[l]-h-8,p),8),n[c]=p,n[u]="",e.offsets.arrow=n,e.arrowElement=t,e},Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(null==e)throw new TypeError("Cannot convert first argument to object");for(var t=Object(e),i=1;i<arguments.length;i++){var n=arguments[i];if(null!=n){n=Object(n);for(var o=Object.keys(n),a=0,r=o.length;a<r;a++){var s=o[a],l=Object.getOwnPropertyDescriptor(n,s);void 0!==l&&l.enumerable&&(t[s]=n[s])}}}return t}}),e}),Vue.component("popup-component",{name:"Popup",template:'<div class="jz_popup"><div class="jz_popup_container"><slot></slot></div><div class="jz_popup_mask" @click="maskClick"></div></div>',methods:{maskClick:function(e){this.$emit("mask-click",e)}}}),function(){var t="jz-radio-group";Vue.component("radio-group-component",{name:"RadioGroup",template:'<div :class="classesWrapper"><slot></slot></div>',props:{value:{type:[String,Number,Boolean]},classes:String},data:function(){return{currentValue:this.value,childrens:[],cache:this.value}},computed:{classesWrapper:function(){var e={};return e[t]=t,e[this.classes]=!!this.classes,e}},mounted:function(){this.updateValue()},methods:{updateValue:function(){var t=this.value;this.childrens=vue_utils.findComponentsDownward(this,"Radio"),this.childrens&&this.childrens.forEach(function(e){e.currentValue=t==e.label,e.group=!0})},change:function(e){this.currentValue=e.value,this.updateValue(),this.$emit("input",e.value),this.$emit("on-change",e.value),this.$emit("on-undo",e.value,this.cache),this.cache=this.currentValue}},watch:{value:function(e,t){this.cache=e,this.updateValue()}}})}(),function(){var t="jz-radio";Vue.component("radio-component",{name:"Radio",template:'<label :disabled="disabled" :class="wrapClasses" ><span :class="radioClasses"><span :class="innerClasses"></span><input type="radio" :class="inputClasses" :checked="currentValue" @change="change"></span><span :class="textClasses"><slot>{{ label }}</slot></span></label>',props:{value:Boolean,label:{type:[String,Number,Boolean]},disabled:Boolean},data:function(){return{currentValue:this.value,group:!1,parent:vue_utils.findComponentUpward(this,"RadioGroup")}},computed:{wrapClasses:function(){var e={"jz-radio-wrapper":!0};return e[t+"-group-item"]=!!this.group,e[t+"-wrapper-checked"]=!!this.currentValue,e},radioClasses:function(){var e={"jz-radio":!0};return e[t+"-checked"]=!!this.currentValue,e},innerClasses:function(){return t+"-inner"},inputClasses:function(){return t+"-input"},textClasses:function(){var e={"jz-radio-text":!0};return e}},mounted:function(){this.parent&&(this.group=!0),this.group?this.parent.updateValue():this.updateValue()},methods:{change:function(e){if(this.disabled)return!1;var t=e.target.checked;this.currentValue=t,this.$emit("input",t),this.group&&void 0!==this.label&&this.parent.change({value:this.label,checked:this.value}),this.group||this.$emit("on-change",t)},updateValue:function(){this.currentValue=this.value}},watch:{value:function(){this.updateValue()}}})}(),function(e,t){"undefined"!=typeof window&&(e.ResizeDetector=function(){"use strict";var t=null;var i=null;function c(e){var t=document.createElement("style");return t.type="text/css",t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e)),(document.querySelector("head")||document.body).appendChild(t),t}function r(e,t){t=t||{};var i=document.createElement(e);return Object.keys(t).forEach(function(e){i[e]=t[e]}),i}function s(e,t,i){var n=window.getComputedStyle(e,i||null)||{display:"none"};return n[t]}function u(e){if(!document.documentElement.contains(e))return{detached:!0,rendered:!1};for(var t=e;t!==document;){if("none"===s(t,"display"))return{detached:!1,rendered:!1};t=t.parentNode}return{detached:!1,rendered:!0}}var d=0,h=null;function p(){var e=u(this),t=e.rendered,i=e.detached;t!==this.__resize_rendered__&&(!i&&this.__resize_triggers__&&(g(this),this.addEventListener("scroll",l,!0)),this.__resize_rendered__=t,f(this))}function l(){var s=this;g(this),this.__resize_raf__&&function(e){i||(i=(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||function(e){clearTimeout(e)}).bind(window));i(e)}(this.__resize_raf__),this.__resize_raf__=function(e){t||(t=(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){return setTimeout(e,16)}).bind(window));return t(e)}(function(){var e,t,i,n,o,a,r=(t=(e=s).__resize_last__,i=t.width,n=t.height,o=e.offsetWidth,a=e.offsetHeight,o===i&&a===n?null:{width:o,height:a});r&&(s.__resize_last__=r,f(s))})}function f(t){t.__resize_listeners__.forEach(function(e){e.call(t)})}function m(e){var t=s(e,"position");t&&"static"!==t||(e.style.position="relative"),e.__resize_old_position__=t,e.__resize_last__={};var i=r("div",{className:"resize-triggers"}),n=r("div",{className:"resize-expand-trigger"}),o=r("div"),a=r("div",{className:"resize-contract-trigger"});n.appendChild(o),i.appendChild(n),i.appendChild(a),e.appendChild(i),e.__resize_triggers__={triggers:i,expand:n,expandChild:o,contract:a},g(e),e.addEventListener("scroll",l,!0),e.__resize_last__={width:e.offsetWidth,height:e.offsetHeight}}function g(e){var t=e.__resize_triggers__,i=t.expand,n=t.expandChild,o=t.contract,a=o.scrollWidth,r=o.scrollHeight,s=i.offsetWidth,l=i.offsetHeight,c=i.scrollWidth,u=i.scrollHeight;o.scrollLeft=a,o.scrollTop=r,n.style.width=s+1+"px",n.style.height=l+1+"px",i.scrollLeft=c,i.scrollTop=u}return{addListener:function(e,t){e.__resize_mutation_handler__||(e.__resize_mutation_handler__=p.bind(e));if(!e.__resize_listeners__)if(e.__resize_listeners__=[],window.ResizeObserver){var i=e.offsetWidth,n=e.offsetHeight,o=new ResizeObserver(function(){(e.__resize_observer_triggered__||(e.__resize_observer_triggered__=!0,e.offsetWidth!==i||e.offsetHeight!==n))&&f(e)}),a=u(e),r=a.detached,s=a.rendered;e.__resize_observer_triggered__=!1===r&&!1===s,(e.__resize_observer__=o).observe(e)}else if(e.attachEvent&&e.addEventListener)e.__resize_legacy_resize_handler__=function(){f(e)},e.attachEvent("onresize",e.__resize_legacy_resize_handler__),document.addEventListener("DOMSubtreeModified",e.__resize_mutation_handler__);else if(d||(h=c('.resize-triggers{visibility:hidden;opacity:0;}.resize-triggers, .resize-expand-trigger, .resize-contract-trigger, .resize-contract-trigger:before{content:"";position:absolute;top:0;left:0;height:100%;width:100%;overflow:hidden;}.resize-expand-trigger, .resize-contract-trigger{background:#eee;overflow:auto;}.resize-contract-trigger:before{width:200%;height:200%;}')),m(e),e.__resize_rendered__=u(e).rendered,window.MutationObserver){var l=new MutationObserver(e.__resize_mutation_handler__);l.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0}),e.__resize_mutation_observer__=l}e.__resize_listeners__.push(t),d++},removeListener:function(e,t){if(e.detachEvent&&e.removeEventListener)return e.detachEvent("onresize",e.__resize_legacy_resize_handler__),void document.removeEventListener("DOMSubtreeModified",e.__resize_mutation_handler__);var i=e.__resize_listeners__;if(!i)return;i.splice(i.indexOf(t),1),i.length||(e.__resize_observer__?(e.__resize_observer__.unobserve(e),e.__resize_observer__.disconnect(),e.__resize_observer__=null):(e.__resize_mutation_observer__&&(e.__resize_mutation_observer__.disconnect(),e.__resize_mutation_observer__=null),e.removeEventListener("scroll",l),e.removeChild(e.__resize_triggers__.triggers),e.__resize_triggers__=null),e.__resize_listeners__=null);!--d&&h&&h.parentNode.removeChild(h)}}}())}(this),function(t,e){void 0!==t.Vue&&t.Vue.component("scrollbar-component",function(e){return e((a=t,{name:"Scrollbar",props:{theme:{type:String,default:"default"},maxHeight:Number,minHeight:Number,horizontal:Boolean,visible:{type:Boolean,default:!0}},data:function(){return{thumbTop:0,thumbHeight:0,thumbLeft:0,thumbWidth:0,isVerticalThumbActive:!1,isHorizontalThumbActive:!1,isVerticalTrackHidden:!1,isHorizontalTrackHidden:!1,isScrollbarHover:!1,scrollbarWidth:0}},template:'<div class="jz_scrollbar" @mouseenter="mouseenterScrollBarHandler" @mouseleave="mouseleaveScrollBarHandler" :style="scrollbarStyle" :class="scrollbarClass"><div class="jz_scrollbar__wrap" :class="wrapClass" :style="wrapStyle" @scroll="scrollWrapHandler" ref="wrap" v-resize="update"><div class="jz_scrollbar__resize" :class="resizeClass" v-resize="update"><div class="jz_scrollbar__view" :class="viewClass"><slot></slot></div></div></div><div :data-theme="theme" :class="themeClass"><div class="jz_scrollbar__track jz_scrollbar__track--vertical" :class="verticalTrackClass" ref="track"><div class="jz_scrollbar__thumb jz_scrollbar__thumb--vertical" :class="verticalThumbClass" :style="thumbStyle" @mousedown.stop="mousedownThumbHandler"></div></div><div v-if="horizontal" class="jz_scrollbar__track jz_scrollbar__track--horizontal" :class="horizontalTrackClass" ref="horizontalTrack"><div class="jz_scrollbar__thumb jz_scrollbar__thumb--horizontal" :class="horizontalThumbClass" :style="horizontalThumbStyle" @mousedown.stop="mousedownHorizontalThumbHandler"></div></div></div></div>',computed:{scrollbarStyle:function(){return{"max-height":this.maxHeight+"px"||null}},wrapStyle:function(){return{"margin-right":"-"+this.scrollbarWidth+"px","margin-bottom":"-"+this.scrollbarWidth+"px",height:"calc(100% + "+this.scrollbarWidth+"px)","max-height":this.maxHeight?this.maxHeight+this.scrollbarWidth+"px":null}},themeClass:function(){return{"jz_scrollbar__theme--tabs":"tabs"==this.theme,"jz_scrollbar__theme--popup":"popup"==this.theme,"jz_scrollbar__theme--select":"select"==this.theme,"jz_scrollbar__theme--table":"table"==this.theme,"jz_scrollbar__theme--menu":"menu"==this.theme}},scrollbarClass:function(){return{"jz_scrollbar--theme_table":"table"==this.theme}},wrapClass:function(){return{"jz_scrollbar__wrap--theme_table":"table"==this.theme,"jz_scrollbar__wrap--horizontal":this.horizontal}},resizeClass:function(){return{"jz_scrollbar__resize--horizontal":this.horizontal,"jz_scrollbar__resize--theme_table":"table"==this.theme}},viewClass:function(){return{"jz_scrollbar__view--horizontal":this.horizontal,"jz_scrollbar__view--theme_table":"table"==this.theme}},verticalTrackClass:function(){return{"jz_scrollbar__track--active":this.isScrollbarHover||this.isVerticalThumbActive,"jz_scrollbar__track--hidden":this.isVerticalTrackHidden||!this.visible}},horizontalTrackClass:function(){return{"jz_scrollbar__track--active":this.isScrollbarHover||this.isHorizontalThumbActive,"jz_scrollbar__track--hidden":this.isHorizontalTrackHidden||!this.visible}},verticalThumbClass:function(){return{"jz_scrollbar__thumb--active":this.isVerticalThumbActive}},horizontalThumbClass:function(){return{"jz_scrollbar__thumb--active":this.isHorizontalThumbActive}},thumbStyle:function(){return{top:this.proxyThumbTop+"px",height:this.proxyThumbHeight+"px"}},horizontalThumbStyle:function(){return{left:this.proxyThumbLeft+"px",width:this.proxyThumbWidth+"px"}},proxyThumbTop:{get:function(){return this.thumbTop},set:function(e){var t=Math.round(e),i=this.$refs.track.clientHeight-this.proxyThumbHeight;this.thumbTop=t<0?0:i<t?i:t}},proxyThumbLeft:{get:function(){return this.thumbLeft},set:function(e){var t=Math.round(e),i=this.$refs.horizontalTrack.clientWidth-this.proxyThumbWidth;this.thumbLeft=t<0?0:i<t?i:t}},proxyThumbHeight:{get:function(){return this.thumbHeight},set:function(e){var t=Math.round(e);this.thumbHeight=t<30?30:t}},proxyThumbWidth:{get:function(){return this.thumbWidth},set:function(e){var t=Math.round(e);this.thumbWidth=t<30?30:t}}},watch:{thumbTop:function(e){0!==e&&e+this.thumbHeight==this.$refs.track.clientHeight&&this.$emit("scroll-end");var t=this.$refs.track.clientHeight-this.thumbHeight;this.$emit("scroll-percent",0<t?e/t:0)}},methods:{update:function(){var e=this.$refs,t=e.wrap,i=e.track;if(t){this.scrollbarWidth=a.vue_utils.scrollbarWidth(t.ownerDocument.body),this.isVerticalTrackHidden=0===t.clientHeight||t.clientHeight>=t.scrollHeight,this.proxyThumbHeight=0<t.scrollHeight?t.clientHeight/t.scrollHeight*i.clientHeight:0;var n=(t.scrollHeight-t.clientHeight)/(i.clientHeight-this.proxyThumbHeight);if(this.ratio=0<n?n:1,this.proxyThumbTop=t.scrollTop/this.ratio,this.horizontal){var o=e.horizontalTrack;this.isHorizontalTrackHidden=0===t.clientWidth||t.clientWidth>=t.scrollWidth,this.proxyThumbWidth=t.clientWidth/t.scrollWidth*o.clientWidth,this.horizontalRatio=(t.scrollWidth-t.clientWidth)/(o.clientWidth-this.proxyThumbWidth),this.proxyThumbLeft=t.scrollLeft/this.horizontalRatio}}},mousedownThumbHandler:function(e){this.prevClientY=e.clientY,a.vue_utils.on(document,"mousemove",this.mousemoveDocumentHandler),a.vue_utils.on(document,"mouseup",this.mouseupDocumentHandler),this.isVerticalThumbActive=!0},mousemoveDocumentHandler:function(e){this.proxyThumbTop+=e.clientY-this.prevClientY,this.prevClientY=e.clientY,this.$refs.wrap.scrollTop=this.proxyThumbTop*this.ratio},mouseupDocumentHandler:function(){a.vue_utils.off(document,"mousemove",this.mousemoveDocumentHandler),a.vue_utils.off(document,"mouseup",this.mouseupDocumentHandler),this.isVerticalThumbActive=!1},mousedownHorizontalThumbHandler:function(e){this.prevClientX=e.clientX,a.vue_utils.on(document,"mousemove",this.mousemoveDocumentHandlerHorizontal),a.vue_utils.on(document,"mouseup",this.mouseupDocumentHandlerHorizontal),this.isHorizontalThumbActive=!0},mousemoveDocumentHandlerHorizontal:function(e){this.proxyThumbLeft+=e.clientX-this.prevClientX,this.prevClientX=e.clientX,this.$refs.wrap.scrollLeft=this.proxyThumbLeft*this.horizontalRatio},mouseupDocumentHandlerHorizontal:function(){a.vue_utils.off(document,"mousemove",this.mousemoveDocumentHandlerHorizontal),a.vue_utils.off(document,"mouseup",this.mouseupDocumentHandlerHorizontal),this.isHorizontalThumbActive=!1},scrollWrapHandler:function(e){this.proxyThumbTop=this.$refs.wrap.scrollTop/this.ratio,this.horizontal&&(this.proxyThumbLeft=this.$refs.wrap.scrollLeft/this.horizontalRatio),this.$emit("scroll",e)},mouseenterScrollBarHandler:function(){this.isScrollbarHover=!0},mouseleaveScrollBarHandler:function(){this.isScrollbarHover=!1},scrollTo:function(e){this.$refs.wrap.scrollTop=e},scrollToEnd:function(){var e=this.$refs.wrap;this.scrollTo(e.scrollHeight-e.clientHeight)},scrollToDOM:function(e){this.scrollTo(e.offsetTop)}},mounted:function(){this.$nextTick(this.update),this.$on("update",this.update),this.$on("scrollToEnd",this.scrollToEnd),this.$on("scrollToDOM",this.scrollToDOM),this.$on("scrollTo",this.scrollTo)}}));var a})}(this),Vue.component("select-column-component",{template:'<select-component :value="value" @input="inputHandler" placement="bottom" class="jz-select-column"><select-item-component v-for="(column, index) in data" :value="column[valueAlias]" :key="index"><div class="select-column" :class="\'select-column-level\' + column[levelAlias]"><i v-if="column[levelAlias] > 0" class="select-column-icon"></i><span class="select-column-text">{{column[labelAlias]}}</span></div></select-item-component></select-component>',props:{value:[String,Number],data:{type:Array,default:function(){return[]}},levelAlias:{type:String,default:"level"},valueAlias:{type:String,default:"id"},labelAlias:{type:String,default:"name"}},methods:{inputHandler:function(e){this.$emit("input",e)}}}),Vue.component("select-dropdown-component",{name:"SelectDropdown",template:'<div class="jz-select-dropdown" :class="className" :style="styles"><slot></slot></div>',props:{placement:String,className:String,secondselect:Boolean,isfixed:Boolean,offset:{type:Number,default:0},boundariesPadding:{type:Number,default:0},boundariesElement:{type:String,default:"body"}},data:function(){return{popper:null,width:""}},computed:{styles:function(){var e={};return this.width&&(e.width=this.width+"px"),e}},created:function(){this.$on("on-update-popper",this.update),this.$on("on-destroy-popper",this.destroy)},beforeDestroy:function(){this.popper&&this.popper.destroy()},methods:{update:function(){var t=this,e={};this.popper?this.$nextTick(function(){t.popper.update()}):this.$nextTick(function(){(e=t.secondselect||t.isfixed?{gpuAcceleration:!1,placement:t.placement,boundariesPadding:t.boundariesPadding,forceFixed:!0,boundariesElement:t.boundariesElement,offset:-1<t.placement.indexOf("right")?-8:t.offset}:{gpuAcceleration:!1,placement:t.placement,boundariesPadding:t.boundariesPadding,forceAbsolute:!0,boundariesElement:t.boundariesElement,offset:-1<t.placement.indexOf("right")?-8:t.offset}).win=t.$el.ownerDocument.defaultView,void 0!==t.$parent.$refs.reference&&(t.popper=new Popper(t.$parent.$refs.reference,t.$el,e),t.popper.onCreate(function(e){t.resetTransformOrigin(e)}))}),"Select"!==this.$parent.$options.name&&"Dropdown"!==this.$parent.$options.name||(this.width=parseInt(vue_utils.getStyle(this.$parent.$el,"width")))},destroy:function(){var e=this;this.popper&&(this.resetTransformOrigin(this.popper),setTimeout(function(){e.popper.destroy(),e.popper=null},300))},resetTransformOrigin:function(e){var t={top:"bottom",bottom:"top",right:"right",left:"left"}[e._popper.getAttribute("x-placement").split("-")[0]];e._popper.style.transformOrigin="center "+t}}}),function(){var t="jz-select";Vue.component("select-filter-component",{name:"Select",template:'<div :class="classes" v-clickoutside="handleClose"><div :class="selectionCls" ref="reference" @click="toggleMenu"><slot name="input"><span :class="placeholderCls" v-show="showPlaceholder">{{ localePlaceholder }}</span><span :class="selectedCls" v-show="!showPlaceholder">{{ selectedSingle }}</span><i :class="iconCls"></i></slot></div><select-dropdown-component :class="isTagNotFoundCls" :isfixed="isfixed" v-show="dropVisible" :placement="placement" ref="drop"><input-component class="jz_select_filterable_input" icon="jz-input-icon" v-if="filterable && !filterableFromTag" v-model="query" :disabled="disabled" :placeholder="showPlaceholder ? localePlaceholder : \'\'" @on-blur="handleBlur" @keydown.native="resetInputState" @on-click-clear="query = \'\'" ref="inputComponent"></input-component><scrollbar-component theme="select" ref="scrollbar"><ul v-show="notFoundShow && !isTag" :class="notFoundCls" ><li>{{ localeNotFoundText }}</li></ul><ul v-show="!notFound" :style="dropdownListStyle" class="jz-select-dropdown-list"><slot></slot></ul></scrollbar-component></select-dropdown-component></div>',props:{value:[String,Number],label:[String,Number],disabled:Boolean,placeholder:String,notfoundtext:String,maxdropheight:String,labelinvalue:Boolean,placement:{validator:function(e){return vue_utils.oneOf(e,["top","bottom"])},default:"bottom"},isfixed:Boolean,isTag:{type:Boolean,default:!1}},data:function(){return{prefixCls:t,visible:!1,options:[],optionInstances:[],selectedSingle:"",selectedMultiple:[],focusIndex:0,query:"",lastQuery:"",selectToChangeQuery:!1,inputLength:20,notFound:!1,model:this.value,currentLabel:this.label,animated:!1,cacheValue:null}},computed:{filterable:function(){return!0},filterableFromTag:function(){return!1},classes:function(){var e={"jz-select":!0,"jz-select-single":!0};return e[t+"-visible"]=!!this.visible,e[t+"-disabled"]=!!this.disabled,e},notFoundCls:function(){var e={"jz-select-not-found":!0};return e},isTagNotFoundCls:function(){var e={};return e["isTag-not-found"]=!!this.isTag&&this.notFoundShow,e},selectionCls:function(){var e={};return e[t+"-selection"]=!this.isTag,e},placeholderCls:function(){var e={"jz-select-placeholder":!0};return e},selectedCls:function(){var e={"jz-select-selected-value":!0};return e},inputCls:function(){var e={"jz-select-input":!0};return e},iconCls:function(){var e={"jz-select-arrow":!0};return e[t+"-trigger-arrow"]=!!this.visible,e},showPlaceholder:function(){var e=!1;return"string"==typeof this.model?""===this.model&&(e=!0):null===this.model&&(e=!0),e},localeNotFoundText:function(){return void 0===this.notfoundtext?"无匹配数据":this.notfoundtext},localePlaceholder:function(){return void 0===this.placeholder?"请选择":this.placeholder},dropVisible:function(){var e=!0,t=this.$slots.default||[];return""!==this.query||t.length||(e=!1),this.isTag&&!t.length&&(e=!1),this.visible&&e&&this.animated},notFoundShow:function(){var e=this.$slots.default||[];return this.notFound||!e.length},dropdownListStyle:function(){var e={};return e.maxHeight=(this.maxdropheight||"154")+"px",e}},watch:{value:function(e){""===(this.model=e)&&(this.query="")},label:function(e){this.currentLabel=e},model:function(){var e=this;this.$emit("input",this.model),this.modelToQuery(),this.updateSingleSelected(),!this.visible&&this.filterable&&this.$nextTick(function(){e.broadcastQuery("")})},visible:function(e){var t=this;this.visible?(vue_utils.slideDown(this.$refs.drop.$el,300,function(){t.$refs.scrollbar.$emit("update"),vue_utils.dispatch(t,"Scrollbar","update")}),this.animated=!1):(vue_utils.slideUp(this.$refs.drop.$el,300,function(){vue_utils.dispatch(t,"Scrollbar","update")}),this.animated=!0),e?(this.filterable,vue_utils.broadcast(this,"SelectDropdown","on-update-popper")):(this.filterable&&(this.isTag||(this.$refs.inputComponent.$refs.input.blur(),this.query=""),setTimeout(function(){t.broadcastQuery("")},300)),vue_utils.broadcast(this,"SelectDropdown","on-destroy-popper"))},query:function(e){var t=this;this.selectToChangeQuery||this.$emit("on-query-change",e),this.broadcastQuery(e);var i=!0;this.$nextTick(function(){t.findChild(function(e){e.hidden||"DropdownMenu"===e.$parent.$options.name||(i=!1)}),t.notFound=i}),this.selectToChangeQuery=!1,vue_utils.broadcast(this,"SelectDropdown","on-update-popper")}},methods:{toggleMenu:function(){if(this.disabled||this.isTag)return!1;this.visible=!this.visible,this.visible&&(this.cacheValue=this.model)},hideMenu:function(){this.visible=!1,this.focusIndex=0,vue_utils.broadcast(this,"SelectItem","on-select-close")},handleClose:function(){this.hideMenu()},findChild:function(i){var t=function t(e){e.$options.componentName?i(e):e.$children.length&&e.$children.forEach(function(e){t(e)})};this.optionInstances.length?this.optionInstances.forEach(function(e){t(e)}):this.$children.forEach(function(e){t(e)})},modelToQuery:function(){if(this.isTag){var t=this;this.filterable&&void 0!==this.model&&this.findChild(function(e){t.model===e.value&&(e.label?t.query=e.label:e.searchLabel?t.query=e.searchLabel:t.query=e.value)})}},broadcastQuery:function(e){vue_utils.broadcast(this,"SelectItem","on-query-change",e)},updateOptions:function(t,e){e=e||!1;var i=[],n=1,o=this;this.findChild(function(e){i.push({value:e.value,label:void 0===e.label?e.$el.textContent:e.label}),e.index=n++,t&&o.optionInstances.push(e)}),this.options=i,t&&this.updateSingleSelected(!0,e)},updateSingleSelected:function(e,t){e=e||!1,t=t||!1;var i=_typeof(this.model);if("string"===i||"number"===i){for(var n=!1,o=0;o<this.options.length;o++)if(this.model===this.options[o].value){this.selectedSingle=this.options[o].label,n=!0;break}t&&!n&&(this.model="",this.query="")}this.toggleSingleSelected(this.model,e)},toggleSingleSelected:function(t,e){var i="";e=e||!1;this.findChild(function(e){e.value===t?(e.selected=!0,i=void 0===e.label?e.$el.innerHTML:e.label):e.selected=!1}),this.hideMenu(),e||(this.labelinvalue?this.$emit("on-change",{value:t,label:i}):(this.$emit("on-change",t),null!==this.cacheValue&&(this.$emit("on-undo",t,this.cacheValue),this.cacheValue=null)))},slotChange:function(){this.options=[],this.optionInstances=[]},handleBlur:function(){if(this.isTag){var i=this;setTimeout(function(){if(!i.isTag){var t=i.model;""!==t?i.findChild(function(e){e.value===t&&(i.query=void 0===e.label?e.searchLabel:e.label)}):i.query=""}},300)}},resetInputState:function(){this.inputLength=12*this.$refs.inputComponent.$refs.input.value.length+20}},mounted:function(){var i=this;this.modelToQuery(),this.$nextTick(function(){i.broadcastQuery("")}),this.updateOptions(!0),this.$on("append",function(){i.modelToQuery(),i.$nextTick(function(){i.broadcastQuery("")}),i.slotChange(),i.updateOptions(!0,!0)}),this.$on("remove",function(){i.modelToQuery(),i.$nextTick(function(){i.broadcastQuery("")}),i.slotChange(),i.updateOptions(!0,!0)}),this.$on("on-select-selected",function(t){i.model===t?(this.isTag&&this.$emit("on-change",t),i.hideMenu()):(i.model=t,i.filterable&&i.findChild(function(e){e.value===t&&(""!==i.query&&(i.selectToChangeQuery=!0),i.lastQuery=i.query=void 0===e.label?e.searchLabel:e.label)}))})}})}(),Vue.component("select-graphic-component",{name:"selectGraphic",template:'<select-component ref="selectGraphic" :isfixed="isfixed" @on-change="change" maxdropheight="160" :class="classes" style="width: 160px;" v-model="currentValue" placement="bottom"><select-item-component v-show="!item.hidden" class="clearFix" v-for="item in list" :value="item.value" :key="item.value"><i class="img" :class="item.type"></i><span class="text">{{ item.label }}</span></select-item-component></select-component>',props:{value:[String,Number],list:{type:Array,required:!0},size:{validator:function(e){return vue_utils.oneOf(e,["small","large"])},required:!0},isfixed:Boolean},data:function(){return{currentValue:this.value,cacheValue:this.value}},computed:{classes:function(){var e={};return e["jz-select-graphic-"+this.size]=!!this.size,e}},methods:{change:function(e){this.currentValue=e,this.$emit("input",e),this.$emit("on-change",e)}},watch:{value:function(e,t){this.currentValue=e}}}),function(i,n){var e="jz-select";i.component("select-input-component",{name:"Select",template:'<div class="jz-select jz-select-single" :class="selectCls" v-clickoutside="clickOutSideHandler"><div class="jz-select-selection" @click="clickSelectionHandler" ref="reference"><span class="jz-select-placeholder" v-show="showPlaceholder && !inputEnable">{{localePlaceholder}}</span><span class="jz-select-selected-value" v-show="!showPlaceholder && !inputEnable">{{selectedValue}}{{unit}}</span><input type="text" v-show="inputEnable" :value="model" @input="inputHandler" @keydown="keydownInputHandler" :disabled="disabled" ref="input" class="jz-select-input" style="text-align:center;"><i class="jz-select-arrow" :class="iconCls"></i></div><select-dropdown-component :isfixed="isfixed" v-if="dropEnable" v-show="dropVisible" :placement="placement" ref="selectDropdown"><scrollbar-component theme="select" :max-height="maxScrollbarHeight"><ul v-show="notFound" class="jz-select-not-found"><li>{{localeNotFoundText}}</li></ul><ul v-show="!notFound" class="jz-select-dropdown-list"><li v-for="item in data" class="jz-select-item" :class="model === item ? \'jz-select-item-selected\' : \'\'" @click.stop="selectHandler(item)" :key="item">{{item}}{{unit}}</li></ul></scrollbar-component></select-dropdown-component></div>',props:{value:Number,disabled:Boolean,placeholder:String,maxdropheight:{type:String,default:"157px"},notfoundtext:String,placement:{validator:function(e){return n.oneOf(e,["top","bottom"])},default:"bottom"},data:{type:Array,default:function(){return[]}},isfixed:{type:Boolean,default:!0},unit:{type:String,default:""},max:{type:Number,default:1/0},min:{type:Number,default:0}},data:function(){return{visible:!1,dropEnable:!1,slideUping:!1,model:this.value}},computed:{maxScrollbarHeight:function(){return parseInt(this.maxdropheight)},selectCls:function(){return[this.disabled?e+"-disabled":""]},iconCls:function(){return[this.visible&&!this.disabled?e+"-trigger-arrow":""]},localeNotFoundText:function(){return this.notfoundtext||"无匹配数据"},notFound:function(){return this.data.length<1},localePlaceholder:function(){return this.placeholder||"请选择"},showPlaceholder:function(){return""===this.selectedValue},dropVisible:function(){return!this.disabled&&this.dropEnable&&(this.visible||this.slideUping)},inputEnable:function(){return!this.disabled&&this.visible},selectedValue:function(){return parseInt(this.value)||""}},watch:{value:function(e){this.model=e},visible:function(e){var t=this;this.disabled||(e?this.$nextTick(function(){n.slideDown(this.$refs.selectDropdown.$el,300,function(){}),this.$refs.selectDropdown.$emit("on-update-popper")}):(this.slideUping=!0,n.slideUp(this.$refs.selectDropdown.$el,300,function(){t.slideUping=!1}),this.$refs.selectDropdown.$emit("on-destroy-popper")))},inputEnable:function(e){if(e){this.model=this.value,this.$emit("on-enable-input");var t=this.$refs.input;i.nextTick(function(){t.select()})}else this.$emit("on-disable-input")}},methods:{clickOutSideHandler:function(){this.visible=!1,this.enterValue()},clickSelectionHandler:function(){this.dropEnable||(this.dropEnable=!0),this.visible=!this.visible,this.enterValue()},selectHandler:function(e){this.$emit("input",e),this.visible=!1},keydownInputHandler:function(e){if(13==e.keyCode)return e.preventDefault(),e.stopPropagation(),this.visible=!1,void this.enterValue();(function(e){if(48<=e&&e<=57)return!0;if(96<=e&&e<=105)return!0;return 8==e||46==e||37==e||39==e})(e.keyCode)||e.preventDefault()},inputHandler:function(e){var t=e.target,i=t.value;""!==i?isNaN(i)?t.value=this.model:(i>this.max&&(t.value=i=this.max),this.model=i):this.model=""},enterValue:function(){var e=parseInt(this.$refs.input.value);e===this.value||isNaN(e)||""===e||(e<this.min&&(e=this.min),this.$emit("input",e))}},mounted:function(){this.$refs.input.addEventListener("mousewheel",function(e){if(e.preventDefault(),0<e.deltaY){if(this.model>=this.max)return!1;this.model<this.min&&(this.model=this.min),this.model+=1}else{if(this.model<=this.min)return!1;this.model>this.max&&(this.model=this.max),this.model-=1}return!1}.bind(this))}})}(window.Vue,window.vue_utils),function(){var t="jz-select-item";Vue.component("select-item-component",{name:"SelectItem",componentName:"select-item",template:'<li :class="classes" @mousedown.prevent @click.stop="select" @mouseout.stop="blur" v-show="!hidden"><slot>{{ showLabel }}</slot><i class="second-select-icon" v-if="showicon"></i></li>',props:{secondselect:Boolean,showicon:Boolean,value:[String,Number],label:[String,Number],disabled:Boolean,isTag:Boolean},data:function(){return{selected:!1,index:0,isFocus:!1,hidden:!1,searchLabel:""}},computed:{classes:function(){var e={"jz-select-item":!0};return e[t+"-disabled"]=!!this.disabled,e[t+"-selected"]=!!this.selected,e[t+"-focus"]=!!this.isFocus,e},showLabel:function(){return this.label?this.label:this.value}},methods:{select:function(){if(this.disabled||this.secondselect)return!1;vue_utils.dispatch(this,"Select","on-select-selected",this.value)},blur:function(){this.isFocus=!1},queryChange:function(e){var t=e.replace(/(\^|\(|\)|\[|\]|\$|\*|\+|\.|\?|\\|\{|\}|\|)/g,"\\$1");"DropdownMenu"!==this.$parent.$options.name?(this.hidden=!new RegExp(t,"i").test(this.searchLabel),this.hidden&&vue_utils.dispatch(this,"Select","on-item-hidden")):this.hidden=!1},onSelectClose:function(){this.isFocus=!1},onQueryChange:function(e){this.queryChange(e)}},created:function(){this.$on("on-select-close",this.onSelectClose),this.$on("on-query-change",this.onQueryChange)},mounted:function(){vue_utils.dispatch(this,"Select","append",this),this.searchLabel=this.$el.textContent},beforeDestroy:function(){this.isTag||vue_utils.dispatch(this,"Select","remove",this)}})}(),function(e,i){var t="jz-select";e.component("select-search-component",{name:"Select",template:'<div class="jz-select jz-select-single" :class="selectCls" v-clickoutside="clickOutSideHandler"><div class="jz-select-selection" @click="clickSelectionHandler" ref="reference"><span class="jz-select-placeholder" v-show="showPlaceholder">{{localePlaceholder}}</span><span class="jz-select-selected-value" v-show="!showPlaceholder">{{selectedSingle}}</span><i class="jz-select-arrow" :class="iconCls"></i></div><select-dropdown-component :isfixed="isfixed" v-if="dropEnable" v-show="dropVisible" :placement="placement" ref="selectDropdown"><input-component class="jz_select_filterable_input" icon="jz-input-icon" v-model="query" @on-click-clear="clickClearHandler" ref="input"></input-component><scrollbar-component theme="select" :max-height="maxScrollbarHeight"><ul v-show="notFound" class="jz-select-not-found"><li>{{localeNotFoundText}}</li></ul><ul v-show="!notFound" class="jz-select-dropdown-list"><li v-for="item in filterData" class="jz-select-item" :class="value === item[valueAlias] ? \'jz-select-item-selected\' : \'\'" @click.stop="selectHandler(item[valueAlias])" :key="item[valueAlias]">{{(item[preLabelAlias] || \'\') + item[labelAlias]}}</li></ul></scrollbar-component></select-dropdown-component></div>',props:{value:[String,Number],disabled:Boolean,placeholder:String,maxdropheight:{type:String,default:"157px"},notfoundtext:String,placement:{validator:function(e){return i.oneOf(e,["top","bottom"])},default:"bottom"},data:{type:Array,default:function(){return[]}},valueAlias:{type:String,default:"value"},labelAlias:{type:String,default:"label"},preLabelAlias:{type:String,default:"preLabel"},isfixed:{type:Boolean,default:!0}},data:function(){return{query:"",visible:!1,dropEnable:!1,slideUping:!1}},computed:{maxScrollbarHeight:function(){return parseInt(this.maxdropheight)},filterData:function(){var t=this.query,i=this.labelAlias,e=this.data;return""===t?e:e.filter(function(e){return-1<(e[i]+"").indexOf(t)})},selectCls:function(){return[this.disabled?t+"-disabled":""]},iconCls:function(){return[this.visible&&!this.disabled?t+"-trigger-arrow":""]},localeNotFoundText:function(){return this.notfoundtext||"无匹配数据"},notFound:function(){return this.filterData.length<1},localePlaceholder:function(){return this.placeholder||"请选择"},showPlaceholder:function(){return""===this.selectedSingle},dropVisible:function(){return!this.disabled&&this.dropEnable&&(this.visible||this.slideUping)},selectedSingle:function(){var e,t,i=this.data,n=this.value,o=this.valueAlias;for(t=0;t<i.length;t++)if((e=i[t])[o]===n)return e[this.labelAlias];return""}},watch:{visible:function(e){var t=this;this.disabled||(e?this.$nextTick(function(){i.slideDown(this.$refs.selectDropdown.$el,300,function(){}),this.$refs.selectDropdown.$emit("on-update-popper")}):(this.slideUping=!0,i.slideUp(this.$refs.selectDropdown.$el,300,function(){t.slideUping=!1}),this.$refs.selectDropdown.$emit("on-destroy-popper"),this.query=""))}},methods:{clickOutSideHandler:function(){this.visible=!1},clickSelectionHandler:function(){this.dropEnable||(this.dropEnable=!0),this.visible=!this.visible},clickClearHandler:function(){this.query=""},selectHandler:function(e){this.$emit("input",e),this.visible=!1}}})}(window.Vue,window.vue_utils),function(){var t="jz-select";Vue.component("select-component",{name:"Select",template:'<div :class="classes" v-clickoutside="handleClose"><div :class="selectionCls" ref="reference" @click="toggleMenu"><slot name="input"><span :class="placeholderCls" v-show="showPlaceholder && !filterable">{{ localePlaceholder }}</span><span :class="selectedCls" v-show="!showPlaceholder && !filterable">{{ selectedSingle }}</span><input type="text" v-if="filterable" v-model="query" :disabled="disabled" :class="inputCls" :placeholder="showPlaceholder ? localePlaceholder : \'\'" @blur="handleBlur" @keydown="resetInputState" ref="input"><i :class="iconCls"></i></slot></div><select-dropdown-component :class="isTagNotFoundCls" :isfixed="isfixed" v-show="dropVisible" :placement="placement" ref="drop"><scrollbar-component theme="select" :max-height="maxScrollbarHeight"><ul v-show="notFoundShow && !isTag" :class="notFoundCls" ><li>{{ localeNotFoundText }}</li></ul><ul v-show="!notFound" class="jz-select-dropdown-list"><slot></slot></ul></scrollbar-component></select-dropdown-component></div>',props:{value:[String,Number],label:[String,Number],disabled:Boolean,placeholder:String,filterable:Boolean,notfoundtext:String,maxdropheight:{type:String,default:"154px"},labelinvalue:Boolean,placement:{validator:function(e){return vue_utils.oneOf(e,["top","bottom"])},default:"bottom"},isfixed:Boolean,isTag:{type:Boolean,default:!1},list:{type:Array,default:function(){return[]}}},data:function(){return{prefixCls:t,visible:!1,options:[],optionInstances:[],selectedSingle:"",selectedMultiple:[],focusIndex:0,query:"",lastQuery:"",selectToChangeQuery:!1,inputLength:20,notFound:!1,model:this.value,currentLabel:this.label,animated:!1,cacheValue:null}},computed:{maxScrollbarHeight:function(){return parseInt(this.maxdropheight)},classes:function(){var e={"jz-select":!0,"jz-select-single":!0};return e[t+"-visible"]=!!this.visible,e[t+"-disabled"]=!!this.disabled,e},notFoundCls:function(){var e={"jz-select-not-found":!0};return e},isTagNotFoundCls:function(){var e={};return e["isTag-not-found"]=!!this.isTag&&this.notFoundShow,e},selectionCls:function(){var e={};return e[t+"-selection"]=!this.isTag,e},placeholderCls:function(){var e={"jz-select-placeholder":!0};return e},selectedCls:function(){var e={"jz-select-selected-value":!0};return e},inputCls:function(){var e={"jz-select-input":!0};return e},iconCls:function(){var e={"jz-select-arrow":!0};return e[t+"-trigger-arrow"]=!!this.visible,e},showPlaceholder:function(){var e=!1;return"string"==typeof this.model?""===this.model&&(e=!0):null===this.model&&(e=!0),e},localeNotFoundText:function(){return void 0===this.notfoundtext?"无匹配数据":this.notfoundtext},localePlaceholder:function(){return void 0===this.placeholder?"请选择":this.placeholder},dropVisible:function(){var e=!0,t=this.$slots.default||[];return""!==this.query||t.length||(e=!1),this.isTag&&!t.length&&(e=!1),this.visible&&e&&this.animated},notFoundShow:function(){var e=this.options||[];return this.notFound||!e.length}},watch:{value:function(e){""===(this.model=e)&&(this.query="")},label:function(e){this.currentLabel=e},model:function(){var e=this;this.$emit("input",this.model),this.$nextTick(function(){this.modelToQuery(),this.$nextTick(function(){this.broadcastQuery("")})}),this.updateSingleSelected(),!this.visible&&this.filterable&&this.$nextTick(function(){e.broadcastQuery("")})},visible:function(e){var t=this;this.visible?(vue_utils.slideDown(this.$refs.drop.$el,300,function(){vue_utils.dispatch(t,"Scrollbar","update")}),this.animated=!1):(vue_utils.slideUp(this.$refs.drop.$el,300,function(){vue_utils.dispatch(t,"Scrollbar","update")}),this.animated=!0),e?(this.filterable&&(this.isTag||this.$refs.input.select()),vue_utils.broadcast(this,"SelectDropdown","on-update-popper")):(this.filterable&&(this.isTag||this.$refs.input.blur(),setTimeout(function(){t.broadcastQuery("")},300)),vue_utils.broadcast(this,"SelectDropdown","on-destroy-popper"))},query:function(e){var t=this;this.selectToChangeQuery||this.$emit("on-query-change",e),this.broadcastQuery(e);var i=!0;this.$nextTick(function(){t.findChild(function(e){e.hidden||"DropdownMenu"===e.$parent.$options.name||(i=!1)}),t.notFound=i}),this.selectToChangeQuery=!1,vue_utils.broadcast(this,"SelectDropdown","on-update-popper")},list:function(e){var t=this;this.$nextTick(function(){t.options=e})}},methods:{toggleMenu:function(){if(this.disabled||this.isTag)return!1;this.visible=!this.visible,this.visible&&(this.cacheValue=this.model)},hideMenu:function(){this.visible=!1,this.focusIndex=0,vue_utils.broadcast(this,"SelectItem","on-select-close")},handleClose:function(){this.hideMenu()},findChild:function(i){var t=function t(e){e.$options.componentName?i(e):e.$children.length&&e.$children.forEach(function(e){t(e)})};this.optionInstances.length?this.optionInstances.forEach(function(e){t(e)}):this.$children.forEach(function(e){t(e)})},modelToQuery:function(){var t=this;this.filterable&&void 0!==this.model&&this.findChild(function(e){t.model===e.value&&(e.label?t.query=e.label:e.searchLabel?t.query=e.searchLabel:t.query=e.value)})},broadcastQuery:function(e){vue_utils.broadcast(this,"SelectItem","on-query-change",e)},updateOptions:function(t,e){e=e||!1;var i=[],n=1,o=this;this.list.length||this.findChild(function(e){i.push({value:e.value,label:void 0===e.label?e.$el.textContent:e.label}),e.index=n++,t&&o.optionInstances.push(e)}),this.options=this.list.length?this.list:i,t&&this.updateSingleSelected(!0,e)},updateSingleSelected:function(e,t){e=e||!1,t=t||!1;var i=_typeof(this.model);if("string"===i||"number"===i){for(var n=!1,o=0;o<this.options.length;o++)if(this.model===this.options[o].value){this.selectedSingle=this.options[o].label,n=!0;break}t&&!n&&(this.model="",this.query="")}this.toggleSingleSelected(this.model,e)},toggleSingleSelected:function(t,e){var i="";e=e||!1;this.findChild(function(e){e.value===t?(e.selected=!0,i=void 0===e.label?e.$el.innerHTML:e.label):e.selected=!1}),this.hideMenu(),e||(this.labelinvalue?this.$emit("on-change",{value:t,label:i}):(this.$emit("on-change",t),null!==this.cacheValue&&(this.$emit("on-undo",t,this.cacheValue),this.cacheValue=null)))},slotChange:function(){this.options=[],this.optionInstances=[]},handleBlur:function(){var i=this;setTimeout(function(){if(!i.isTag){var t=i.model;""!==t?i.findChild(function(e){e.value===t&&(i.query=void 0===e.label?e.searchLabel:e.label)}):i.query=""}},300)},resetInputState:function(){this.inputLength=12*this.$refs.input.value.length+20}},mounted:function(){var i=this;this.modelToQuery(),this.$nextTick(function(){i.broadcastQuery("")}),this.updateOptions(!0),this.$on("append",function(){i.modelToQuery(),i.$nextTick(function(){i.broadcastQuery("")}),i.slotChange(),i.updateOptions(!0,!0)}),this.$on("remove",function(){i.modelToQuery(),i.$nextTick(function(){i.broadcastQuery("")}),i.slotChange(),i.updateOptions(!0,!0)}),this.$on("on-select-selected",function(t){i.model===t?(this.isTag&&this.$emit("on-change",t),i.hideMenu()):(i.model=t,i.filterable&&i.findChild(function(e){e.value===t&&(""!==i.query&&(i.selectToChangeQuery=!0),i.lastQuery=i.query=void 0===e.label?e.searchLabel:e.label)}))})}})}(),function(){var e,t="jz-slider";Vue.component("slider-component",{name:"Slider",template:"<div :class='wrapClasses'><div :class='\"slider-outer\" + (classes|| \"\")'><div :class='\"slider-base-line\" + (classes|| \"\")' :style='{width:width + \"px\"}'><div :class='\"slider-check-line\" + (classes|| \"\")' :style='checkLineStyle'></div><a :class='\"slider-handle\" + (classes|| \"\")' :style='handleStyle' @mousedown.stop='mouseDown($event)'></a></div></div><input-number-component :class='\"slider-input\" + (classes|| \"\")' :max='max' :min='min' :decimal='decimal' :nagative='nagative' :digitis='digitis' :unit='unit' :disabled='disabled' ref='silderInput' v-model.number='currentValue' @on-focus='inputFocus' @input='inputChange' @on-blur='inputBlur'></input-number-component></div>",props:(e={classes:String,type:String,disabled:Boolean,value:[String,Number],unit:String,max:{type:Number,required:!0},min:{type:Number,required:!0},width:{type:Number,required:!0},radius:Number,step:{type:Number,default:1},decimal:Boolean,nagative:Boolean},_defineProperty(e,"unit",String),_defineProperty(e,"digitis",{type:Number,default:0}),e),data:function(){return{currentValue:this.value,focusStatus:!1,sliderWidth:this.width||100,handleRadius:this.radius||5,cacheVal:this.value}},methods:{inputFocus:function(){this.cacheVal=this.currentValue,this.$emit("on-start",this.currentValue)},inputChange:function(e){(e=Number(e)||0)>this.max||e<this.min||""!==(this.currentValue=e)&&(this.$emit("input",e),this.$emit("on-change",e),this.$emit("on-slide",e))},inputBlur:function(){this.currentValue=Number(this.currentValue)||0;var e=this.protectVal(this.protectStepAdd(this.currentValue));e!=this.currentValue&&(this.currentValue=e,this.$emit("input",e),this.$emit("on-change",e)),this.$emit("on-stop",this.currentValue),this.cacheVal!=this.currentValue&&this.$emit("on-undo",this.currentValue,this.cacheVal)},mouseDown:function(e){var i=this,n=e.clientX,o=i.currentValue,a=document;function t(e){var t=(e.clientX-n)/i.scale;t-=t%i.step,i.currentValue=i.protectStepAdd(o+t),i.currentValue=i.protectVal(i.currentValue),i.$emit("input",i.currentValue),i.$emit("on-change",i.currentValue),i.$emit("on-slide",i.currentValue),a.addEventListener("mouseup",r,!1)}function r(e){a.removeEventListener("mousemove",t),a.removeEventListener("mouseup",r),i.$emit("on-stop",i.currentValue),i.cacheVal!=i.currentValue&&i.$emit("on-undo",i.currentValue,i.cacheVal)}this.cacheVal=this.currentValue,this.$emit("on-start",o),a.addEventListener("mousemove",t,!1)},protectVal:function(e){return e>this.max?e=this.max:e<this.min&&(e=this.min),e},protectSliderStyle:function(e){return e>this.sliderWidth-this.handleRadius?e=this.sliderWidth-this.handleRadius:e<0-this.handleRadius&&(e=0-this.handleRadius),e},protectStepAdd:function(e){var t=this.step.toString(),i=0;return-1<t.indexOf(".")&&(i=t.split(".")[1].length),Number(e.toFixed(i))}},computed:{scale:function(){return this.width/(this.max-this.min)},wrapClasses:function(){var e={"jz-slider-wrapper":!0};return e[t+"-"+this.type]=!!this.type,e},checkLineStyle:function(){var e=this.scale*(this.currentValue-this.min);return{width:(e=this.protectSliderStyle(e))+"px"}},handleStyle:function(){var e=this.scale*(this.currentValue-this.min)-this.handleRadius;return{left:(e=this.protectSliderStyle(e))+"px"}}},watch:{value:function(e){this.currentValue=e}}})}(),function(){var t="jz-switch";Vue.component("switch-component",{name:"jz_switch",template:'<span :class="wrapClasses" @click="toggle"><span :class="innerClasses"><slot name="open" v-if="currentValue"></slot><slot name="close" v-if="!currentValue"></slot></span></span>',props:{value:Boolean,disabled:Boolean},data:function(){return{currentValue:this.value}},computed:{wrapClasses:function(){var e={"jz-switch":!0};return e[t+"-checked"]=!!this.currentValue,e[t+"-disabled"]=!!this.disabled,e},innerClasses:function(){return t+"-inner"}},methods:{toggle:function(){if(this.disabled)return!1;var e=!this.currentValue;this.currentValue=e,this.$emit("input",e),this.$emit("on-change",e),this.$emit("on-undo",e)}},watch:{value:function(e){this.currentValue=e}}})}();var tableMixin={methods:{alignCls:function(e,t){var i="",n={};return(t=t||{}).cellClassName&&e.key&&t.cellClassName[e.key]&&(i=t.cellClassName[e.key]),e.multiLevel&&(n.pl40=!0,n["j-multi-level"]=!0),n[i]=!!i,n[e.className]=!!e.className,n[this.prefixCls+"-column-"+e.align]=!!e.align,n},setCellWidth:function(e,t,i){var n="";return e.width?n=e.width:this.columnsWidth[e._index]&&(n=this.columnsWidth[e._index].width),this.columns.length===t+1&&i&&0!==this.$parent.bodyHeight&&this.$parent.flexible,"0"===n&&(n=""),n}}};function _objectSpread(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{},n=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable}))),n.forEach(function(e){_defineProperty(t,e,i[e])})}return t}function _defineProperty(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,i=new Array(e.length);t<e.length;t++)i[t]=e[t];return i}}!function(){var i="jz-table",n=0,o=0;Vue.component("table-render-header",{name:"TableRenderHeader",functional:!0,props:{render:Function,column:Object,index:Number},render:function(e,t){var i={column:t.props.column,index:t.props.index};return t.props.render(e,i,t)}}),Vue.component("table-expand",{name:"TableExpand",functional:!0,props:{row:Object,render:Function,index:Number,column:{type:Object,default:null}},render:function(e,t){var i={row:t.props.row,index:t.props.index};return t.props.column&&(i.column=t.props.column),t.props.render(e,i,t)}}),Vue.component("table-tr",{name:"TableTr",template:'<li :class="rowClasses(row._index)"><slot></slot></li>',props:{row:Object},data:function(){return{table:vue_utils.findComponentUpward(this,"Table")}},methods:{rowClasses:function(e){var t={"jz-table-row":!0};return t[this.rowClsName(e)]=!!this.rowClsName(e),t[i+"-sort-disabled"]=this.row._fixed||this.isSortDisabled(this.row),t},rowClsName:function(e){return this.table.rowClsName(this.row,e)},isSortDisabled:function(e){return!!this.table.sortDisableAlias&&e[this.table.sortDisableAlias]==this.table.sortDisableValue}}}),Vue.component("table-cell",{name:"TableCell",template:'<div :class="classes" ref="cell"><template v-if="renderType === columnType.expand && !row._disableExpand"><div :class="expandCls" @click="toggleExpand"><i class="'+i+'-expand-right"></i></div></template><template v-if="renderType === columnType.index">{{ naturalIndex + 1 }}</template><template v-if="renderType === columnType.selection"><checkbox-component :true-value="true" :false-value="false" :value="checked" @click.native.stop="handleClick" @on-change="toggleSelect" :disabled="disabled"></checkbox-component></template><template v-if="renderType === columnType.radio"><radio-component :value="checked" label="" @click.native.stop="handleClick" @on-change="toggleRadio" :disabled="disabled"></radio-component></template><template v-if="renderType === columnType.html"><span v-html="row[column.key]"></span></template><template v-if="renderType === columnType.normal"><span>{{ row[column.key] }}</span></template><table-expand v-if="renderType === columnType.render" :row="row" :column="column" :index="index" :render="column.render"></table-expand><template v-if="renderType === columnType.sortable"><span class="jz-sort-body"><span v-if="row._fixed" style="cursor: default;">位置固定</span><template v-else-if="!isSortDisabled(row)"><i @click="sortUp(level, index, levelKey)" v-if="upCondition" class="jz-sort-arrow-up"></i><i @click="sortDown(level, index, levelKey)" v-if="downCondition" class="jz-sort-arrow-down"></i><i @click="sortRight(level, index, levelKey)" v-if="rightCondition && multiLevel" class="jz-sort-arrow-right"></i><i @click="sortLeft(level, index, levelKey)" v-if="leftCondition && multiLevel" class="jz-sort-arrow-left"></i></template></span></template></div>',props:{prefixCls:String,multiLevel:Boolean,level:Number,levelKey:{type:String,default:""},row:Object,column:Object,naturalIndex:Number,index:[String,Number],checked:Boolean,disabled:Boolean,expanded:Boolean,maxLength:Number},data:function(){return{renderType:"",table:vue_utils.findComponentUpward(this,"Table"),level1:1,level2:2,level3:3}},computed:{upCondition:function(){return(void 0===this.table.objData[this.naturalIndex-1]||void 0===this.table.objData[this.naturalIndex-1]._fixed||!this.table.objData[this.naturalIndex-1]._fixed)&&((void 0===this.table.objData[this.naturalIndex-1]||!this.isSortDisabled(this.table.objData[this.naturalIndex-1]))&&0!==this.naturalIndex)},downCondition:function(){return(void 0===this.table.objData[this.naturalIndex+1]||void 0===this.table.objData[this.naturalIndex+1]._fixed||!this.table.objData[this.naturalIndex+1]._fixed)&&((void 0===this.table.objData[this.naturalIndex+1]||!this.isSortDisabled(this.table.objData[this.naturalIndex+1]))&&this.naturalIndex!==this.maxLength-1)},rightCondition:function(){var e=this.row.children;if(this.level===this.level1&&0===this.index)return!1;if(e&&e.length){if(this.level===this.level1)return!e.some(function(e){return!!e.children});if(this.level===this.level2)return!1}return this.level!==this.level3&&0!==this.index},leftCondition:function(){return this.level===this.level2||this.level===this.level3},columnType:function(){var e,t=(_defineProperty(e={expand:"expand",index:"index",selection:"selection",radio:"radio",html:"html",normal:"normal"},"expand","expand"),_defineProperty(e,"render","render"),_defineProperty(e,"sortable","sortable"),e);return t},classes:function(){var e={};return e[this.prefixCls+"-cell"]=!0,e[this.prefixCls+"-cell-ellipsis"]=this.column.ellipsis||!1,e},expandCls:function(){var e={};return e[this.prefixCls+"-click"]=!0,e[this.prefixCls+"-cell-expand"]=!0,e[this.prefixCls+"-expand-expanded"]=!!this.expanded,e}},methods:{toggleSelect:function(){this.table.toggleSelect(this.index)},toggleRadio:function(){this.table.toggleRadio(this.index)},toggleExpand:function(){this.table.toggleExpand(this.index)},handleClick:function(){},sortUp:function(e,t,i){1===e&&this.table.objData[t-1]._fixed||this.table.sortUp(e,this.index,i)},sortDown:function(e,t,i){1===e&&this.table.objData[t+1]._fixed||this.table.sortDown(e,this.index,i)},sortRight:function(e,t,i){this.table.sortRight(e,this.index,i)},sortLeft:function(e,t,i){this.table.sortLeft(e,this.index,i)},isSortDisabled:function(e){return!!this.table.sortDisableAlias&&e[this.table.sortDisableAlias]==this.table.sortDisableValue}},created:function(){"index"===this.column.type?this.renderType="index":"selection"===this.column.type?this.renderType="selection":"radio"===this.column.type?this.renderType="radio":"html"===this.column.type?this.renderType="html":"expand"===this.column.type?this.renderType="expand":"render"===this.column.type?this.renderType="render":"sortable"===this.column.type?this.renderType="sortable":"expand"===this.column.type?this.renderType="expand":this.renderType="normal"}}),Vue.component("table-head",{name:"TableHead",mixins:[tableMixin],template:'<table cellspacing="0" cellpadding="0" border="0" :style="styles"><colgroup><col v-for="(column, index) in columns" :width="setCellWidth(column, index, true)"></colgroup><thead><tr><th v-for="(column, index) in columns" :class="alignCls(column)" ref="tableHeadTh"><div :class="cellClasses(column)"><template v-if="column.type === columnType.expand"><span v-if="!column.renderHeader">{{ column.title || "" }}</span><table-render-header v-else :render="column.renderHeader" :column="column" :index="index"></table-render-header></template><template v-else-if="column.type === columnType.selection"><checkbox-component :true-value="true" :false-value="false" :value="isSelectAll" @on-change="selectAll" :disabled="!data.length"></checkbox-component></template><template v-else-if="column.type === columnType.radio"><span>{{ column.title || "" }}</span></template><template v-else><span v-if="!column.renderHeader" @click="handleSortByHead(index)">{{ column.title }}</span><table-render-header v-else :render="column.renderHeader" :column="column" :index="index"></table-render-header><span class="'+i+'-head-sort" v-if="column.sortable"><i class="jz-sort-arrow-up" :class="sortStatus(column._sortType, sortType.asc)" @click="handleSort(index, sortType.asc)"></i><i class="jz-sort-arrow-down" :class="sortStatus(column._sortType, sortType.desc)" @click="handleSort(index, sortType.desc)"></i></span></template><i v-if="resizable && (index != columns.length - 1)" class="jz_table__column_resizor" @mousedown="mousedownColumbResizorHandler($event, column)"></i></div></th></tr></thead></table>',props:{prefixCls:String,styleObject:Object,columns:Array,objData:Object,data:Array,columnsWidth:Object,pageSize:Number,page:Number,resizable:Boolean},data:function(){return{table:vue_utils.findComponentUpward(this,"Table")}},computed:{columnsLength:function(){return this.columns.length},columnType:function(){var e={expand:"expand",selection:"selection",radio:"radio"};return e},sortType:function(){var e={asc:"asc",desc:"desc"};return e},styles:function(){var e=Object.assign({},this.styleObject),t=(this.$parent.bodyHeight,parseInt(this.styleObject.width));return this.table.flexible?e.width="100%":e.width=t+"px",e},isSelectAll:function(){var e=!0,t=-1!==this.page?this.data.slice((this.page-1)*this.pageSize,this.page*this.pageSize):this.data;t.length||(e=!1),t.every(function(e){return!e._disabled})||(e=!1);for(var i=0;i<t.length;i++)if(!this.objData[t[i]._index]._isChecked&&!this.objData[t[i]._index]._isDisabled){e=!1;break}return e}},watch:{columnsLength:function(){this.table.flexible&&(this.hasResetWidth=!1,this.$nextTick(this.resetWidth))}},methods:{cellClasses:function(e){var t={};return t[this.prefixCls+"-cell"]=!0,t[this.prefixCls+"-selection"]=e.type===this.columnType.selection,t},sortStatus:function(e,t){var i={};return i.on=e===t,i},selectAll:function(){var e=!this.isSelectAll;this.$parent.selectAll(e)},handleSort:function(e,t){this.columns[e]._sortType===t&&(t="normal"),this.$parent.handleSort(e,t)},handleSortByHead:function(e){var t=this.columns[e];if(t.sortable){var i=t._sortType;"normal"===i?this.handleSort(e,"asc"):"asc"===i?this.handleSort(e,"desc"):this.handleSort(e,"normal")}},mousedownColumbResizorHandler:function(e,t){this.prevClientX=e.clientX,this.curColmn=this.$parent.columns[t._index],vue_utils.on(document,"mousemove",this.mousemoveDocumentHandler),vue_utils.on(document,"mouseup",this.mouseupDocumentHandler),this.table.flexible&&this.resetWidth()},resetWidth:function(){if(!this.hasResetWidth){this.hasResetWidth=!0;var a=this;this.$parent.columns.forEach(function(e,t){var i=vue_utils.getStyle(a.$refs.tableHeadTh[t],"width"),n=e.minWidth||50,o=(i=parseFloat(i))<(n=parseFloat(n))?n:i;e._width=e.width,e.width=o+"px"})}},mousemoveDocumentHandler:function(e){var t=parseFloat(this.curColmn.width),i=parseFloat(this.curColmn.minWidth)||50;t+=e.clientX-this.prevClientX,this.prevClientX=e.clientX;var n=t<i?i:2e3<t?2e3:t;this.curColmn.width=n+"px"},mouseupDocumentHandler:function(){this.doDestroy(),this.table.$emit("resize-stop")},doDestroy:function(){vue_utils.off(document,"mousemove",this.mousemoveDocumentHandler),vue_utils.off(document,"mouseup",this.mouseupDocumentHandler),this.curColmn=null},resizeWindowHandler:function(){var o=this,a=!1;this.$parent.columns.forEach(function(e,t){var i=vue_utils.getStyle(o.$refs.tableHeadTh[t],"width"),n=e.minWidth;(i=parseFloat(i))<(n=parseFloat(n))&&(a=!0)}),a&&this.resetWidth()}},mounted:function(){this.table.flexible&&(vue_utils.on(window,"resize",vue_utils.debounce(this.resizeWindowHandler)),this.resizeWindowHandler())},beforeDestroy:function(){this.doDestroy(),vue_utils.off(window,"resize",this.resizeWindowHandler)}}),Vue.component("table-body",{name:"TableBody",mixins:[tableMixin],template:'<div v-if="showTableBody" v-nestable="nestableData" :style="styleObject" :class="tableBodyClass"><ol class="'+i+'-dd-list"><template v-for="(row, firstIndex) in pageData"><table-tr :data-id="liKey(row._rowKey, row)" :row="row" :style="trStyle(firstIndex)" class="'+i+'-dd-item"><template v-if="!!row.children && multiLevel && row.children.length"><button data-action="collapse" class="dd-collapse" @click="collapse(row)" v-show="!row._collapsed"></button><button data-action="expand" class="dd-expand" @click="expand(row)" v-show="row._collapsed"></button></template><div :class="handleCls" :style="multiStyle(\'\')"><div class="'+i+'-td" :class="alignCls(column, row)" :style="columnWidth(column._width)" :key="Math.random() * column._columnKey" v-for="column in columns"><table-cell :multi-level="multiLevel" :level="1" :prefix-cls="prefixCls" :row="row" :key="column._columnKey" :column="column" :natural-index="firstIndex" :max-length="data.length" :index="row._index" :checked="rowChecked(row._index)" :disabled="rowDisabled(row._index)" :expanded="rowExpanded(row._index)"></table-cell></div></div><ol v-if="!!row.children && multiLevel && row.children.length" v-show="!row._collapsed" class="'+i+'-dd-list"><template v-if="!!row.children && multiLevel && row.children.length" v-for="(childRow, secondIndex) in row.children"><table-tr class="'+i+'-dd-item" :row="childRow" :data-id="liKeyLevel(childRow._levelKey, childRow)"><template v-if="!!childRow.children && multiLevel && childRow.children.length"><button data-action="collapse" class="dd-collapse" @click="collapse(childRow)" v-show="!childRow._collapsed"></button><button data-action="expand" class="dd-expand" @click="expand(childRow)" v-show="childRow._collapsed"></button></template><div :class="handleCls" :style="multiStyle(\'\', row._collapsed)"><div class="dd-fill-style" :style="multiStyle(\'fill\')"></div><div class="'+i+'-td" :class="alignCls(column, childRow)" :style="columnWidth(column._width)" v-for="column in columns"><table-cell :multi-level="multiLevel" :level="2" :levelKey="childRow._levelKey" :prefix-cls="prefixCls" :row="childRow" :key="column._columnKey" :column="column" :natural-index="secondIndex" :max-length="childRow._maxLength" :index="childRow._index"></table-cell></div></div><ol v-if="!!childRow.children && multiLevel && childRow.children.length && maxDepth === 3" v-show="!childRow._collapsed" class="'+i+'-dd-list"><template v-if="!!childRow.children && multiLevel && childRow.children.length" v-for="(grandsonRow, thirdIndex) in childRow.children"><table-tr class="'+i+'-dd-item" :row="grandsonRow" :data-id="liKeyLevel(grandsonRow._levelKey, grandsonRow)"><div :class="handleCls" :style="multiStyle(\'\', childRow._collapsed)"><div class="dd-fill-style" :style="multiStyle(\'fill\')"></div><div class="'+i+'-td" :class="alignCls(column, grandsonRow)" :style="columnWidth(column._width)" v-for="column in columns"><table-cell :multi-level="multiLevel" :level="3" :levelKey="grandsonRow._levelKey" :prefix-cls="prefixCls" :row="grandsonRow" :key="column._columnKey" :column="column" :natural-index="thirdIndex" :max-length="grandsonRow._maxLength" :index="grandsonRow._index"></table-cell></div></div></table-tr></template></ol></table-tr></template></ol></table-tr><table-tr :row="row" class="'+i+'-expand-row J-expand-row" v-if="rowExpanded(row._index)"><table-expand :key="row._rowKey" :row="row" :render="expandRender" :index="row._index"></table-expand></table-tr></template></ol></div>',props:{prefixCls:String,styleObject:Object,dragSortable:Boolean,multiLevel:Boolean,columns:Array,data:Array,objData:Object,columnsWidth:Object,pageSize:Number,page:Number,dragClass:String,maxDepth:Number},directives:{nestable:{bind:function(t,i,e){var n=e.context;$(t).nestable({group:0,maxDepth:n.multiLevel?n.maxDepth:1,dragClass:"jz-table-dragel "+n.dragClass,rootClass:"jz-table-dd",noDragClass:"dd-fill-style",listClass:"jz-table-dd-list",itemClass:"jz-table-dd-item",dragDisableClass:"jz-table-sort-disabled",dropDisableClass:"jz-table-sort-disabled",collapseBtnHTML:'<button data-action="collapse" class="dd-collapse"></button>',expandBtnHTML:'<button data-action="expand" class="dd-expand"></button>',dragSortable:n.dragSortable}).on("drag-change",function(e){!function(e,t,i){for(t=t.split(".");1<t.length;)e=e[t.shift()];JSON.stringify(e.table.data)!==JSON.stringify(i)&&(e[t.shift()]=i)}(n,i.expression,$(t).nestable("serialize"))})},unbind:function(e,t,i){i.context.dragSortable&&$(e).nestable("reset")}}},data:function(){return{multiLevelTdWidth:0,nestableData:[],showTableBody:!0,table:vue_utils.findComponentUpward(this,"Table")}},computed:{pageData:function(){return-1!==this.page?this.data.slice((this.page-1)*this.pageSize,this.page*this.pageSize):this.data},handleCls:function(){var e={"dd-handle":!0};return e["dd-handle-layout"]=!!this.table.flexible,e},tableBodyClass:function(){var e={"jz-table-ol":!0,"jz-table-dd":!0};return e.nestable=!!this.dragSortable,e["level-1"]=!this.multiLevel,e},expandRender:function(){for(var e=function(){return""},t=0;t<this.columns.length;t++){var i=this.columns[t];i.type&&"expand"===i.type&&i.render&&(e=i.render)}return e}},methods:{collapse:function(e){e._collapsed=!0},expand:function(e){e._collapsed=!1},liKey:function(e,t){var i=vue_utils.deepCopy(t);return delete i._index,delete i._level,delete i._rowKey,i.hasOwnProperty("children")&&delete i.children,JSON.stringify(i)},liKeyLevel:function(e,t){var i=vue_utils.deepCopy(t);return delete i._levelKey,delete i._level,i.hasOwnProperty("children")&&delete i.children,JSON.stringify(i)},columnWidth:function(e){var t={};return this.table.flexible?t.width=e:(t.width=e+"px",t.maxWidth=e+"px"),t},rowChecked:function(e){return this.objData[e]&&this.objData[e]._isChecked},rowDisabled:function(e){return this.objData[e]&&this.objData[e]._isDisabled},rowExpanded:function(e){return this.objData[e]&&this.objData[e]._isExpanded},trStyle:function(e,t){var i={};return this.multiLevel||(i.background=e%2==1?"#f8f9fb":"#fff"),i},multiStyle:function(e,t){var i={};return this.multiLevel&&("fill"==e||t||n++,i.background=n%2==1?"#fff":"#f8f9fb"),i},adjustTdWidth:function(){var d=this;d.multiLevel&&this.$nextTick(function(){if("DIV"===d.$el.nodeName){var e=".jz-table-dd-list",t=e+" "+e,i=t+" "+e,n=".jz-table-dd-item .j-multi-level",o=(d.$el.querySelectorAll(e),d.$el.querySelectorAll(t)),a=d.$el.querySelectorAll(i),r=d.$el.querySelectorAll(e+" "+n),s=d.$el.querySelectorAll(t+" "+n),l=d.$el.querySelectorAll(i+" "+n),c=parseInt(vue_utils.getStyle(o[0],"padding-left"))||0,u=parseInt(vue_utils.getStyle(a[0],"padding-left"))||0;vue_utils.setStyle(r,"width",d.multiLevelTdWidth+"px"),vue_utils.setStyle(s,"width",d.multiLevelTdWidth-c+"px"),vue_utils.setStyle(s,"max-width",d.multiLevelTdWidth-c+"px"),vue_utils.setStyle(l,"width",d.multiLevelTdWidth-c-u+"px"),vue_utils.setStyle(l,"max-width",d.multiLevelTdWidth-c-u+"px")}})}},mounted:function(){var e=this;n=0,this.$nextTick(function(){e.multiLevelTdWidth=parseInt(vue_utils.getStyle(e.$el.querySelectorAll(".jz-table-dd-list .j-multi-level")[0],"width"))})},updated:function(){n=0,this.adjustTdWidth(),o&&this.table.$refs.scrollbar.$emit("scrollTo",o),setTimeout(function(){o=0})},watch:{nestableData:function(e){var t=this;o=this.table.$refs.scrollbar.$refs.wrap.scrollTop,this.showTableBody=!1,this.$nextTick(function(){t.showTableBody=!0}),this.table.dragDataChange(this.nestableData)},dragSortable:function(){var e=this;this.showTableBody=!1,this.$nextTick(function(){e.showTableBody=!0})}}})}(),function(){var t="jz-table",i=1,n=1;Vue.component("table-component",{name:"Table",template:'<div :class="wrapClasses" :style="styles"><div class="'+t+'-title" v-if="showSlotHeader" ref="title"><slot name="header"></slot></div><div :class="classes"><div class="'+t+'-header" v-if="showHeader" ref="header"><table-head :resizable="resizable" :page-size="pageSize" :page="page" :prefix-cls="prefixCls" :styleObject="tableStyle" :columns="cloneColumns" :obj-data="objData" :columns-width="columnsWidth" :data="rebuildData"></table-head></div><div class="'+t+'-body" :style="bodyStyle" ref="body" v-show="!((!!localeNoDataText && (!data || data.length === 0)) || (!!localeNoFilteredDataText && (!rebuildData || rebuildData.length === 0)))"><scrollbar-component :horizontal="resizable" :max-height="maxBodyHeight" ref="scrollbar" theme="table" @scroll="scrollTableBodyHandler"><table-body :max-depth="maxDepth" :page-size="pageSize" :dragClass="dragClass" :page="page" :drag-sortable="dragSortable" :multiLevel="multiLevel" v-if="!((!data || data.length === 0) || (!rebuildData || rebuildData.length === 0))" ref="tbody" :prefix-cls="prefixCls" :styleObject="tableStyle" :columns="cloneColumns" :data="rebuildData" :columns-width="columnsWidth" :obj-data="objData"></table-body></scrollbar-component><div v-if="loading" class="spin spin-fix"><div class="spin-main"><span class="spin-dot"></span></div></div></div><div class="'+t+'-tip" v-show="((!!localeNoDataText && (!data || data.length === 0)) || (!!localeNoFilteredDataText && (!rebuildData || rebuildData.length === 0)))"><table :style="tableStyle" cellspacing="0" cellpadding="0" border="0"><tbody><tr><td :style="{ height: bodyStyle.height }"><span v-html="localeNoDataText" v-if="!data || data.length === 0"></span><span v-html="localeNoFilteredDataText" v-else></span></td></tr></tbody></table></div></div><div class="'+t+'-footer" v-if="showSlotFooter" ref="footer"><slot name="footer"></slot></div><div class="jz-table-count" v-if="showCount">总共{{count}}个</div></div>',props:{data:{type:Array,default:function(){return[]}},columns:{type:Array,default:function(){return[]}},dragSortable:{type:Boolean,default:!1},sortDisableAlias:{type:String,default:""},sortDisableValue:{type:[Boolean,Number,String],default:!0},multiLevel:{type:Boolean,default:!1},showHeader:{type:Boolean,default:!0},noDataText:{type:String,default:"表格无数据"},noFilteredDataText:{type:String,default:"无匹配数据"},rowClassName:{type:Function,default:function(){return""}},loading:{type:Boolean,default:!1},pageSize:{type:Number,default:function(){return-1}},page:{type:Number,default:function(){return-1}},width:[Number,String],height:[Number,String],dragClass:String,flexible:Boolean,maxDepth:{type:Number,default:function(){return 3}},resizable:Boolean,maxBodyHeight:Number,showCount:Boolean},data:function(){return{ready:!1,tableWidth:0,bodyRealHeight:0,scrollBarWidth:vue_utils.scrollbarWidth(),prefixCls:t,showSlotHeader:!0,showSlotFooter:!0,bodyHeight:0,columnsWidth:{},rebuildData:[],cloneColumns:this.makeColumns(),objData:this.makeObjData(),localeNoDataText:this.noDataText,localeNoFilteredDataText:this.noFilteredDataText}},computed:{count:function(){return this.multiLevel?function i(e){return Array.isArray(e)?e.reduce(function(e,t){return e.concat(t).concat(i(t.children))},[]):[]}(this.data).length:this.data.length},wrapClasses:function(){var e={"jz-table-wrapper":!0};return e[t+"-wrapper-hide"]=!this.ready,e[t+"-with-header"]=!!this.showSlotHeader,e[t+"-with-footer"]=!!this.showSlotFooter,e},classes:function(){var e={"jz-table":!0};return e[t+"-with-fixed-top"]=!!this.height,e},styles:function(){var e={};return this.width&&(e.width="number"==typeof this.width?this.width+"px":this.width),e},tableStyle:function(){var e={};if(this.flexible)return e;if(0!==this.tableWidth){var t="";this.bodyHeight,t=this.tableWidth,e.width=t+"px"}return e},bodyStyle:function(){var e={};if(0!==this.bodyHeight){var t=this.bodyHeight;e.height=t+"px"}return e}},methods:{scrollTableBodyHandler:function(e){this.$refs.header.scrollLeft=e.target.scrollLeft},fixedHeader:function(){var t=this;this.height?this.$nextTick(function(){var e=parseInt(vue_utils.getStyle(t.$refs.header,"height"))||0;t.bodyHeight=t.height-e}):this.bodyHeight=0},rowClsName:function(e,t){return this.rowClassName(e,t)},handleResize:function(){var a=this;a.$nextTick(function(){if(!a.flexible){var e=!a.columns.some(function(e){return!e.width});a.tableWidth=e?a.columns.map(function(e){return e.width}).reduce(function(e,t){return e+t},0):parseInt(vue_utils.getStyle(a.$el,"width"))-1}a.columnsWidth={},a.$refs.tbody&&a.$nextTick(function(){var e={};if(a.data.length){for(var t=a.$refs.tbody.$el.querySelectorAll(".jz-table-ol li")[0].children,i=0;i<t.length;i++)if(t[i].classList.contains("jz-table-td")){var n=a.cloneColumns[i],o=parseInt(vue_utils.getStyle(t[i],"width"));if(void 0===n)continue;if(n.width&&(o=n.width),Number.isNaN(o))continue;a.cloneColumns[i]._width=o,e[n._index]={width:o}}a.columnsWidth=e}a.bodyRealHeight=parseInt(vue_utils.getStyle(a.$refs.tbody.$el,"height"))})})},makeColumns:function(){var e=vue_utils.deepCopy(this.columns),i=[];return e.forEach(function(e,t){e._index=t,e._columnKey=n++,e._width=e.width?e.width:"",e._sortType="normal",e._isFiltered=!1,e._filterChecked=[],"filteredValue"in e&&(e._filterChecked=e.filteredValue,e._isFiltered=!0),"sortType"in e&&(e._sortType=e.sortType),i.push(e)}),i},makeObjData:function(){var n={};return this.data.forEach(function(e,t){var i=vue_utils.deepCopy(e);i._index=t,i._fixed?i._fixed=i._fixed:i._fixed=!1,i._disabled?i._isDisabled=i._disabled:i._isDisabled=!1,i._checked?i._isChecked=i._checked:i._isChecked=!1,i._expanded?i._isExpanded=i._expanded:i._isExpanded=!1,n[t]=i}),n},sortData:function(e,i,n){var o=this,a=this.cloneColumns[n].key;return e.sort(function(e,t){return o.cloneColumns[n].sortMethod?o.cloneColumns[n].sortMethod(e[a],t[a],i):"asc"===i?e[a]>t[a]?1:-1:"desc"===i?e[a]<t[a]?1:-1:void 0}),e},deleteUnrelatedAttr:function(){var n=this,e=vue_utils.deepCopy(this.rebuildData);return e.forEach(function(e,t){if(delete e._index,delete e._rowKey,delete e._levelKey,delete e._level,n.dragSortable&&n.multiLevel){var i=e.children;i&&(i.length||delete e.children,i.forEach(function(e,t){delete e._index,delete e._rowKey,delete e._levelKey,delete e._maxLength,delete e._level;var i=e.children;i&&(i.length||delete e.children,i.forEach(function(e,t){delete e._index,delete e._rowKey,delete e._levelKey,delete e._maxLength,delete e._level}))}))}}),e},sortUp:function(e,t,i){if(1===e){var n=this.rebuildData[t];this.rebuildData[t]=this.rebuildData[t-1],this.rebuildData[t-1]=n}else if(2===e){var o=vue_utils.stringToIntArray(i.split("-"));n=(a=this.rebuildData[o[0]].children)[r=o[1]];a[r]=a[r-1],a[r-1]=n}else if(3===e){var a,r;o=vue_utils.stringToIntArray(i.split("-")),n=(a=this.rebuildData[o[0]].children[o[1]].children)[r=o[2]];a[r]=a[r-1],a[r-1]=n}this.$emit("on-sort-up-click",t),this.$emit("on-sort-body-change",this.deleteUnrelatedAttr())},sortDown:function(e,t,i){if(1===e){var n=this.rebuildData[t];this.rebuildData[t]=this.rebuildData[t+1],this.rebuildData[t+1]=n}else if(2===e){var o=vue_utils.stringToIntArray(i.split("-"));n=(a=this.rebuildData[o[0]].children)[r=o[1]];a[r]=a[r+1],a[r+1]=n}else if(3===e){var a,r;o=vue_utils.stringToIntArray(i.split("-")),n=(a=this.rebuildData[o[0]].children[o[1]].children)[r=o[2]];a[r]=a[r+1],a[r+1]=n}this.$emit("on-sort-down-click",t),this.$emit("on-sort-body-change",this.deleteUnrelatedAttr())},sortRight:function(e,t,i){if(1===e){var n=this.rebuildData[t],o=this.rebuildData[t-1];o.children?o.children.push(n):o.children=[n],this.rebuildData.splice(t,1)}else if(2===e){var a=vue_utils.stringToIntArray(i.split("-")),r=this.rebuildData[a[0]].children,s=a[1],l=r[s];(n=r[s-1]).children?n.children.push(l):n.children=[l],r.splice(s,1)}this.$emit("on-sort-right-click",t),this.$emit("on-sort-body-change",this.deleteUnrelatedAttr())},sortLeft:function(e,t,i){if(2===e){var n=vue_utils.stringToIntArray(i.split("-")),o=(a=this.rebuildData[n[0]].children)[r=n[1]];a.splice(r,1),this.rebuildData.splice(n[0]+1,0,o)}else if(3===e){var a,r;n=vue_utils.stringToIntArray(i.split("-")),o=(a=this.rebuildData[n[0]].children[n[1]].children)[r=n[2]];a.splice(r,1),this.rebuildData[n[0]].children.splice(n[1]+1,0,o)}this.$emit("on-sort-right-click",t),this.$emit("on-sort-body-change",this.deleteUnrelatedAttr())},makeData:function(){var r=this,e=vue_utils.deepCopy(this.data);return e.forEach(function(e,t){if(e._index=t,e._rowKey=i++,e._level=1,r.multiLevel&&(e._collapsed=e._collapsed||!1),r.dragSortable&&r.multiLevel){var o=t,a=e.children;a&&a.length&&a.forEach(function(e,t){e._index=t,e._levelKey=o+"-"+t,e._maxLength=a.length,e._level=2,r.multiLevel&&(e._collapsed=e._collapsed||!1);var i=t,n=e.children;n&&n.length&&3===r.maxDepth&&n.forEach(function(e,t){e._index=t,e._levelKey=o+"-"+i+"-"+t,e._maxLength=n.length,e._level=3})})}}),e},makeDataWithFilter:function(){var t=this,i=this.makeData();return this.cloneColumns.forEach(function(e){return i=t.filterData(i,e)}),i},handleSort:function(e,t){this.cloneColumns.forEach(function(e){return e._sortType="normal"});var i=this.cloneColumns[e].key;this.rebuildData="normal"===t?this.makeDataWithFilter():this.sortData(this.rebuildData,t,e),this.cloneColumns[e]._sortType=t,this.$emit("on-sort-head-change",{column:JSON.parse(JSON.stringify(this.columns[this.cloneColumns[e]._index])),key:i,order:t,data:this.deleteUnrelatedAttr()})},makeDataWithSort:function(){for(var e=this.makeData(),t="normal",i=-1,n=!1,o=0;o<this.cloneColumns.length;o++)if("normal"!==this.cloneColumns[o]._sortType){t=this.cloneColumns[o]._sortType,i=o,n="custom"===this.cloneColumns[o].sortable;break}return"normal"===t||n||(e=this.sortData(e,t,i)),e},makeDataWithSortAndFilter:function(){var t=this,i=this.makeDataWithSort();return this.cloneColumns.forEach(function(e){return i=t.filterData(i,e)}),i},filterData:function(e,n){return e.filter(function(e){for(var t=!n._filterChecked.length,i=0;i<n._filterChecked.length&&!(t=n.filterMethod(n._filterChecked[i],e));i++);return t})},toggleSelect:function(e){var t={};for(var i in this.objData)parseInt(i)===e&&(t=this.objData[i]);var n=!t._isChecked,o=this.getSelection();this.objData[e]._isChecked=n,this.$emit(n?"on-select":"on-select-cancel",o,JSON.parse(JSON.stringify(this.data[e]))),this.$emit("on-selection-change",this.getSelection())},toggleRadio:function(e){for(var t in this.objData)parseInt(t)===e?this.objData[t]._isChecked=!0:this.objData[t]._isChecked=!1;var i=this.getRadioSelection();this.$emit("on-radio-change",i)},getRadioSelection:function(){var e,t={};for(var i in this.objData)if(this.objData[i]._isChecked){e=i;break}var n=this.data[e];return t.selected=n,t.selectedIndex=e,JSON.parse(JSON.stringify(t))},getSelection:function(e){var i=[],t={};for(var n in this.objData)this.objData[n]._isChecked&&i.push(parseInt(n));var o=this.data.filter(function(e,t){return-1<i.indexOf(t)});return t.selected=o,t.selectedIndex=i,JSON.parse(JSON.stringify(t))},toggleExpand:function(e){var t=e,i={};for(var n in this.objData)parseInt(n)===t&&(i=this.objData[n]);var o=!i._isExpanded;this.objData[t]._isExpanded=o,this.$emit("on-expand",JSON.parse(JSON.stringify(this.data[t])),o)},selectAll:function(e){for(var t=-1!==this.page?this.rebuildData.slice((this.page-1)*this.pageSize,this.page*this.pageSize):this.rebuildData,i=0;i<t.length;i++)this.objData[t[i]._index]._isDisabled||(this.objData[t[i]._index]._isChecked=e);var n=this.getSelection();e?this.$emit("on-select-all",n):this.$emit("on-select-all-cancel"),this.$emit("on-selection-change",n)},dragDataChange:function(e){this.$emit("on-drag-data-change",e)}},created:function(){this.showSlotHeader=void 0!==this.$slots.header,this.showSlotFooter=void 0!==this.$slots.footer,this.rebuildData=this.makeDataWithSortAndFilter()},mounted:function(){var e=this;e.handleResize(),e.fixedHeader(),e.$nextTick(function(){e.ready=!0})},watch:{height:function(e){this.fixedHeader()},data:{handler:function(){i=1;var e=this.rebuildData.length;this.objData=this.makeObjData(),this.rebuildData=this.makeDataWithSortAndFilter(),this.handleResize(),e||this.fixedHeader()},deep:!0},columns:{handler:function(){n=1,this.cloneColumns=this.makeColumns(),this.rebuildData=this.makeDataWithSortAndFilter(),this.handleResize()},deep:!0}}})}(),function(){Vue.component("tab-pane-component",{name:"JzTabPane",props:{label:String,hidden:Boolean,name:String},template:'<div class="jz-tab-pane" v-show="active"><slot></slot></div>',data:function(){return{index:null}},computed:{tabs:function(){return vue_utils.findComponentUpward(this,"JzTabs")},active:function(){return!this.hidden&&this.tabs.currentName===this.paneName},paneName:function(){return this.name||this.index}},mounted:function(){this.tabs.addPanes(this)}});Vue.component("tabs-component",{name:"JzTabs",components:{tabLabel:{props:["label"],render:function(e){return e("div",this.label)}}},props:{value:{},type:{default:"default"},useScrollbar:{type:Boolean,default:!0}},template:'<div :class="wrapClasses"><div class="tabs-header" v-resize="update"><div class="tabs-nav"><div class="tabs-item" :class="{\'tabs-item-active\': pane.active}" v-for="pane in panes" @click="clickTabHandler(pane.paneName)" v-show="!pane.hidden"><tab-label class="tabs-label" ref="tabs" :label="pane.$slots.label || pane.label"></tab-label></div></div><div class="tabs-bar" :style="barStyles"></div></div><div class="tabs-content"><scrollbar-component v-if="useScrollbar" theme="tabs"><slot></slot></scrollbar-component><slot v-else></slot><div class="tabs-footer"><slot name="footer"></slot></div></div></div>',data:function(){return{panes:[],currentName:this.value,barStyles:{}}},computed:{wrapClasses:function(){var e={"jz-tabs":!0};return e["jz-tabs-"+this.type]=!0,e}},watch:{currentName:function(e){this.$emit("input",e),this.update()},value:function(e){this.currentName=e}},methods:{addPanes:function(e){var t=this.$slots.default.filter(function(e){return 1===e.elm.nodeType&&/JzTabPane/.test(e.componentInstance.$options.name)}).indexOf(e.$vnode);e.index=t,this.panes.splice(t,0,e)},clickTabHandler:function(e){this.currentName=e},update:function(){if(this.$refs.tabs){var e=this.$refs.tabs[this.panes.indexOf(this.panes.filter(function(e){return e.active})[0])];if(e){var t=e.$el;if(t){var i={default:function(){this.barStyles={top:t.offsetTop+"px",height:t.offsetHeight+"px"}},frame:function(){this.barStyles={left:t.offsetLeft+"px",width:t.offsetWidth+"px"}}},n=i[this.type];"function"!=typeof n&&(n=i.default),n.call(this)}}}}},created:function(){!this.currentName&&(this.currentName=0)},mounted:function(){this.$nextTick(this.update)}})}(),function(){var e="jz-tag-group";Vue.component("tag-group-component",{name:"TagGroup",template:'<div :class="classes"><div class="tag-group-wrapper"><tag-component :isfixed="isfixed" :class="itemCls" :type="type" v-for="(item, index) in rebuildValue" :key="item" :index="index" :label="item" :data="data" :ref="refCls(index)"></tag-component><i v-if="renderAddTag" :class="addTagCls" @click="addTag"></i></div><div :class="tagCls" @mousedown.prevent="handleMousedown" v-if="showTips"><template v-if="type == \'product\'"><input-component ref="input" :pattern="inputPattern"></input-component><div class="fill"><div class="fill-item"><i class="fill-img"></i><span>{{ fillText }}</span></div></div></template><template v-else-if="type == \'news\'"><i class="tag-img"></i><input-component ref="input" :pattern="inputPattern"></input-component><div class="fill"><div class="fill-item"><span>{{ fillText }}</span></div></div></template></div></div>',props:{value:{type:Array,default:function(){return[]}},data:{type:Array,default:function(){return[]}},type:{type:String,default:"product"},fillText:{type:String,default:function(){return"product"===this.type?this.productTips:"news"===this.type?this.newsTips:void 0}},isfixed:Boolean},data:function(){return{currentValue:this.value,showTips:!1,rebuildValue:[],childrens:[],productDefaultWidth:118,newsDefaultWidth:120,renderAddTag:!0,productTips:"点击添加分类",newsTips:"点击添加标签"}},computed:{inputPattern:function(){var e="";return"product"===this.type?e="width: "+this.productDefaultWidth+"px;":"news"===this.type&&(e="width: "+this.newsDefaultWidth+"px;",e+="height: 27px; border-radius: 15px;"),e},classes:function(){var e={"jz-tag-group":!0,clearFix:!0};return e},tagCls:function(){var e={"jz-tag":!0};return e["jz-tag-"+this.type]=!0,e},itemCls:function(){return e+"-item"},addTagCls:function(){var e={};return e["tag-group-add-"+this.type]=!0,e}},mounted:function(){var i=this;this.value.length||(this.renderAddTag=!1,this.showTips=!0),this.$on("tag-delete",function(t){var e=this.rebuildValue.filter(function(e){return e!==t});i.$emit("input",e),i.$emit("on-change",e)}),this.$on("tag-blur",function(e){var t=i.rebuildValue.length;""===i.rebuildValue[e]?(i.rebuildValue.splice(t-1,1),i.$emit("input",i.rebuildValue),i.$emit("on-change",i.rebuildValue)):-1!==i.rebuildValue.indexOf(i.rebuildValue[e])&&(i.rebuildValue.splice(t),i.$emit("input",i.rebuildValue),i.$emit("on-change",i.rebuildValue)),i.renderAddTag=!0}),this.updateModel(!0)},created:function(){this.rebuildValue=JSON.parse(JSON.stringify(this.value))},methods:{refCls:function(e){return"tag"+(e+1)},handleMousedown:function(){var e,t=this;this.showTips=!1,this.rebuildValue.push(""),this.rebuildValue.splice(this.rebuildValue.length),e=this.rebuildValue.length,this.$emit("input",this.rebuildValue),setTimeout(function(){t.$refs["tag"+e][0].focus(),t.$refs["tag"+e][0].valueStatus=!0},0)},addTag:function(){var e,t=this;this.rebuildValue.push(""),this.rebuildValue.splice(this.rebuildValue.length),e=this.rebuildValue.length,this.$emit("input",this.rebuildValue),this.renderAddTag=!1,setTimeout(function(){t.$refs["tag"+e][0].handleMousedown(),t.$refs["tag"+e][0].valueStatus=!0},0)},updateModel:function(t){var i=this.value;this.childrens=vue_utils.findComponentsDownward(this,"Tag"),this.childrens&&this.childrens.forEach(function(e){e.model=i,t&&(e.currentValue=e.label,e.group=!0)})},change:function(e){this.rebuildValue=e,this.rebuildValue.splice(this.rebuildValue.length),this.$emit("input",e),this.$emit("on-change",e)}},watch:{value:{handler:function(e){e.length||(this.renderAddTag=!1,this.showTips=!0),this.rebuildValue=JSON.parse(JSON.stringify(this.value)),this.updateModel(!0)}}}})}(),Vue.component("tag-component",{name:"Tag",template:'<div :class="classes"><select-component :isfixed="isfixed" v-if="renderSelect && type == \'product\'" class="tag-select" ref="select" is-tag :style="inputPattern" placement="bottom" filterable filterable-from-tag @on-change="handleChange"><template slot="input"><input-component v-if="!group" ref="input" class="tag-input" :pattern="inputPattern" v-model="currentValue" @on-focus="handleFocus" @on-enter="handleEnter" @on-blur="handleBlur"></input-component><input-component v-if="group" ref="input" class="tag-input" :pattern="inputPattern" v-model="currentValue" @on-focus="handleFocus" @on-enter="handleEnter" @on-blur="handleBlur"></input-component><div v-if="showTips && !group" @mousedown.prevent="handleMousedown" class="fill"><div class="fill-item"><i class="fill-img"></i><span>{{ fillText }}</span></div></div><i @click="handleDelete" :class="tagDeleteCls"></i></template><slot><select-item-component v-for="(item, index) in filteredData" is-tag :value="item" :key="item"><span :title="item">{{ item }}</span></select-item-component></slot></select-component><template v-else-if="type == \'news\'"><i v-if="!group || index === 0" class="tag-img"></i><select-component :isfixed="isfixed" v-if="renderSelect" class="tag-select" ref="select" is-tag :style="inputPattern" placement="bottom" filterable filterable-from-tag @on-change="handleChange"><template slot="input"><input-component v-if="!group" ref="input" class="tag-input" :pattern="inputPattern" v-model="currentValue" @on-focus="handleFocus" @on-enter="handleEnter" @on-blur="handleBlur"></input-component><input-component v-if="group" ref="input" class="tag-input" :maxlength="50" :pattern="inputPattern" v-model="currentValue" @on-focus="handleFocus" @on-enter="handleEnter" @on-blur="handleBlur"></input-component><div v-if="showTips && !group" @mousedown.prevent="handleMousedown" class="fill"><div class="fill-item"><span>{{ fillText }}</span></div></div><i @click="handleDelete" :class="tagDeleteCls"></i></template><slot><select-item-component v-for="(item, index) in filteredData" is-tag :value="item" :key="item"><span :title="item">{{ item }}</span></select-item-component></slot></select-component></template></div>',props:{value:{type:[String,Number],default:""},data:{type:Array,default:function(){return[]}},filterMethod:{type:[Function,Boolean],default:!1},label:[String,Number],index:Number,type:{type:String,default:"product"},fillText:{type:String,default:function(){return"product"===this.type?this.productTips:"news"===this.type?this.newsTips:void 0}},isfixed:Boolean},data:function(){return{model:[],renderSelect:!0,group:!!vue_utils.findComponentUpward(this,"TagGroup"),focusStatus:!1,valueStatus:!1,productFocusWidth:90,productDefaultWidth:118,newsFocusWidth:120,newsDefaultWidth:120,parent:vue_utils.findComponentUpward(this,"TagGroup"),currentValue:vue_utils.findComponentUpward(this,"TagGroup")?this.label:this.value,showTips:!1,productTips:"点击添加分类",newsTips:"点击添加标签"}},computed:{foucsWidth:function(){return"product"===this.type?this.productFocusWidth:"news"===this.type?this.newsFocusWidth:void 0},defaultWidth:function(){return"product"===this.type?this.productDefaultWidth:"news"===this.type?this.newsDefaultWidth:void 0},inputPattern:function(){var e="";return"news"===this.type&&(e="height: 27px; border-radius: 15px;"),this.focusStatus||""!==this.currentValue?e+="width: "+this.foucsWidth+"px; text-align: center;":e+="width: "+this.defaultWidth+"px; text-align: center;",e},classes:function(){var e={"jz-tag":!0};return e["jz-tag-"+this.type]=!0,e},tagDeleteCls:function(){var e={"tag-delete":!0};return e.on=""!==this.currentValue&&!this.focusStatus,e},filteredData:function(){return this.filterMethod?this.data.filter(function(e){return this.filterMethod(this.currentValue,e)}):this.data}},methods:{handleMousedown:function(){var e=this;this.showTips=!1,this.$nextTick(function(){e.$refs.input.focus(),e.$refs.input.$el.click()})},handleChange:function(e){this.currentValue=e,this.$refs.select.model=e,this.$refs.input.blur(),this.$emit("on-select",e)},handleFocus:function(){var e=this;this.focusStatus=!0,this.$nextTick(function(){e.$refs.input.focus(),e.$refs.select.visible=!0})},handleBlur:function(){this.focusStatus=!1,this.valueStatus&&(this.$refs.select.visible=!1,this.group?(-1===this.model.indexOf(this.currentValue)&&(this.model[this.index]=this.currentValue,this.parent.change(this.model)),vue_utils.dispatch(this,"TagGroup","tag-blur",this.index)):this.$emit("on-blur",this.currentValue))},handleEnter:function(){this.$refs.input.blur(),this.$emit("on-enter",this.currentValue)},handleDelete:function(){this.group?vue_utils.dispatch(this,"TagGroup","tag-delete",this.currentValue):(this.currentValue="",this.$refs.select.model="",this.$emit("on-delete",this.currentValue))},updateTagWidthAndTips:function(){var e=this.$refs.input.$el.querySelector("input");""!==this.currentValue||this.focusStatus?(this.showTips=!1,e.style.width=this.foucsWidth+"px"):(this.showTips=!0,e.style.width=this.defaultWidth+"px")},focus:function(){this.$refs.input.focus(),this.$refs.select.visible=!0}},mounted:function(){this.$refs.select.model=this.currentValue,this.group&&(this.parent.updateModel(!0),this.currentValue=this.label),this.updateTagWidthAndTips()},watch:{focusStatus:function(e){this.updateTagWidthAndTips()},showTips:function(e){var t=this;!this.group&&e&&(this.renderSelect=!1,this.$nextTick(function(){t.renderSelect=!0}))},value:function(e){this.currentValue=e},currentValue:function(e){this.valueStatus=!0,this.$refs.select.query=e,this.updateTagWidthAndTips(),this.group||(this.$emit("input",e),this.$emit("on-change",e)),this.group&&!this.focusStatus&&-1===this.model.indexOf(e)&&(this.model[this.index]=e,this.parent.change(this.model))},filteredData:function(e){}}}),function(e){"function"==typeof define&&define.amd?define(e):e()}(function(){"use strict";var e={inject:["defaultValues","values","keyList","fontData","funList"],name:"text-style-settings-family",mounted:function(){var t=this;this.options.forEach(function(e){e.label!==t.values.fontFamily&&-1===e.value.indexOf(t.values.fontFamily)||(t.values.fontFamily=e.value),e.label!==t.defaultValues.fontFamily&&-1===e.value.indexOf(t.defaultValues.fontFamily)||(t.defaultValues.fontFamily=e.value)})},props:{options:{type:Array,default:function(){return[{label:"宋体",value:"SimSun"},{label:"新细明体",value:"PMingLiU"},{label:"仿宋_GB2312",value:"FangSong_GB2312, 仿宋"},{label:"微软雅黑",value:"微软雅黑"},{label:"Arial",value:"Arial"},{label:"隶书",value:"隶书"},{label:"幼圆",value:"幼圆"},{label:"华文楷体",value:"STKaiti"},{label:"方正舒体",value:"方正舒体"},{label:"华文彩云",value:"华文彩云"},{label:"华文行楷",value:"华文行楷"},{label:"华文宋体",value:"华文宋体"},{label:"楷体",value:"楷体,楷体_GB2312, SimKai"},{label:"黑体",value:"黑体, SimHei"},{label:"Tahoma",value:"Tahoma"},{label:"impact",value:"impact"},{label:"Arial Serif",value:"Arial Serif"},{label:"Times New Roman",value:"Times New Roman"},{label:"Georgia",value:"Georgia"},{label:"Garamond",value:"Garamond"},{label:"andale mono",value:"andale mono"},{label:"arial black",value:"arial black, avant garde"},{label:"comic sans ms",value:"comic sans ms"},{label:"甜甜圈",value:"Aa甜甜圈",needTip:!0},{label:"幻影伯爵",value:"字体管家幻影伯爵",needTip:!0},{label:"润行",value:"字体管家润行",needTip:!0},{label:"棉花糖",value:"字体管家棉花糖",needTip:!0},{label:"鬼泣",value:"Aa鬼泣",needTip:!0},{label:"版宋",value:"字体管家版宋",needTip:!0},{label:"夕禾",value:"Aa夕禾",needTip:!0},{label:"思源黑体 Light",value:"思源黑体 CN Light, Source Han Sans CN",needTip:!0},{label:"思源黑体 Medium",value:"思源黑体 CN Medium, Source Han Sans CN",needTip:!0},{label:"思源黑体 Heavy",value:"思源黑体 CN Heavy, Source Han Sans CN",needTip:!0},{label:"思源宋体 Light",value:"思源宋体 CN Light, Source Han Serif SC",needTip:!0},{label:"思源宋体 Medium",value:"思源宋体 CN Medium, Source Han Serif SC",needTip:!0},{label:"思源宋体 Heavy",value:"思源宋体 CN Heavy, Source Han Serif SC",needTip:!0},{label:"站酷高端黑",value:"站酷高端黑",needTip:!0},{label:"站酷酷黑",value:"站酷酷黑",needTip:!0},{label:"站酷快乐体",value:"站酷快乐体2016修订版",needTip:!0},{label:"庞门正道标题体",value:"庞门正道标题体",needTip:!0},{label:"Aa粗圆",value:"AaBiaoTiChuYuan",needTip:!0},{label:"Aa波点",value:"字体管家波点",needTip:!0},{label:"Aa林老师的字",value:"Aa语文老师的字",needTip:!0},{label:"站酷小薇",value:"站酷小薇LOGO体",needTip:!0},{label:"ZCOOL Addict Italic 01",value:"'ZCOOL Addict 01'",needTip:!0},{label:"ZCOOL Addict Italic 02",value:"'ZCOOL Addict Italic 02'",needTip:!0}]}}},data:function(){return{fontFamilyChange:this.funList.fontFamilyChange||function(){}}}},t=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"func_panel_item_wrap"},[i("span",{staticClass:"panel_item_title"},[t._v("字体：")]),t._v(" "),i("select-component",{attrs:{placement:"bottom"},model:{value:t.fontData[t.keyList.fontFamily],callback:function(e){t.$set(t.fontData,t.keyList.fontFamily,e)},expression:"fontData[keyList.fontFamily]"}},[i("select-item-component",{attrs:{value:t.defaultValues.fontFamily},on:{"on-change":t.fontFamilyChange}},[i("span",{style:{fontFamily:t.defaultValues.fontFamily}},[t._v("默认字体")])]),t._v(" "),t._l(t.options,function(e){return i("select-item-component",{key:e.label,attrs:{value:e.value}},[e.needTip?i("tooltip-component",{attrs:{"popper-class":"jz_font_family_tips",content:"当用户字体库中没有下载该字体时，将显示为浏览器默认字体。",placement:"right"}},[i("div",{staticClass:"family_text"},[t._v("\n                    "+t._s(e.label)+"\n                ")])]):i("span",{style:{fontFamily:e.value}},[t._v("\n                    "+t._s(e.label)+"\n            ")])],1)})],2)],1)};t._withStripped=!0;var i,n,o,a,r,s=(o=void 0,a=!(i={render:t,staticRenderFns:[]}),(r=("function"==typeof(n=e)?n.options:n)||{}).__file="/home/faier/svn/res/frontend/component_1_0/packages/text-style-settings/src/family-settings.vue",r.render||(r.render=i.render,r.staticRenderFns=i.staticRenderFns,r._compiled=!0,a&&(r.functional=!0)),r._scopeId=o,r),l={inject:["keyList","fontData","funList"],name:"text-style-settings-size",props:{options:{type:Array,default:function(){return[12,14,16,18,20,24,30,36,48,60,72,84,96,108,120]}}},data:function(){return{sizeChange:this.funList.sizeChange||function(){}}}},c=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"func_panel_item_wrap"},[i("span",{staticClass:"panel_item_title"},[t._v("字号：")]),t._v(" "),i("select-input-component",{staticClass:"font_size_setting",attrs:{unit:"px",min:12,max:120,data:t.options,placement:"bottom",maxdropheight:"188",isfixed:!1},on:{"on-change":t.sizeChange},model:{value:t.fontData[t.keyList.size],callback:function(e){t.$set(t.fontData,t.keyList.size,e)},expression:"fontData[keyList.size]"}})],1)};c._withStripped=!0;var u,d,h,p,f,m=(h=void 0,p=!(u={render:c,staticRenderFns:[]}),(f=("function"==typeof(d=l)?d.options:d)||{}).__file="/home/faier/svn/res/frontend/component_1_0/packages/text-style-settings/src/size-settings.vue",f.render||(f.render=u.render,f.staticRenderFns=u.staticRenderFns,f._compiled=!0,p&&(f.functional=!0)),f._scopeId=h,f),g={inject:["shouldRender","values","includes","keyList","fontData","funList"],name:"font-style-settings-color",data:function(){return{colorRadio:this.keyList.colorRadio||[],colorChange:this.funList.colorChange||function(){},colorTypeChange:this.funList.colorTypeChange||function(){}}},computed:{showColor:function(){return!this.keyList.colorSwitch||!this.colorRadio.length||this.fontData[this.keyList.colorSwitch]}}},v=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"func_panel_item_wrap"},[t.shouldRender("initial-color")?i("div",{staticStyle:{display:"inline-block"}},[i("span",{staticClass:"panel_item_title"},[t._v("颜色：")]),t._v(" "),t.colorRadio&&t.colorRadio.length?i("radio-group-component",{staticClass:"radios",staticStyle:{"line-height":"22px"},on:{"on-change":t.colorTypeChange},model:{value:t.fontData[t.keyList.colorSwitch],callback:function(e){t.$set(t.fontData,t.keyList.colorSwitch,e)},expression:"fontData[keyList.colorSwitch]"}},t._l(t.colorRadio,function(e){return i("radio-component",{key:"colorRadio"+e.value,attrs:{label:e.value}},[t._v("\n                "+t._s(e.label)+"\n            ")])}),1):t._e(),t._v(" "),i("color-picker-v2-component",{directives:[{name:"show",rawName:"v-show",value:t.showColor,expression:"showColor"}],attrs:{options:{openGradientMode:!1}},on:{"on-change":t.colorChange},model:{value:t.fontData[t.keyList.color],callback:function(e){t.$set(t.fontData,t.keyList.color,e)},expression:"fontData[keyList.color]"}})],1):t._e(),t._v(" "),t.shouldRender("active-color")?i("div",{staticStyle:{display:"inline-block"}},[i("span",{staticClass:"panel_item_title",staticStyle:{"margin-left":"15px"}},[t._v("选中：")]),t._v(" "),i("color-picker-v2-component",{attrs:{options:{openGradientMode:!1}},model:{value:t.values.activeColor,callback:function(e){t.$set(t.values,"activeColor",e)},expression:"values.activeColor"}})],1):t._e()])};v._withStripped=!0;var b,y,_,w,x,C=(_=void 0,w=!(b={render:v,staticRenderFns:[]}),(x=("function"==typeof(y=g)?y.options:y)||{}).__file="/home/faier/svn/res/frontend/component_1_0/packages/text-style-settings/src/color-settings.vue",x.render||(x.render=b.render,x.staticRenderFns=b.staticRenderFns,x._compiled=!0,w&&(x.functional=!0)),x._scopeId=_,x),k={name:"text-style-settings-icon",props:{name:String,active:Boolean}},S=function(){var e=this.$createElement;return(this._self._c||e)("span",{staticClass:"icon",class:[this.name,this.active?"active":""]})};S._withStripped=!0;var T,$,z,j,D,I=(T={render:S,staticRenderFns:[]},j=!(z="data-v-a5d0470a"),(D=("function"==typeof($=k)?$.options:$)||{}).__file="/home/faier/svn/res/frontend/component_1_0/packages/text-style-settings/src/icon.vue",D.render||(D.render=T.render,D.staticRenderFns=T.staticRenderFns,D._compiled=!0,j&&(D.functional=!0)),D._scopeId=z,D),P={inject:["values","keyList","fontData","funList"],components:{Icon:I},name:"text-style-settings-bold",computed:{boldActive:{get:function(){return this.fontData[this.keyList.bold]==this.keyList.boldTrue},set:function(e){this.fontData[this.keyList.bold]=e?this.keyList.boldTrue:this.keyList.boldFalse,this.boldChange&&this.boldChange(this.fontData[this.keyList.bold])}},boldChange:function(){return this.funList.boldChange||function(){}}}},E=function(){var t=this,e=t.$createElement;return(t._self._c||e)("icon",{attrs:{name:"bold",active:t.boldActive},nativeOn:{click:function(e){t.boldActive=!t.boldActive}}})};E._withStripped=!0;var A,O,L,F,V,N=(L=void 0,F=!(A={render:E,staticRenderFns:[]}),(V=("function"==typeof(O=P)?O.options:O)||{}).__file="/home/faier/svn/res/frontend/component_1_0/packages/text-style-settings/src/tools/bold-settings.vue",V.render||(V.render=A.render,V.staticRenderFns=A.staticRenderFns,V._compiled=!0,F&&(V.functional=!0)),V._scopeId=L,V),B={inject:["keyList","fontData","funList"],components:{Icon:I},name:"text-style-settings-italics",computed:{italicActive:{get:function(){return console.log("init:"+(this.fontData[this.keyList.italic]==this.keyList.italicTrue)),this.fontData[this.keyList.italic]==this.keyList.italicTrue},set:function(e){console.log("set:"+e),this.fontData[this.keyList.italic]=e?this.keyList.italicTrue:this.keyList.italicFalse,this.bannerTextFunc&&this.bannerTextFunc()}},bannerTextFunc:function(){return this.funList.bannerTextFunc||function(){}}}},H=function(){var t=this,e=t.$createElement;return(t._self._c||e)("icon",{attrs:{name:"italics",active:t.italicActive},nativeOn:{click:function(e){t.italicActive=!t.italicActive}}})};H._withStripped=!0;var R,M,W,U,q,X=(W=void 0,U=!(R={render:H,staticRenderFns:[]}),(q=("function"==typeof(M=B)?M.options:M)||{}).__file="/home/faier/svn/res/frontend/component_1_0/packages/text-style-settings/src/tools/italics-settings.vue",q.render||(q.render=R.render,q.staticRenderFns=R.staticRenderFns,q._compiled=!0,U&&(q.functional=!0)),q._scopeId=W,q),G={inject:["keyList","fontData","funList"],components:{Icon:I},name:"text-style-settings-underline",computed:{decorationActive:{get:function(){return this.fontData[this.keyList.decoration]==this.keyList.decorationTrue},set:function(e){this.fontData[this.keyList.decoration]=e?this.keyList.decorationTrue:this.keyList.decorationFalse,this.bannerTextFunc&&this.bannerTextFunc()}},bannerTextFunc:function(){return this.funList.bannerTextFunc||function(){}}}},Y=function(){var t=this,e=t.$createElement;return(t._self._c||e)("icon",{attrs:{name:"underline",active:t.decorationActive},nativeOn:{click:function(e){t.decorationActive=!t.decorationActive}}})};Y._withStripped=!0;var Q,K,J,Z,ee,te=(J=void 0,Z=!(Q={render:Y,staticRenderFns:[]}),(ee=("function"==typeof(K=G)?K.options:K)||{}).__file="/home/faier/svn/res/frontend/component_1_0/packages/text-style-settings/src/tools/underline-settings.vue",ee.render||(ee.render=Q.render,ee.staticRenderFns=Q.staticRenderFns,ee._compiled=!0,Z&&(ee.functional=!0)),ee._scopeId=J,ee),ie={left:"align_left",center:"align_center",right:"align_right",justify:"align_justify"},ne={inject:["values"],components:{Icon:I},name:"text-style-settings-align",methods:{transformAlignName:function(e){return ie[e]||e}}},oe=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"text_align_wrapper"},[i("select-component",{staticClass:"selects",attrs:{maxdropheight:"185",placement:"bottom"},model:{value:t.values.align,callback:function(e){t.$set(t.values,"align",e)},expression:"values.align"}},[i("select-item-component",{attrs:{value:"left"}},[i("icon",{staticClass:"list_icon",attrs:{name:"align_left"}}),t._v(" "),i("span",{staticClass:"text"},[t._v("左对齐")])],1),t._v(" "),i("select-item-component",{attrs:{value:"center"}},[i("icon",{staticClass:"list_icon",attrs:{name:"align_center"}}),t._v(" "),i("span",{staticClass:"text"},[t._v("居中对齐")])],1),t._v(" "),i("select-item-component",{attrs:{value:"right"}},[i("icon",{staticClass:"list_icon",attrs:{name:"align_right"}}),t._v(" "),i("span",{staticClass:"text"},[t._v("右对齐")])],1),t._v(" "),i("select-item-component",{attrs:{value:"justify"}},[i("icon",{staticClass:"list_icon",attrs:{name:"align_justify"}}),t._v(" "),i("span",{staticClass:"text"},[t._v("两端对齐")])],1)],1),t._v(" "),i("icon",{staticClass:"list_icon list_icon_active",attrs:{name:t.transformAlignName(t.values.align)}})],1)};oe._withStripped=!0;var ae,re,se,le,ce,ue=(ae={render:oe,staticRenderFns:[]},le=!(se="data-v-c22cc654"),(ce=("function"==typeof(re=ne)?re.options:re)||{}).__file="/home/faier/svn/res/frontend/component_1_0/packages/text-style-settings/src/tools/align-settings.vue",ce.render||(ce.render=ae.render,ce.staticRenderFns=ae.staticRenderFns,ce._compiled=!0,le&&(ce.functional=!0)),ce._scopeId=se,ce),de={inject:["defaultValues","values"],components:{Icon:I},name:"text-style-settings-line-height",props:{options:{type:Array,default:function(){return Array(99).fill(null).map(function(e,t){return{label:t+12+"px",value:t+12}})}}}},he=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"line_height_wrapper"},[i("select-component",{staticClass:"selects",attrs:{maxdropheight:"120",placement:"bottom"},model:{value:t.values.lineHeight,callback:function(e){t.$set(t.values,"lineHeight",e)},expression:"values.lineHeight"}},[i("select-item-component",{attrs:{value:t.defaultValues.lineHeight}},[t._v("默认")]),t._v(" "),t._l(t.options,function(e){return i("select-item-component",{key:e.value,attrs:{value:e.value}},[t._v("\n            "+t._s(e.label)+"\n        ")])})],2),t._v(" "),i("icon",{staticClass:"list_icon",attrs:{name:"line_height"}})],1)};he._withStripped=!0;var pe,fe,me,ge,ve,be=(pe={render:he,staticRenderFns:[]},ge=!(me="data-v-3f63b0df"),(ve=("function"==typeof(fe=de)?fe.options:fe)||{}).__file="/home/faier/svn/res/frontend/component_1_0/packages/text-style-settings/src/tools/line-height-settings.vue",ve.render||(ve.render=pe.render,ve.staticRenderFns=pe.staticRenderFns,ve._compiled=!0,ge&&(ve.functional=!0)),ve._scopeId=me,ve),ye={Object:"object",Array:"array",String:"string",Number:"number",Boolean:"boolean"},_e={"[object Object]":ye.Object,"[object Array]":ye.Array,"[object String]":ye.String,"[object Number]":ye.Number,"[object Boolean]":ye.Boolean};function we(e){return _e[Object.prototype.toString.call(e)]}function xe(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return t.reduce(function(e,t){return we(t)===ye.Array?e.push.apply(e,_toConsumableArray(xe.apply(void 0,_toConsumableArray(t)))):e.push(t),e},[])}function Ce(e,t){var i,n=we(e);return!e||!t||n!==ye.Object&&n!==ye.Array?e:(t=xe(t),n===ye.Object?(i=_objectSpread({},e),t.forEach(function(e){return delete i[e]})):i=e.filter(function(e){return-1===t.indexOf(e)}),i)}function ke(t,i){var n,e=we(t);return!t||!i||e!==ye.Object&&e!==ye.Array?t:(i=xe(i),e===ye.Object?(n={},i.forEach(function(e){return n[e]=t[e]})):n=t.filter(function(e){return-1!==i.indexOf(e)}),n)}var Se={inject:["shouldRender","includes","excludes"],name:"text-style-settings-more-tools",components:{BoldSettings:N,ItalicsSettings:X,UnderlineSettings:te,AlignSettings:ue,LineHeightSettings:be},props:{includes:{type:Array,default:function(){return["bold","italics","underline","align","line-height"]}},excludes:{type:Array,default:function(){return[]}}},methods:{pick:ke}},Te=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"func_panel_item_wrap jz_text_edit_panel",staticStyle:{padding:"0"}},[i("div",{staticStyle:{margin:"15px 0","max-width":"70%",height:"18px",overflow:"hidden","letter-spacing":"2px",color:"#e3e2e8"}},[t._v("\n        ------------------------------------------------------------------------\n    ")]),t._v(" "),i("div",{staticClass:"item_line"},[i("span",{staticClass:"panel_item_title"},[t._v("更多：")]),t._v(" "),i("div",{staticStyle:{display:"inline-block","vertical-align":"middle"}},t._l(t.pick(t.includes,["align","bold","italics","line-height","underline"]),function(e){return t.shouldRender(e)?i(e+"-settings",{key:e,tag:"component",staticStyle:{"vertical-align":"middle"}}):t._e()}),1)])])};Te._withStripped=!0;var $e,ze,je,De,Ie,Pe=(je=void 0,De=!($e={render:Te,staticRenderFns:[]}),(Ie=("function"==typeof(ze=Se)?ze.options:ze)||{}).__file="/home/faier/svn/res/frontend/component_1_0/packages/text-style-settings/src/tools/index.vue",Ie.render||(Ie.render=$e.render,Ie.staticRenderFns=$e.staticRenderFns,Ie._compiled=!0,De&&(Ie.functional=!0)),Ie._scopeId=je,Ie),Ee=["family","size","color","tools"],Ae=["bold","italics","underline","align","line-height"],Oe=["initial-color","active-color"],Le={name:"text-style-settings-component",provide:function(){var t=this,e=Object.assign(this.defaultFontData,this.fontData);return{includes:Ce(this.includes,Ee),excludes:Ce(this.excludes,Ee),values:Object.assign(this.valuesForProvide,this.value),defaultValues:_objectSpread({fontFamily:"Microsoft YaHei, 微软雅黑",fontSize:12,color:"rgba(0, 0, 0, 1)",activeColor:"rgba(0, 0, 0, 1)",align:"left",lineHeight:12,boldActive:!1,italicsActive:!1,underlineActive:!1},this.defaultValue),shouldRender:function(e){return t.includes.includes(e)&&!t.excludes.includes(e)},keyList:Object.assign(this.defaultKeyList,this.keyList),fontData:Object.assign(this.fontData,e),funList:this.funList}},components:{FamilySettings:s,SizeSettings:m,ColorSettings:C,ToolsSettings:Pe},props:{includes:{type:Array,default:function(){return[].concat(Ee,Ae,Oe)}},excludes:{type:Array,default:function(){return[]}},defaultRadio:{type:[String,Number],default:"default"},defaultValue:{type:Object,default:function(){return{}}},value:{type:Object,default:function(){return{}}},keyList:{type:Object,default:function(){return[]}},fontData:{type:Object,default:function(){return{}}},funList:{type:Object,default:function(){return{}}},radioOptions:{type:Array,default:function(){return[{label:"默认",value:"default"},{label:"自定义",value:"custom"}]}}},watch:{valuesForProvide:{handler:function(e){this.$emit("input",e)},deep:!0},radio:function(e){this.$emit("radio-change",e),"default"===e||"默认"===this.getRadioOption(e).label?this.$emit("input",Object.assign({fontFamily:"Microsoft YaHei, 微软雅黑",fontSize:12,color:"rgba(0, 0, 0, 1)",activeColor:"rgba(0, 0, 0, 1)",align:"left",lineHeight:12,boldActive:!1,italicsActive:!1,underlineActive:!1},this.defaultValue)):"custom"!==e&&"自定义"!==this.getRadioOption(e).label||this.$emit("input",this.valuesForProvide)}},data:function(){return{topComponents:Ee,toolComponents:Ae,radio:this.defaultRadio,typeChange:this.funList.typeChange||function(){},valuesForProvide:{fontFamily:"微软雅黑",fontSize:12,color:"rgba(0, 0, 0, 1)",activeColor:"rgba(0, 0, 0, 1)",align:"left",lineHeight:"12px",boldActive:!1,italicsActive:!1,underlineActive:!1},defaultFontData:{c:"rgba(0, 0, 0, 1)",y:0,s:12,f:"微软雅黑",w:0},defaultKeyList:{type:"y",color:"c",size:"s",bold:"w",fontFamily:"f",boldTrue:!0,boldFalse:!1}}},methods:{pick:ke,getRadioOption:function(e){for(var t=this.radioOptions,i=0,n=t.length;i<n;i++)if(t[i].value===e)return t[i];return{}}}},Fe=function(){var i=this,e=i.$createElement,n=i._self._c||e;return n("div",{staticClass:"text_style_settings"},[i._t("title"),i._v(" "),n("div",{staticClass:"entity"},[i.radioOptions&&i.radioOptions.length?n("radio-group-component",{staticClass:"radios",style:{marginBottom:"custom"===i.radio||"自定义"===i.getRadioOption(i.radio).label?"10px":0},on:{"on-change":i.typeChange},model:{value:i.fontData[i.keyList.type],callback:function(e){i.$set(i.fontData,i.keyList.type,e)},expression:"fontData[keyList.type]"}},i._l(i.radioOptions,function(e){return n("radio-component",{key:e.value,attrs:{label:e.value}},[i._v("\n                "+i._s(e.label)+"\n            ")])}),1):i._e(),i._v(" "),n("transition",{attrs:{name:"components",appear:""}},["自定义"===i.getRadioOption(i.fontData[i.keyList.type]).label?n("div",i._l(i.pick(i.includes,i.topComponents),function(e,t){return-1===i.excludes.indexOf(e)?n(e+"-settings",{key:e,tag:"component",style:{marginBottom:"tools"===i.pick(i.includes,i.topComponents)[t+1]?0:"20px"}}):i._e()}),1):i._e()])],1)],2)};Fe._withStripped=!0;var Ve,Ne,Be,He,Re,Me=(Ve={render:Fe,staticRenderFns:[]},He=!(Be="data-v-0c8b367a"),(Re=("function"==typeof(Ne=Le)?Ne.options:Ne)||{}).__file="/home/faier/svn/res/frontend/component_1_0/packages/text-style-settings/src/index.vue",Re.render||(Re.render=Ve.render,Re.staticRenderFns=Ve.staticRenderFns,Re._compiled=!0,He&&(Re.functional=!0)),Re._scopeId=Be,Re);Me.install=function(e){e.component(Me.name,Me)},"undefined"!=typeof window&&window.Vue&&Vue.use(Me)}),function(i,e,t,n){i.component("tooltip-component",function(e){var t;e((t=i,{mixins:[n],props:{openDelay:{type:Number,default:0},disabled:Boolean,manual:Boolean,effect:{type:String,default:"default"},popperClass:String,content:String,transition:{type:String,default:""},enterable:{type:Boolean,default:!0},hideAfter:{type:Number,default:0},visibleArrow:{default:!0},popperOptions:{default:function(){return{boundariesPadding:10,gpuAcceleration:!1}}},closeDelay:{type:Number,default:0}},data:function(){return{timeoutPending:null}},beforeCreate:function(){var e=this;this.popperVM=new t({data:{node:""},render:function(){return this.node}}).$mount(),this.debounceClose=function(){setTimeout(function(){e.handleClosePopper()},e.closeDelay)}},render:function(e){var t=this,i="jz_tooltip_popper";if(i+=this.effect?" jz_tooltip_popper_"+this.effect:"",i+=this.popperClass?" "+this.popperClass:"",i+=this.$slots.content?" jz_tooltip_popper_"+this.effect+"__multiline":"",this.popperVM&&(this.popperVM.node=e("transition",{attrs:{name:this.transition},on:{afterLeave:this.doDestroy}},[e("div",{on:{mouseleave:function(){t.setExpectedState(!1),t.debounceClose()},mouseenter:function(){t.setExpectedState(!0)}},ref:"popper",directives:[{name:"show",value:!this.disabled&&this.showPopper}],staticClass:i},[this.$slots.content||this.content])])),!this.$slots.default||!this.$slots.default.length)return this.$slots.default;var n,o=(n=this.$slots.default)&&n.filter(function(e){return e&&e.tag})[0];if(!o)return o;var a=o.data=o.data||{},r=o.data.on=o.data.on||{},s=o.data.nativeOn=o.data.nativeOn||{};return a.staticClass=this.concatClass(a.staticClass,"jz_tooltip"),r.mouseenter=this.addEventHandle(r.mouseenter,this.show),r.mouseleave=this.addEventHandle(r.mouseleave,this.hide),s.mouseenter=this.addEventHandle(s.mouseenter,this.show),s.mouseleave=this.addEventHandle(s.mouseleave,this.hide),o},mounted:function(){this.referenceElm=this.$el},methods:{show:function(){this.setExpectedState(!0),this.handleShowPopper()},hide:function(){this.setExpectedState(!1),this.debounceClose()},addEventHandle:function(e,t){return e?Array.isArray(e)?-1<e.indexOf(t)?e:e.concat(t):e===t?e:[e,t]:t},concatClass:function(e,t){return e&&-1<e.indexOf(t)?e:e?t?e+" "+t:e:t||""},handleShowPopper:function(){var e=this;this.expectedState&&!this.manual&&(clearTimeout(this.timeout),this.timeout=setTimeout(function(){e.showPopper=!0},this.openDelay),0<this.hideAfter&&(this.timeoutPending=setTimeout(function(){e.showPopper=!1},this.hideAfter)))},handleClosePopper:function(){this.enterable&&this.expectedState||this.manual||(clearTimeout(this.timeout),this.timeoutPending&&clearTimeout(this.timeoutPending),this.showPopper=!1)},setExpectedState:function(e){!1===e&&clearTimeout(this.timeoutPending),this.expectedState=e}}}))})}(window.Vue,0,0,function(o){var a=function(e){e.stopPropagation()};return{props:{placement:{type:String,default:"top"},boundariesPadding:{type:Number,default:5},reference:{},popper:{},value:Boolean,visibleArrow:Boolean,transition:String,appendToBody:{type:Boolean,default:!0},popperOptions:{type:Object,default:function(){return{gpuAcceleration:!1}}},offset:{type:Number,default:0}},data:function(){return{showPopper:!1,currentPlacement:""}},watch:{value:{immediate:!0,handler:function(e){this.showPopper=e,this.$emit("input",e)}},showPopper:function(e){e?this.updatePopper():this.destroyPopper(),this.$emit("input",e)}},methods:{createPopper:function(){var e=this;if(!this.$isServer&&(this.currentPlacement=this.currentPlacement||this.placement,/^(top|bottom|left|right)(-start|-end)?$/g.test(this.currentPlacement))){var t=this.popperOptions,i=this.popperElm=this.popperElm||this.popper||this.$refs.popper,n=this.referenceElm=this.referenceElm||this.reference||this.$refs.reference;!n&&this.$slots.reference&&this.$slots.reference[0]&&(n=this.referenceElm=this.$slots.reference[0].elm),i&&n&&(this.visibleArrow&&this.appendArrow(i),this.appendToBody&&document.body.appendChild(this.popperElm),this.popperJS&&this.popperJS.destroy&&this.popperJS.destroy(),t.placement=this.currentPlacement,t.offset=this.offset,this.popperJS=new o(n,i,t),this.popperJS.onCreate(function(){e.$emit("created",e),e.resetTransformOrigin(),e.$nextTick(e.updatePopper)}),"function"==typeof t.onUpdate&&this.popperJS.onUpdate(t.onUpdate),this.popperElm.addEventListener("click",a))}},updatePopper:function(){this.popperJS?this.popperJS.update():this.createPopper()},doDestroy:function(){!this.showPopper&&this.popperJS&&(this.popperJS.destroy(),this.popperJS=null)},destroyPopper:function(){this.popperJS&&this.resetTransformOrigin()},resetTransformOrigin:function(){var e=this.popperJS._popper.getAttribute("x-placement").split("-")[0],t={top:"bottom",bottom:"top",left:"right",right:"left"}[e];this.popperJS._popper.style.transformOrigin=-1<["top","bottom"].indexOf(e)?"center"+t:t+"center"},appendArrow:function(e){var t;if(!this.appended){for(var i in this.appended=!0,e.attributes)if(/^_v-/.test(e.attributes[i].name)){t=e.attributes[i].name;break}var n=document.createElement("div");t&&n.setAttribute(t,""),n.setAttribute("x-arrow",""),n.className="jz_popper_arrow",e.appendChild(n)}}},beforeDestroy:function(){this.doDestroy(),this.popperElm&&this.popperElm.parentNode===document.body&&(this.popperElm.removeEventListener("click",a),document.body.removeChild(this.popperElm))},deactivated:function(){this.$options.beforeDestroy[0].call(this)}}}(window.Popper)),Vue.component("transfer-component",{name:"Transfer",template:'<div class="jz_transfer"><div class="jz_transfer_panel jz_transfer_source"><div class="jz_transfer_operation" :class="operationClasses"><input-component v-model="query" :placeholder="filterLabel" class="jz_transfer_filter" :icon="query.length ? \'jz_transfer_icon_clear\' : \'jz_transfer_icon_search\'" @on-click-clear="clearQuery" @on-click-search="clearQuery"></input-component><i v-if="hasAdd" class="jz_transfer_icon_add" @click="addClickHandler"></i></div><div class="jz_transfer_content"><scrollbar-component theme="transfer" @scroll-end="scrollEndHandler"><ul v-show="!isEmpty" class="jz_transfer_list" ref="sourceDataList"><li v-for="(item, index) in sourceData" class="jz_transfer_item" @click="addToTarget(item)"><div class="jz_transfer_label">{{item[labelAlias]}}</div></li></ul><div v-if="showSpecialData" v-for="(item, index) in totalSpecialData" class="jz_special_lists" ref="sourceSpecialDataList"><label class="special_label" v-if="!!item.list.length">{{item.label}}</label><ul v-if="!!item.list.length" class="jz_special_list"><li v-for="(val, index) in item.list" class="jz_transfer_item" @click="addToTarget(val)"><div class="jz_transfer_label">{{val[labelAlias]}}</div></li></ul></div><div v-show="isEmpty" class="jz_transfer_empty" :class="emptyClasses"><div class="jz_transfer_empty_img"></div><p class="jz_transfer_empty_label">{{emptyLabel}}</p></div></scrollbar-component></div></div><div class="jz_transfer_arrow"><i class="jz_transfer_icon_right"></i></div><div class="jz_transfer_panel jz_transfer_target"><div class="jz_transfer_content"><scrollbar-component theme="transfer"><ul class="jz_transfer_list" :class="{jz_transfer_list_is_unsortable: unSortable}"><draggable :value="filterValue" @input="sortHandler" :options="draggableOptions"><li v-for="(item, index) in targetData" class="jz_transfer_item"><div class="jz_transfer_label">{{item[labelAlias]}}</div><div class="jz_transfer_button" :class="[{\'is-first\': index === 0, \'is-last\': index === targetData.length-1 && index !== 0}]"><i class="jz_transfer_icon_up" :class="{jz_transfer_icon_up_is_hidden: operations.indexOf(\'up\') < 0}" @click="moveHandler(index, index - 1)"></i><i class="jz_transfer_icon_down" :class="{jz_transfer_icon_down_is_hidden: operations.indexOf(\'down\') < 0 || targetData.length == 1}" @click="moveHandler(index, index + 1)"></i><i class="jz_transfer_icon_del" :class="{jz_transfer_icon_del_is_hidden: (operations.indexOf(\'del\') < 0 || noDelData.indexOf(item[keyAlias]) != -1)}" @click="addToSource(item)"></i></div></li></draggable></ul></scrollbar-component></div></div></div>',props:{data:{type:Array},specialData:{type:Array,default:function(){return[]}},noDelData:{type:Array,default:function(){return[]}},value:{type:Array,default:function(){return[]}},keyAlias:{type:String,default:"key"},labelAlias:{type:String,default:"label"},hasAdd:{type:Boolean,default:!0},noDataLabel:{type:String,default:"主人，赶紧添加产品吧"},noMatchLabel:{type:String,default:"没有找到您搜索的文件"},filterLabel:{type:String,default:"搜索产品"},member:{type:Number,validator:function(e){return 100<=e},default:1e4},operations:{type:Array,default:function(){return["up","down","del"]}},unSortable:Boolean},data:function(){return{query:"",batch:1}},computed:{mergeMode:function(){return Array.isArray(this.data[0])},totalData:function(){var e=this.data,t=this.mergeMode,i=[];return i=t?e.reduce(function(e,t,i){return e.concat(t)},[]):e,this.specialData.length&&this.specialData.forEach(function(e){i.concat(e.list)}),i},batchData:function(){var e=this.data,t=this.member,n=this.curBatch;return this.mergeMode?e.reduce(function(e,t,i){return e.concat(i<n?t:[])},[]):e.slice(0,t*n)},sourceData:function(){var n=this.value,o=this.query,a=this.keyAlias,r=this.labelAlias,e=this.batchData,t=this.totalData;return 0<o.length?t.filter(function(e){var t=-1<n.indexOf(e[a]),i=-1<(""+e[r]).indexOf(o);return!t&&i}):e.filter(function(e){return!(-1<n.indexOf(e[a]))})},targetData:function(){for(var o=this.value,e=this.totalData,t=this.specialData,i=this.totalKeys,a=this.keyAlias,r=[],s=null,n=0;n<o.length;n++)void 0!==(s=e[i.indexOf(o[n])])&&r.push(s);return t.length&&t.forEach(function(e){for(var t=e.list,i=0;i<o.length;i++){var n=t.map(function(e){return e[a]});void 0!==(s=t[n.indexOf(o[i])])&&r.push(s)}}),r},totalSpecialData:function(){var n=this.value,o=this.query,a=this.keyAlias,r=this.labelAlias,e=this.specialData,i=[];return e.forEach(function(e){var t={};t.list=e.list.filter(function(e){var t=-1<n.indexOf(e[a]),i=-1<(""+e[r]).indexOf(o);return!t&&i}),t.label=e.label,i.push(t)}),i},filterValue:function(){var t=this;return this.targetData.map(function(e){return e[t.keyAlias]})},totalKeys:function(){var t=this.keyAlias;return this.totalData.map(function(e){return e[t]})},curBatch:function(){var e=this.batch,t=this.maxBatch;return t<e?t:e},maxBatch:function(){var e=this.data,t=this.member;return this.mergeMode?e.length:Math.ceil(e.length/t)},canLoadBatch:function(){var e=this.curBatch,t=this.maxBatch;return!this.query.length&&e<t},isNoData:function(){return 0===this.totalData.length},isNoMatch:function(){var e=this.query,t=this.sourceData,i=this.totalSpecialData;return 0<e.length&&0===t.length&&0===i.length},isEmpty:function(){var e=this.isNoData,t=this.isNoMatch;return e||t},showSpecialData:function(){return!!this.totalSpecialData.length},emptyLabel:function(){var e=this.isNoData,t=this.isNoMatch,i=this.noDataLabel,n=this.noMatchLabel;return e?i:t?n:""},operationClasses:function(){var e={};return e["is-has-add"]=this.hasAdd,e},emptyClasses:function(){var e={};return e["is-no-data"]=this.isNoData&&this.hasAdd&&!this.isNoMatch,e["is-no-match"]=!this.isNoData&&this.isNoMatch,e},draggableOptions:function(){return{disabled:this.unSortable}}},methods:{clearQuery:function(){this.query=""},addToTarget:function(e){var t=this.value.concat(e[this.keyAlias]);this.$emit("input",t)},addToSource:function(e){var t=this.value.concat(),i=this.value.indexOf(e[this.keyAlias]);t.splice(i,1),this.$emit("input",t)},addClickHandler:function(){this.clearQuery(),this.$emit("add-click")},moveHandler:function(e,t){var i=this.targetData,n=i[e]||{},o=i[t]||{};if(targetDataItemKeySource=n[this.keyAlias],targetDataItemKeyTarget=o[this.keyAlias],targetDataItemKeySource&&targetDataItemKeyTarget){var a=this.value.concat(),r=a.indexOf(targetDataItemKeySource),s=a.indexOf(targetDataItemKeyTarget);r<0||s<0||(a[r]=targetDataItemKeyTarget,a[s]=targetDataItemKeySource,this.$emit("input",a))}},sortHandler:function(e){this.$emit("input",e)},scrollEndHandler:function(){this.canLoadBatch&&this.batch++}}});