function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Site.ImageEffect=Site.ImageEffect?Site.ImageEffect:{},function(e,t,i){t.DATA={},t.DATA.imageEffectHtml="<div class='imageEffects imageEffectsAnimate'></div>",t.DATA.KEY={OPT_MODULE_ID:"moduleId",OPT_IMG_EFF_OPTION:"imgEffOption",OPT_TG_OPTION:"tagetOption",OPT_CALLBACK:"callback",OPT_CALLBACK_ARGS:"callbackArgs",FULL_MASK_BG_STYLE:"fmbgs",FULL_MASK_NAME_STYLE:"fmns",FULL_MASK_NAME_ALIG:"fmna",FULL_MASK_DISC_STYLE:"fmds",FULL_MASK_DISC_ALIG:"fmda",FULL_MASK_CUS_BG:"fullMaskCusBg",FULL_MASK_CUS_NAME:"fullMaskCusName",FULL_MASK_CUS_DISC:"fullMaskCusDisc",FULL_MASK_OPEN_DISC:"fullMaskOpenDisc",HALF_MASK_BG_STYLE:"hmbgs",HALF_MASK_DISC_STYLE:"hmds",HALF_MASK_DISC_ALIG:"hmda",HALF_MASK_CUS_BG:"halfMaskCusBg",HALF_MASK_CUS_DISC:"halfMaskCusDisc",HALF_MASK_OPEN_DISC:"halfMaskOpenDisc",ALIG:{CENTER:1,LEFT:2,RIGHT:3}},t.FUNC={BASIC:{},BUS:{},TOOL:{}},t.ITF={cardTd:Site.bindImageEffectCusEvent_photo,moreCardTd:Site.bindImageEffectCusEvent_photo,"photo-container":Site.bindImageEffectCusEvent_photo,photoForm:Site.bindImageEffectCusEvent_photo,photoMarqueeForm:Site.bindImageEffectCusEvent_photo,photoSmallPic_table:Site.bindImageEffectCusEvent_photo,J_list_photos_masonry_item:Site.bindImageEffectCusEvent_photo,J_list_photos_accordion_item:Site.bindImageEffectCusEvent_photo,productTileForm:Site.bindImageEffectCusEvent_product,productMarqueeForm:Site.bindImageEffectCusEvent_product,"product-container":Site.bindImageEffectCusEvent_product,productDoublePicListForm:Site.bindImageEffectCusEvent_product,containerLeft:Site.bindImageEffectCusEvent_product,productHotTextListHot:Site.bindImageEffectCusEvent_product,productPicListForm:Site.bindImageEffectCusEvent_product,floatImg_J:Site.bindImageEffectCusEvent_floatImg}}(jQuery,Site.ImageEffect),function(e,t,i){t.FUNC.TOOL.resetImgEff=function(i,a,o,s){var r=i.targetParent,n=e(a).find("img");0==n.length&&(n=e(a).find(".J_fonticon"));var f=e(n).position().top,p=e(n).position().left,c=e(n).width(),l=e(n).height(),_=e(n).css("margin-left"),T=e(o).css("border-left-width"),d=(e(a).css("padding").replace("px",""),i.paramLayoutType||0),h=i.picScale||0,g=e(a).position().top,m=(e(a).height(),e(a).parent().css("padding-top").replace("px","")),A=i.moduleStyle||-1;_=t.FUNC.TOOL.parsePixelToInt(_),T=t.FUNC.TOOL.parsePixelToInt(T),"photoSmallPic_table"==r&&(p=0,f=0,_=0,c=e(a).width(),l=e(a).height(),e(o).css("z-index",1),e(o).css("left",p+_).css("top",f),e(o).css("width",c-2*T+"px"),e(o).css("height",l-2*T+"px")),"photo-container"!=r&&"product-container"!=r||(5!=s?(8==d&&2==s?e(o).css("left",0).css("top",g-m):2==h&&89==A?e(o).css("top",f):0==h&&30==A?e(o).css("top",f):e(o).css("left",p+_).css("top",f),2!=s&&3!=s&&5!=s||2!=h||e(o).css("left",0)):_>0&&e(o).css("left",p+_))},t.FUNC.TOOL.parsePixelToInt=function(e){return void 0===e||"auto"==e?0:parseInt(e.replace("px"))},t.FUNC.TOOL.colorRgb=function(e){var t="#",i=[];if((e=e.toLowerCase())&&/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(e)){if(4===e.length){for(var a=1;a<4;a+=1)t+=e.slice(a,a+1).concat(e.slice(a,a+1));e=t}for(a=1;a<7;a+=2)i.push(parseInt("0x"+e.slice(a,a+2)));return i.join(",")}return e}}(jQuery,Site.ImageEffect),function(e,t,i){t.FUNC.BUS.bindImgEffCusEvent=function(e,i){"function"==typeof t.ITF[i.targetParent]&&t.ITF[i.targetParent](e,i)},t.FUNC.BUS.ImgEffAnimate=function(i,a,o,s,r){var n={hover:{},leave:{}};e(a).attr("fk_fixed")||(e(s).hasClass("cardDiv")?function(i,a,o){var s,r,n,f=a.effType;if(4==f){var p=e(o).parent(),c=-parseFloat(e(o).css("marginLeft").replace("px",""))||0;cardDivMT=-parseFloat(e(o).css("marginTop").replace("px",""))||0,e(i).css({width:p.width()+"px",height:p.height()+"px",left:c+"px",top:cardDivMT+"px"});var l=e(i).find(".props .propList"),_=e(l).height(),T=e(i).height(),d=(T-_)/2;e(l).css("padding-top",d+"px")}else if(5==f){var i=e(o).find(".imageEffects");s=e(o).parent(),r=e(s).width(),n=e(s).height();var h=e(s).css("margin-left"),g=parseFloat(e(o).css("margin-left").replace("px","")),h=t.FUNC.TOOL.parsePixelToInt(h);e(i).removeClass("imageEffectsAnimate").addClass("imageEffectsAnimate_Half"),e(i).css("width",r);var m=e(l).height(),l=e(i).find(".props .propList"),A=e(i).find(".props .propBuy"),m=e(l).height(),E=parseInt(e(l).css("padding-top")),O=parseInt(e(l).css("margin-bottom"));e(i).parent().find("img").position().left;if(m>0&&(m+=E+O),e(A).length>0){var I=parseInt(e(A).css("margin-top")),u=e(A).height()+I+8;m+=u}e(i).css("height",m+"px"),e(i).css({"padding-left":-g+"px"})}else if(6==f){if(s=e(o).find("img"),r=s.width(),n=s.height(),0==r||0==n)return;e(s).attr("_initWidth",r).attr("_initHeight",n)}else if(7==f){if(s=e(o).find("img"),0==(r=s.width()))return;s.css("width",r+10+"px")}e(i).attr("fk_fixed",1)}(a,o,s):function(t,i){var a=i.effType;if(4==a){var o=e(t).find(".props .propList"),s=e(o).height(),r=e(t).height(),n=(r-s)/2-10;e(o).css("padding-top",n+"px")}if(5==a){var o=e(t).find(".props .propList"),f=e(t).find(".props .propBuy"),p=e(o).height(),c=o.length>0?parseInt(e(o).css("padding-top")):5,l=o.length>0?parseInt(e(o).css("margin-bottom")):10,_=e(t).parent().find("img").position().left,T=e(t).parent().find("img").css("margin-left");if(p+=c+l,e(f).length>0){var d=parseInt(e(f).css("margin-top")),h=e(f).height()+d+8;p+=h}e(t).css({height:p+"px",bottom:"-"+p+"px",left:_+T+"px"})}e(t).attr("fk_fixed",1)}(a,o)),function(i,a,o,s,r){var n,f,p=o.effType,c=1,l=o.imgShapeType||1;e(a).parent().hasClass("cardDiv")&&(f=e(a).parent());if(Fai.isIE6()||Fai.isIE7()||Fai.isIE8()){if(c=o.backgroundType?o.fullmaskBackgroundOpacity:80,o[t.DATA.KEY.FULL_MASK_CUS_BG]){var _=o[t.DATA.KEY.FULL_MASK_BG_STYLE];if("string"==typeof _&&_.length>0){var T=e.parseJSON(_);c="number"==typeof T.o?T.o:80}}c/=100}switch(p){case 2:var d,h,g,m;i.hover.opacity=1,i.leave.opacity=0,2!=l&&4!=l||(h=parseInt(e(a).css("borderWidth")),d=e(r).find(".floatImgWrap").width()-2*h,g=e(r).find(".floatImgWrap img").height(),m=e(r).find(".floatImgWrap img").width(),e(a).css({height:d+"px",width:d+"px",top:"0",left:"0"}),g>m?e(a).css({marginTop:(g-m)/2+"px"}):e(a).css({marginLeft:(m-g)/2+"px"}),4==l&&e(a).css({borderRadius:"50%"}));break;case 3:i.hover.opacity=1,i.leave.opacity=0;break;case 4:i.hover.opacity=c,i.leave.opacity=0;break;case 5:var A;e(a).css("opacity",1),i.hover.bottom=0,a.length>0&&(n=a[0].getBoundingClientRect().height),n=void 0===n?e(a).height():Math.round(n),i.leave.bottom="-"+n+"px",f&&f.length>0&&(A=parseFloat(f.css("margin-top").replace("px",""))||0,i.hover.bottom=-A,i.leave.bottom=-A-e(a).height()+"px");break;case 6:var E=parseInt(e(a).attr("_initWidth")),O=parseInt(e(a).attr("_initHeight"));i.hover.width=E+50,i.hover.height=O+50,8==s?i.hover.margin="-25px":(i.hover["margin-left"]="-25px",i.hover["margin-top"]="-25px"),o.isFontIcon&&(i.hover.fontSize=(E<O?E:O)+50+"px",i.hover.lineHeight=O+50+"px"),i.leave.width=E,i.leave.height=O,8==s?i.leave.margin="0px":(i.leave["margin-left"]="0px",i.leave["margin-top"]="0px"),o.isFontIcon&&(i.leave.fontSize=(E<O?E:O)+"px",i.leave.lineHeight=O+"px");break;case 7:i.hover["margin-left"]="-10px",i.leave["margin-left"]="0px"}}(n,a,o,r,s),Fai.isIE()?"mouseenter"==i?e(a).stop().animate(n.hover,250):"mouseleave"==i&&e(a).stop().animate(n.leave,250):"mouseenter"==i?e(a).css(n.hover):"mouseleave"==i&&e(a).css(n.leave)}}(jQuery,Site.ImageEffect),function(e,t,i){t.FUNC.BASIC.Init=function(i){var a={};a[t.DATA.KEY.OPT_MODULE_ID]=0,a[t.DATA.KEY.OPT_IMG_EFF_OPTION]={},a[t.DATA.KEY.OPT_TG_OPTION]={},a[t.DATA.KEY.OPT_CALLBACK]=void 0,a[t.DATA.KEY.OPT_CALLBACK_ARGS]=void 0;i.moduleId,i.imgEffOption;if(function(i,a){if(0==i.length)return!1;if(0==i[t.DATA.KEY.OPT_MODULE_ID])return!1;return e.extend(a,i),!0}(i,a)){var o=e("#module"+a[t.DATA.KEY.OPT_MODULE_ID]),s=a[t.DATA.KEY.OPT_IMG_EFF_OPTION].effType;if(1!=s&&!Fai.isNull(o)){a[t.DATA.KEY.OPT_TG_OPTION].moduleStyle||(a[t.DATA.KEY.OPT_TG_OPTION].moduleStyle=o.attr("_modulestyle")),0!=o.attr("_intab")&&(t.cashOptions=t.cashOptions||{},t.cashOptions[i.moduleId]=i);var r=e(o).find(".imageEffects"),n=e(o).find("."+a[t.DATA.KEY.OPT_TG_OPTION].target);e(r).length>0&&e(r).remove(),e.each(n,function(e,i){s>1&&s<6?(t.FUNC.BASIC.CreateGE(i,a),t.FUNC.BUS.bindImgEffCusEvent(i,a[t.DATA.KEY.OPT_TG_OPTION]),4!=s&&5!=s||Fai.isNull(a[t.DATA.KEY.OPT_CALLBACK])||a[t.DATA.KEY.OPT_CALLBACK](i,a[t.DATA.KEY.OPT_IMG_EFF_OPTION],a[t.DATA.KEY.OPT_TG_OPTION],a[t.DATA.KEY.OPT_CALLBACK_ARGS])):s<=7&&t.FUNC.BASIC.CreateSP(i,a)}),8==s?Site.hoverChangeImage(e(o)):e(n).off("mouseenter.imageEffectPlugs mouseleave.imageEffectPlugs").on("mouseenter.imageEffectPlugs mouseleave.imageEffectPlugs",function(i){var o,r=e(this).find(".imageEffects");s<6?t.FUNC.TOOL.resetImgEff(a[t.DATA.KEY.OPT_TG_OPTION],this,r,s):s<=8&&0==(r=e(this).find("img")).length&&(r=e(this).find(".J_fonticon")),o="mouseenter"==i.type?"mouseenter":"mouseleave",s>1&&s<=7&&t.FUNC.BUS.ImgEffAnimate(o,r,a[t.DATA.KEY.OPT_IMG_EFF_OPTION],this,a[t.DATA.KEY.OPT_TG_OPTION].paramLayoutType||0)});r=e(o).find(".imageEffects")}}},t.FUNC.BASIC.CreateGE=function(i,a){!function(i,a){var o;Fai.isNull(e(i).find("a"))||0==e(i).find("a").length?(0==(o=e(i).find("img")).length&&(o=e(i).find(".J_fonticon")),o.after(t.DATA.imageEffectHtml)):e(i).find("a").after(t.DATA.imageEffectHtml)}(i),function(i,a){0==e(i).find(".J_photoImgPanel").length&&(e(i).hasClass("floatImg_J_special")?e(i).css("position","relative"):e(i).css("position","relative").css("overflow","hidden"));Fai.isIE6()&&"photoSmallPic_table"==a[t.DATA.KEY.OPT_TG_OPTION].targetParent&&e(i).removeAttr("style");var o=a[t.DATA.KEY.OPT_TG_OPTION].paramLayoutType||0;if(a[t.DATA.KEY.OPT_TG_OPTION].picScale)var s=a[t.DATA.KEY.OPT_TG_OPTION].picScale||0;else var s=a[t.DATA.KEY.OPT_IMG_EFF_OPTION].ns||0;var r,n,f,p,c,l,_,T,d,h,g,m,A,E,O,I=a[t.DATA.KEY.OPT_IMG_EFF_OPTION].effType,u=e(i).find(".imageEffects"),F=2==I?"imageEffects_Border":3==I?"imageEffects_Magnifier":4==I?"imageEffects_FullMaks":5==I?"imageEffects_HalfMaks":"",P={bw:a[t.DATA.KEY.OPT_IMG_EFF_OPTION].borderType?a[t.DATA.KEY.OPT_IMG_EFF_OPTION].borderWidth:1,bs:a[t.DATA.KEY.OPT_IMG_EFF_OPTION].borderType?a[t.DATA.KEY.OPT_IMG_EFF_OPTION].borderStyle:1,bc:a[t.DATA.KEY.OPT_IMG_EFF_OPTION].borderType?a[t.DATA.KEY.OPT_IMG_EFF_OPTION].borderColor:8==o?"#808080":"#000"},v=1==P.bs?"solid":2==P.bs?"dotted":3==P.bs?"dashed":"",S=a[t.DATA.KEY.OPT_IMG_EFF_OPTION][t.DATA.KEY.FULL_MASK_BG_STYLE],C=a[t.DATA.KEY.OPT_IMG_EFF_OPTION][t.DATA.KEY.HALF_MASK_BG_STYLE],y={fbc:a[t.DATA.KEY.OPT_IMG_EFF_OPTION].fullmaskBackgroundColor,fbo:a[t.DATA.KEY.OPT_IMG_EFF_OPTION].fullmaskBackgroundOpacity},b={hbc:a[t.DATA.KEY.OPT_IMG_EFF_OPTION].halfmaskBackgroundColor,hbo:a[t.DATA.KEY.OPT_IMG_EFF_OPTION].halfmaskBackgroundOpacity},D={color:"#555555",opacity:80},L={color:"#000",opacity:85};"photoCard"==a.moduleType||"photoNewCard"==a.moduleType||"photoMoreCard"==a.moduleType?(r=e(i).parent(),n=e(r).width(),f=e(r).height(),p=e(r).css("margin-left"),imgMarginTop=e(r).css("margin-top"),c=e(r).position().top,l=e(r).position().left,g=parseFloat(e(i).css("margin-top").replace("px","")),m=parseFloat(e(i).css("margin-left").replace("px",""))):(_=e(i).position().top,T=e(i).height(),d=e(i).width(),e(i).position().left,h=e(i).parent().css("padding-top"),0==(r=e(i).find("img")).length&&(r=e(i).find(".J_fonticon")),n=e(r).width(),f=e(r).height(),p=e(r).css("margin-left"),c=e(r).position().top,l=e(r).position().left,E=e(i).width(),O=e(i).height());Fai.isIE6()||Fai.isIE7()||Fai.isIE8();var K=a[t.DATA.KEY.OPT_IMG_EFF_OPTION].backgroundType;"object"==_typeof(y)&&K&&(D.color=0!=y.fbc.length?y.fbc:D.color,D.opacity="number"==typeof y.fbo?y.fbo:D.opacity);var N=a[t.DATA.KEY.OPT_IMG_EFF_OPTION][t.DATA.KEY.FULL_MASK_CUS_BG];"string"==typeof S&&0!=S.length&&N&&(S=e.parseJSON(S),D.color=0!=S.c.length?S.c:D.color,D.opacity="number"==typeof S.o?S.o:D.opacity);var M=a[t.DATA.KEY.OPT_IMG_EFF_OPTION].backgroundHalfType;"object"==_typeof(b)&&M&&(L.color=0!=b.hbc.length?b.hbc:L.color,L.opacity="number"==typeof b.hbo?b.hbo:L.opacity);var Y=a[t.DATA.KEY.OPT_IMG_EFF_OPTION][t.DATA.KEY.HALF_MASK_CUS_BG];a[t.DATA.KEY.OPT_IMG_EFF_OPTION][t.DATA.KEY.HALF_MASK_OPEN_DISC];"string"==typeof C&&0!=C.length&&Y&&(C=e.parseJSON(C),L.color=0!=C.c.length?C.c:L.color,L.opacity="number"==typeof C.o?C.o:L.opacity);switch(p=t.FUNC.TOOL.parsePixelToInt(p),h=t.FUNC.TOOL.parsePixelToInt(h),I){case 1:e(u).css("top",c);break;case 2:8==o?(d-=2*P.bw,T-=2*P.bw,A=e(i).css("padding").replace("px",""),n=d+2*A,f=T+2*A,e(u).css("top",_-h)):(n-=2*P.bw,f-=2*P.bw,e(u).css("top",c)),e(u).css({"border-width":P.bw+"px","border-style":v}),e(u)[0].style["border-image-slice"]=P.bw,e(u).css(Site.CompatibleColor.borderStyle(P.bc));break;case 3:e(u).css("top",c),e(u).css("z-index","1");break;case 4:var x=D.color;Site.colorUtils.attachCompatibleStyleToDom(u[0]||u,x),e(u).css("top",c);break;case 5:var x=L.color;(Y||M)&&Site.colorUtils.attachCompatibleStyleToDom(u[0]||u,x),e(u).removeClass("imageEffectsAnimate").addClass("imageEffectsAnimate_Half"),e(u).css("bottom","-"+f+"px");break;case 6:case 7:e(u).css("top",c)}"photoCard"==a.moduleType||"photoNewCard"==a.moduleType||"photoMoreCard"==a.moduleType?5!=I?(e(u).css({top:-g+"px"}),e(u).css({left:-m+"px"})):e(u).css({"padding-left":-m+"px"}):2==I&&8==o?e(u).css("left",0):4!=I||2!=a.imgEffOption.style&&3!=a.imgEffOption.style&&30!=a.imgEffOption.style?e(u).css("left",l+p):e(u).css("left",0);2!=s||2!=I&&3!=I&&5!=I?4!=I||2!=a.imgEffOption.style&&3!=a.imgEffOption.style&&30!=a.imgEffOption.style?(e(u).css("width",n),e(u).css("height",f)):(e(u).css("width",n+2*p),e(u).css("height",f)):(5==I?e(u).css("width",E).css("height",O):2==I?e(u).css("width",E-2*P.bw).css("height",O-2*P.bw):e(u).css("width",E-2).css("height",O-2),e(u).css("left",0));e(u).addClass(F)}(i,a)},t.FUNC.BASIC.CreateSP=function(i,a){!function(i,a){var o,s=e(i).find("img"),r=a[t.DATA.KEY.OPT_IMG_EFF_OPTION];0==s.length&&(s=e(i).find(".J_fonticon"));var n=a[t.DATA.KEY.OPT_TG_OPTION].paramLayoutType||0;if(6==r.effType){var f=e(s).width(),p=e(s).height();if(r.forRefreshPic&&(s.data("realWidth")&&(f=s.data("realWidth")),s.data("realHeight")&&(p=s.data("realHeight"))),0==f||0==p)return;e(s).attr("_initWidth",f).attr("_initHeight",p),o=e(s).parent(),r.spScaleUp?o.hasClass("J_spScaleUp")||('<div class="J_spScaleUp" style="position:relative; overflow:hidden; margin:0px auto;"></div>',o.append('<div class="J_spScaleUp" style="position:relative; overflow:hidden; margin:0px auto;"></div>'),o.find(".J_spScaleUp").append(e(s)).css({width:f,height:p})):o.hasClass("J_spScaleUp")&&(o.parent().append(e(s)),o.remove())}if(7==r.effType){var f=e(s).width();if(0==f)return;8==n?e(s).css("width",f+"px"):e(s).css("width",f+10+"px")}}(i,a),function(i,a){var o=6==a[t.DATA.KEY.OPT_IMG_EFF_OPTION].effType?"imageEffectsAnimate_Magnify":"imageEffectsAnimate_MoveLeft",s=88==a[t.DATA.KEY.OPT_IMG_EFF_OPTION].style||89==a[t.DATA.KEY.OPT_IMG_EFF_OPTION].style||90==a[t.DATA.KEY.OPT_IMG_EFF_OPTION].style,r=6==a[t.DATA.KEY.OPT_IMG_EFF_OPTION].effType||7==a[t.DATA.KEY.OPT_IMG_EFF_OPTION].effType,n=(a[t.DATA.KEY.OPT_TG_OPTION].picScale,e(i).find("img"));0==n.length&&(n=e(i).find(".J_fonticon"));r&&s||e(i).css({overflow:"hidden"});n.addClass(o).css("margin","0px")}(i,a)}}(jQuery,Site.ImageEffect);